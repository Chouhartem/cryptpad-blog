<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>CryptPad&#39;s new Secure Cross-Domain Iframe | CryptPad Blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="CryptPad version 1.14 (Codename Ouroboros) has been released and the most exciting new feature is one you cannot even see. As you may remember from the Security Growing Pains post, Content Security">
<meta name="keywords" content="security,appstore,iframe,media-tag">
<meta property="og:type" content="article">
<meta property="og:title" content="CryptPad&#39;s new Secure Cross-Domain Iframe">
<meta property="og:url" content="https://blog.cryptpad.fr/2017/08/30/CryptPad-s-new-Secure-Cross-Domain-Iframe/index.html">
<meta property="og:site_name" content="CryptPad Blog">
<meta property="og:description" content="CryptPad version 1.14 (Codename Ouroboros) has been released and the most exciting new feature is one you cannot even see. As you may remember from the Security Growing Pains post, Content Security">
<meta property="og:locale" content="default">
<meta property="og:updated_time" content="2018-08-04T09:10:05.991Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="CryptPad&#39;s new Secure Cross-Domain Iframe">
<meta name="twitter:description" content="CryptPad version 1.14 (Codename Ouroboros) has been released and the most exciting new feature is one you cannot even see. As you may remember from the Security Growing Pains post, Content Security">
  
    <link rel="alternate" href="/atom.xml" title="CryptPad Blog" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link rel="stylesheet" href="/css/style.css">
<head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div class="banner" id="banner"></div>
  <div class="banner" id="banner-overlay"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">CryptPad Blog</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
          <a class="main-nav-link" href="https://cryptpad.fr">Use Cryptpad</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://blog.cryptpad.fr"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main"><article id="post-CryptPad-s-new-Secure-Cross-Domain-Iframe" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/08/30/CryptPad-s-new-Secure-Cross-Domain-Iframe/" class="article-date">
  <time datetime="2017-08-30T14:53:00.000Z" itemprop="datePublished">2017-08-30</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      CryptPad&#39;s new Secure Cross-Domain Iframe
    </h1>
  


        
            <span class="article-author">
                by
                Caleb James DeLisle
            </span>
        

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <script src="https://cryptpad.fr/common/media-tag-nacl.min.js"></script>

<p>CryptPad version 1.14 (Codename <a href="https://en.wikipedia.org/wiki/Ouroboros" target="_blank" rel="noopener">Ouroboros</a>) has been released and the most exciting new feature is one you cannot even see. As you may remember from the <a href="/2017/03/06/Security-growing-pains/">Security Growing Pains</a> post, <a href="https://en.wikipedia.org/wiki/Content_Security_Policy" target="_blank" rel="noopener">Content Security Policy</a> is a significant part of CryptPad’s security model, and it is unfortunately incompatible with <a href="https://ckeditor.com/" target="_blank" rel="noopener">CKEditor</a>, the Open Source text editor used in CryptPad.</p>
<p>With this release, we have done a significant re-architecture of the CryptPad codebase. Starting with the /pad/ application, the CryptPad UI has begun a process of moving into an iframe which is hosted on a different domain: <em>sandbox.cryptpad.info</em>. Moving the visual content to a different domain means that even in the event of a <a href="https://en.wikipedia.org/wiki/Cross-site_scripting" target="_blank" rel="noopener">Cross-site scripting</a> security vulnerability, most of your private information such as the pads in your CryptDrive, will not be at risk.</p>
<p>In this version we updated only the /pad/ application to use the cross-domain iframe because it is the only app which requires <em>inline script</em>. This prevented us from using Content Security Policy to block the most significant vector for Cross Site Scripting attacks but now with the cross-domain iframe, such attacks are mitigated.</p>
<p><media-tag src="https://files.cryptpad.fr/blob/b5/b5cd676935a5b23c158f38a84b7f3dfd3dc96ab3aafddd62" data-crypto-key="cryptpad:FBD19VUsNtgIxwjMGSOZcswciQzDixfuBY7dVWVwRG0=" data-attr-width="50%"></media-tag></p>
<p>Going forward, we plan to implement a standardized CryptPad application API so that new applications can be developed, installed and used in CryptPad. Today, the CryptPad API which is exposed to apps such as /pad/ and /code/ is not standardized and there is no clear line between the apps themselves and the CryptPad internals. As we move toward the a standard app API, we will define a standard representation of a CryptPad application with such additional aspects as the app’s color-scheme and icons.</p>
<p>Fundimentally, this unexciting change to CryptPad begins a new phase in development, we plan to move from a set of integrated prepackaged applications to an ecosystem of applications for collaborating on different types of content with the same encryption under the hood.</p>
<h2 id="But-Wait-There’s-more"><a href="#But-Wait-There’s-more" class="headerlink" title="But Wait, There’s more"></a>But Wait, There’s more</h2><p>The pictures in this blog post are not hosted on the blog, they are in fact Zero Knowledge files uploaded on CryptPad. They
can be seen on this blog because it is using the <a href="https://github.com/UCF-project/media-tag" target="_blank" rel="noopener">Media Tag</a> which was developed as part of the UCF Project with the support of <a href="http://www.systematic-paris-region.org/" target="_blank" rel="noopener">Systematic</a>, <a href="https://www.bpifrance.fr/" target="_blank" rel="noopener">BPIFrance</a> and the <a href="https://www.paris.fr/" target="_blank" rel="noopener">City of Paris</a>. </p>
<p><media-tag src="https://files.cryptpad.fr/blob/3c/3c9b5b3fb00b7dc35e15851606132585e8b69b06a51556eb" data-crypto-key="cryptpad:VE4raHL5VFReAXxioTaFZwt6q2jpxX+bdFHAFeoivZQ=" data-attr-width="40%"></media-tag></p>
<p>Media Tag allows files on CryptPad to be included in any website (such as this blog). All you have to do to include a file from CryptPad is simply include the Media Tag loader and then add a Media Tag to your document, just like the following:</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- At the top of your HTML file --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://cryptpad.fr/common/media-tag-nacl.min.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- Where you'd like the image to be located --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">media-tag</span> <span class="attr">src</span>=<span class="string">"https://files.cryptpad.fr/blob/3c/3c9b5b3fb00b7dc35e15851606132585e8b69b06a51556eb"</span> <span class="attr">data-crypto-key</span>=<span class="string">"cryptpad:VE4raHL5VFReAXxioTaFZwt6q2jpxX+bdFHAFeoivZQ="</span>&gt;</span><span class="tag">&lt;/<span class="name">media-tag</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>With this you can embed files from your CryptDrive into any website you want.</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://blog.cryptpad.fr/2017/08/30/CryptPad-s-new-Secure-Cross-Domain-Iframe/" data-id="cjkf7woxc000b954tf44mah1u" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/appstore/">appstore</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/iframe/">iframe</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/media-tag/">media-tag</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/security/">security</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2018/02/23/One-year-of-biweekly-releases/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          One year of biweekly releases
        
      </div>
    </a>
  
  
    <a href="/2017/08/18/CryptPad-s-New-Direction/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">CryptPad&#39;s New Direction</div>
    </a>
  
</nav>

  
</article>


</section>
        
          <aside id="sidebar">
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/analytics/" style="font-size: 10px;">analytics</a> <a href="/tags/appstore/" style="font-size: 10px;">appstore</a> <a href="/tags/chain-of-trust/" style="font-size: 10px;">chain of trust</a> <a href="/tags/cloud/" style="font-size: 10px;">cloud</a> <a href="/tags/css/" style="font-size: 10px;">css</a> <a href="/tags/data/" style="font-size: 10px;">data</a> <a href="/tags/donate/" style="font-size: 13.33px;">donate</a> <a href="/tags/embed/" style="font-size: 10px;">embed</a> <a href="/tags/ethics/" style="font-size: 10px;">ethics</a> <a href="/tags/extensibility/" style="font-size: 10px;">extensibility</a> <a href="/tags/file/" style="font-size: 10px;">file</a> <a href="/tags/funding/" style="font-size: 20px;">funding</a> <a href="/tags/iframe/" style="font-size: 10px;">iframe</a> <a href="/tags/login/" style="font-size: 10px;">login</a> <a href="/tags/lulz/" style="font-size: 10px;">lulz</a> <a href="/tags/media-tag/" style="font-size: 10px;">media-tag</a> <a href="/tags/open-collective/" style="font-size: 10px;">open collective</a> <a href="/tags/open-source/" style="font-size: 10px;">open source</a> <a href="/tags/pdf/" style="font-size: 10px;">pdf</a> <a href="/tags/performance/" style="font-size: 13.33px;">performance</a> <a href="/tags/privacy/" style="font-size: 10px;">privacy</a> <a href="/tags/quality/" style="font-size: 10px;">quality</a> <a href="/tags/release/" style="font-size: 13.33px;">release</a> <a href="/tags/research/" style="font-size: 10px;">research</a> <a href="/tags/roadmap/" style="font-size: 13.33px;">roadmap</a> <a href="/tags/security/" style="font-size: 20px;">security</a> <a href="/tags/shared-worker/" style="font-size: 10px;">shared worker</a> <a href="/tags/signing/" style="font-size: 10px;">signing</a> <a href="/tags/storage/" style="font-size: 10px;">storage</a> <a href="/tags/subresource-integrity/" style="font-size: 10px;">subresource integrity</a> <a href="/tags/upload/" style="font-size: 10px;">upload</a> <a href="/tags/web-worker/" style="font-size: 10px;">web worker</a> <a href="/tags/xss/" style="font-size: 10px;">xss</a> <a href="/tags/zero-knowledge/" style="font-size: 16.67px;">zero knowledge</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/08/">August 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/07/">July 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/06/">June 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/02/">February 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/08/">August 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/07/">July 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/06/">June 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/05/">May 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/04/">April 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/03/">March 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/02/">February 2017</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2018/08/04/CryptPad-funding-status-after-one-month/">CryptPad funding status after one month</a>
          </li>
        
          <li>
            <a href="/2018/07/20/Making-CryptPad-CSS-3-times-faster-by-loading-it-twice/">Making CryptPad CSS 3 times faster, by loading it twice</a>
          </li>
        
          <li>
            <a href="/2018/07/13/CryptPad-Roadmap/">CryptPad Roadmap</a>
          </li>
        
          <li>
            <a href="/2018/07/06/CryptPad-ZeroKnowledge-Free-Software-needs-funding/">CryptPad #ZeroKnowledge Free Software needs funding</a>
          </li>
        
          <li>
            <a href="/2018/06/22/Faster-loads-with-SharedWorker-ServiceWorker/">Faster loads with SharedWorker &amp; ServiceWorker</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>

        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2018 XWiki Labs<br>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
    <a href="https://cryptpad.fr" class="mobile-nav-link">Use Cryptpad</a>
  
</nav>
    

<script src="/js/jquery.min.js"></script>



<script src="/js/script.js"></script>

  </div>
</body>
</html>