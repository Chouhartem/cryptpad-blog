<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>CryptPad Blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="CryptPad Blog">
<meta property="og:url" content="https://blog.cryptpad.org/page/6/index.html">
<meta property="og:site_name" content="CryptPad Blog">
<meta property="og:locale" content="default">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="CryptPad Blog">
  
    <link rel="alternate" href="/atom.xml" title="CryptPad Blog" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link rel="stylesheet" href="/css/style.css">
</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <!-- <div class="banner" id="banner"></div>
  <div class="banner" id="banner-overlay"></div> -->
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <img src="/css/images/CryptPad_logo.svg" class="cp-logo" alt="CryptPad Logo">
      <h1 id="logo-wrap">
        <a href="/" id="logo">CryptPad Blog</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
          <a class="main-nav-link" href="https://cryptpad.fr">Use CryptPad.fr</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://blog.cryptpad.org"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main">
  
    <article id="post-CryptPad-ZeroKnowledge-Free-Software-needs-funding" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/07/06/CryptPad-ZeroKnowledge-Free-Software-needs-funding/" class="article-date">
  <time datetime="2018-07-06T09:07:18.000Z" itemprop="datePublished">2018-07-06</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/07/06/CryptPad-ZeroKnowledge-Free-Software-needs-funding/">CryptPad #ZeroKnowledge Free Software needs funding</a>
    </h1>
  


        
            <span class="article-author">
                by
                Caleb James DeLisle
            </span>
        

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p><a href="http://blog.ludovic.org/xwiki/bin/view/Blog/Aidez%20le%20projet%20libre%20CryptPad" target="_blank" rel="noopener">Version franÃ§aise ? ðŸ‡«ðŸ‡·</a></p>
<p>On October 31, 2014 the CryptPad project was first published, back then it was nothing more than a simple rich text pad and a horribly ugly front page. Since then the project has blossemed with financing from <a href="https://www.xwiki.com/en/" target="_blank" rel="noopener">XWiki SAS</a> and the <a href="https://open-paas.org/" target="_blank" rel="noopener">OpenPaaS::NG</a> research project.</p>
<p>Now we are turning a corner, the OpenPaaS::NG project will end in April of 2019 and in order to keep improving, CryptPad will need new sources of funding.</p>
<p>Until now, the vast majority of CryptPad code has been developed by XWiki SAS and with the future of research financing in question, we want to be completely clear about our intentions. We donâ€™t want to take financing that is incompatible with the open spirit of CryptPad so while we will look for research projects, subscriptions and donations, we want to maintain the community spirit of CryptPad.</p>
<ol>
<li><strong>We will continue to host</strong> <a href="https://cryptpad.fr/" target="_blank" rel="noopener">https://cryptpad.fr/</a>: We want to thank everyone who has subscribed to paid accounts, with your support (currently 1,5K/year) this server pays for itself and we consider this a valuable public service which should continue.</li>
<li><strong>XWiki SAS will continue to fund the team through the OpenPAAS project till the end of the project</strong>. Following this our intention is to try to keep at least 1 developer active on the project (50,000â‚¬ per year) using alternative funding or through new research projects. If we canâ€™t find a research project weâ€™ll evaluate our capacity to keep it alive based on the subscriptions and contributions we have received. </li>
<li><strong>We will begin making the CryptPad finances public</strong>: All of the money that comes in and goes out of the CryptPad project, including the money paid by subscriptions to <a href="https://cryptpad.fr/" target="_blank" rel="noopener">https://cryptpad.fr/</a> will be published so that you can see how the project earns and spend money, and be convinced that itâ€™s worth supporting us. You will be able to follow the projectâ€™s finances by going to <a href="https://opencollective.com/cryptpad" target="_blank" rel="noopener">CryptPad on OpenCollective</a></li>
</ol>
<p>Currently, the funding from our subscriptions and donations is not enough to finance even one developer, nevermind the present team of two. We need your help to grow this revenue through April 2019 and show that this can take over funding even if we donâ€™t find a research project before then. All revenue received till April 2019 will be used to fund development after April 2019.</p>
<h2 id="What-we-would-like-to-do"><a href="#What-we-would-like-to-do" class="headerlink" title="What we would like to do"></a>What we would like to do</h2><p>So far, we have not been very transparent about our roadmap, we have a <a href="https://cryptpad.fr/code/#/1/view/R1kZC1mY9khSsrLCyJT+CA/t5Eey4SVS+TpaZWmhrCTvIP50IzX7GR4gnud9UclR6Y/present/" target="_blank" rel="noopener">tech tree</a> which shows in simple terms what features we would like to have and what technologies need to be developed in order to get those features working.</p>
<p>In the medium term, we would like to see CryptPad evolve into a generic platform with installable apps, a cryptographically enforced access control system, and federation with PGP-compatible messaging.</p>
<ul>
<li><strong>Installable Apps</strong>: There are not a lot of differences between the rich text pad, the code pad, the slide deck and the kanban board. They are all layered on top of the same CryptPad base infrastructure, but still it is not possible to create a new one without changing a few things in the CryptPad core. We would like to change this so that a new app can be added without changing anything else.</li>
<li><strong>Cryptographically enforced Access Controls</strong>: Initially CryptPad had a very simple access control system, you share the link and that shares the pad. We added the ability to <em>publish</em> pads via read-only links and to assign a password to a pad, but we still donâ€™t have the ability to share a pad with a group of people, or importantly, revoke access once it has been given. Traditional access controls are simple because the server is trusted to give and revoke access, however with CryptPad the server doesnâ€™t have access to begin with so it must be done cryptographically. In the context of federation, cryptographic access controls are even more important since servers in the network can be run by anybody.</li>
<li><strong>Federation and Messaging</strong>: The weakness in CryptPad security has always been securely sharing the pad link. Today there are about 150 CryptPad instances installed around the world, and we would like to allow people on different instances to share pads and send eachother messages. Furthermore, since we already have client-side encryption, we could easily extend messaging to support PGP for sharing of pad links and messages.</li>
</ul>
<p>Fundamentally, our goal is as it always has been, to promote Zero Knowledge and an alternative to the Google Docs / Office365 hegemony on cloud office technology. However, this is not something we can do alone, we will need your help to move it forward.</p>
<h2 id="How-you-can-help"><a href="#How-you-can-help" class="headerlink" title="How you can help"></a>How you can help</h2><p>You can help CryptPad in a number of ways, if youâ€™re a programmer then you can contribute code, if youâ€™re a philanthropist and believe in these ideas then you can finance the roadmap or finance just particular features. What everyone can do is use CryptPad and spread the word and show people that it is possible to collaboratively edit documents without giving all the data to the server admins.</p>
<ul>
<li><strong>Contribute code</strong>: If you are a programmer and you are using CryptPad, help make it better, talk to us about what you would like to do with CryptPad and we will do our best to find a way that your code can be integrated.</li>
<li><strong>Take a subscription</strong>: Every subscription helps bring a little more money into the project and this will be re-invested to make the CryptPad project better. Every subscription we get makes us believe more in the project we do and the ability to make it financially sustainable. <a href="https://accounts.cryptpad.fr/" target="_blank" rel="noopener">Subscribe</a>.</li>
<li><strong>Sponsor a feature</strong>: This is one of the best ways to make sure CryptPad will improve because you can both help the project and help guide the project roadmap at the same time.</li>
<li><strong>Get support</strong>: If youâ€™ve installed your own CryptPad in a business setting, you can get support for your installation and also help foster development of the project.</li>
<li><strong>Just donate</strong>: If you donâ€™t know what to sponsor, if you donâ€™t need a subscription, or if you want to sponsor more than the value of a subscription, just donate ! Even if it is not a lot of money, this is important to us as it allows to prove that the project matters. <a href="https://opencollective.com/cryptpad" target="_blank" rel="noopener">Donate on opencollective.com</a></li>
<li><strong>Get us in a funded research project</strong>: If you are a research organization or have experience with getting European research funding, particularly in a security oriented project, get us on board to participate in the project. This will allow us to fund the project.</li>
<li><strong>Spread the word</strong>: The more CryptPad is used and the more itâ€™s known, the more we can convince potential financers to fund the project, this is also proves that people are interested in it. <a href="https://twitter.com/intent/tweet?text=Check%20out%20the%20%40CryptPad%20project%2C%20it%27s%20an%20open%20source%20collaborative%20editor%20and%20drive%20and%20it%27s%20end-to-end%20encrypted%20so%20the%20server%20sees%20nothing.%20%23e2ee%20%23ZeroKnowledge" target="_blank" rel="noopener">Tweet about CryptPad</a></li>
</ul>
<p>To see information about our budget and goals and to make a donation, check out <a href="https://opencollective.com/cryptpad" target="_blank" rel="noopener">CryptPad on OpenCollective</a>.</p>
<h2 id="Come-have-a-chat"><a href="#Come-have-a-chat" class="headerlink" title="Come have a chat"></a>Come have a chat</h2><p>Weâ€™re on <a href="https://twitter.com/cryptpad" target="_blank" rel="noopener">Twitter</a> and <a href="http://social.weho.st/@cryptpad" target="_blank" rel="noopener">Mastodon</a> and we have a CryptPad <a href="https://riot.im/app/#/room/#cryptpad:matrix.xwiki.com" target="_blank" rel="noopener">chat room on Matrix</a>. Come talk with us and participate to help with the project.</p>
<p>If you are a Web or Research professional, are intereted in our objectives and have experience in research, come talk to us as <a href="https://www.xwiki.com/en/jobs/research-and-development-lead" target="_blank" rel="noopener">weâ€™re interested in hiring a person</a> to help us win and execute research projects and guide CryptPad to make it functionally and economically successful.</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://blog.cryptpad.org/2018/07/06/CryptPad-ZeroKnowledge-Free-Software-needs-funding/" data-id="ckp5bc5920009gza8sjdr4xzg" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/funding/">funding</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/zero-knowledge/">zero knowledge</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-Faster-loads-with-SharedWorker-ServiceWorker" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/06/22/Faster-loads-with-SharedWorker-ServiceWorker/" class="article-date">
  <time datetime="2018-06-22T15:51:58.000Z" itemprop="datePublished">2018-06-22</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/06/22/Faster-loads-with-SharedWorker-ServiceWorker/">Faster loads with SharedWorker &amp; ServiceWorker</a>
    </h1>
  


        
            <span class="article-author">
                by
                Caleb James DeLisle
            </span>
        

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>When CryptPad was first created, the only thing to load was the CryptPad code itself and the pad which you were editing. Recently edited pads were remembered in the browserâ€™s <a href="https://developer.mozilla.org/en-US/docs/Web/API/Window/localStorage" target="_blank" rel="noopener">localStorage</a> which was not portable between computers but allowed some recent history to be kept.</p>
<p>However, we wanted to allow people to login and manage their pads on all of their devices so we created the CryptDrive. Anyone who has used CryptPad but never logged in is encouraged to <a href="https://cryptpad.fr/register" target="_blank" rel="noopener">register and login</a> (itâ€™s free) and check out their drive. CryptDrive is basically just a realtime pad containing a JSON structure with links to all of your pads as well as their titles and other information. When you update the title of a pad, it changes the pad itself but it also changes your drive so that you can see the title of the pad in your drive. This is of course not perfect because if someone else changes the title of a pad, your drive will not be updated until you look at the pad again, but doing everything with the server completely blind to the content isnâ€™t easy, and this works reasonably well.</p>
<p>However, CryptDrive causes an additional delay when loading CryptPad because whenever you load a document, you are actually loading two realtime instances. Since the drive is loaded over and over for every pad you view, it was obvious to us that we could make it more efficient using communication inside the browser.</p>
<h2 id="First-idea-Messages-between-tabs"><a href="#First-idea-Messages-between-tabs" class="headerlink" title="First idea: Messages between tabs"></a>First idea: Messages between tabs</h2><p>Tabs (or windows) in a browser which are on the same website are able to <a href="http://krasimirtsonev.com/blog/article/Using-Local-Storage-as-a-communication-channel" target="_blank" rel="noopener">communicate using localStorage</a> and so it seemed like a good solution to just have one tab claim the role of managing the drive and then when another tab is opened, it would message the first. However, this seemingly easy solution becomes a nightmare when you consider what happens when that tab is closed. The drive that everyone is relying on goes away and all of the other tabs are without a drive so they need to <a href="https://martin.kleppmann.com/2016/02/08/how-to-do-distributed-locking.html" target="_blank" rel="noopener">flip a coin</a> to decide which tab should become the keeper of the drive, then that tab needs to download the drive before it can service events, all the while any of the buttons which affect the drive (for instance deleting the pad) cannot possibly function. This idea was soon scrappedâ€¦</p>
<h2 id="Enter-ServiceWorker"><a href="#Enter-ServiceWorker" class="headerlink" title="Enter ServiceWorker"></a>Enter ServiceWorker</h2><p>Recently, the HTML5 working group created a new standard called <a href="https://developer.mozilla.org/en-US/docs/Web/API/ServiceWorker" target="_blank" rel="noopener">ServiceWorker</a> which for someone making a webapp seems like a dream come true. ServiceWorkers:</p>
<ul>
<li>Are side-processes which are created one-per-website and live in the background.</li>
<li>Can intercept HTTP requests from your main javascript (excellent for caching!).</li>
<li>Is suspended when the last tab is closed, and re-launched when the user returns.</li>
<li>Are stored in suspended state even when the browser is turned off.</li>
<li>Supported by <a href="https://caniuse.com/#search=serviceworker" target="_blank" rel="noopener">every modern browser</a>.</li>
</ul>
<p>When the website loads a worker, if the worker is already running it will not load and will instead defer to the existing worker. Communicating between workers and tabs which are on the website is possible via a <a href="https://developer.mozilla.org/en-US/docs/Web/API/Client/postMessage" target="_blank" rel="noopener">postMessage()</a> API and then the ServiceWorker can postMessage() which will reach all tabs that are navigated to the website.</p>
<p>One limitation of this design is versioning. Because the ServiceWorker would stay alive potentially forever, we needed to identify a way to upgrade it if a new version of CryptPad is released. This is quite important for CryptPad as version mismatches can lead to catastrophic conflicts between different browsers working on the same document.</p>
<p>Though updating is non-trivial, we were able to solve it by sending version messages between different components of CryptPad and informing them whether they need to update (or even if they can <em>optionally</em> update). Since this seemed like a solvable problem, we tried creating an experimental implementatiton of ServiceWorkers in CryptPad, and then the fun startedâ€¦</p>
<h3 id="ServiceWorkers-in-Firefox"><a href="#ServiceWorkers-in-Firefox" class="headerlink" title="ServiceWorkers in Firefox"></a>ServiceWorkers in Firefox</h3><p>Since Firefox 48, Firefox has begun following Chromeâ€™s model and running <a href="https://developer.mozilla.org/en-US/Firefox/Multiprocess_Firefox" target="_blank" rel="noopener">different processes</a> for rendering the different tabs in the browser. However, this isolation has a side-effect that when you attempt to launch a ServiceWorker, it <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1438945" target="_blank" rel="noopener">may launch even though one already exists for the same website</a>, because the other one exists in a different tab which happens to be operating in a different process. However, the postMessage() requests from tabs go out to all of the ServiceWorkers so this bug can be worked around.</p>
<p>Unfortunately we encountered some more issues with Firefox which we found not worth debugging. Our CryptDrive is a Javascript object which is represented in the encrypted realtime document as JSON and there is an ES6 <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Proxy" target="_blank" rel="noopener">Proxy</a> object in order to allow every change to the drive to be propagated to the underlying realtime object. In Firefox the proxy did not work when used in a ServiceWorker and at times our ServiceWorker simply stopped running.</p>
<h3 id="Reporting-bugs-in-browsers"><a href="#Reporting-bugs-in-browsers" class="headerlink" title="Reporting bugs in browsers"></a>Reporting bugs in browsers</h3><p>One might think these are great opportunities to report issues with Firefox, and when we find an <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1434278" target="_blank" rel="noopener">issue which we think will affect lots of people</a> especially if it is a regression, we donâ€™t hesitate to report it, but usually it is not clear how to reproduce the issue, whether there might be some error in our usage of the API which is being smoothed over by Chrome, or whether the component being reported on is a priority, in that case rather rain low quality bug reports down upon the poor browser developers, we spend our limited time trying to make CryptPad better. In the case of ServiceWorker in Firefox, our conclusion is that in effect the technology remains experimental and shouldnâ€™t be relied upon.</p>
<h2 id="SharedWorker-to-the-rescue"><a href="#SharedWorker-to-the-rescue" class="headerlink" title="SharedWorker to the rescue"></a>SharedWorker to the rescue</h2><p>Fortunately there is another technology called <a href="https://developer.mozilla.org/en-US/docs/Web/API/SharedWorker" target="_blank" rel="noopener">SharedWorker</a> which is essentially identical to a plain vanilla WebWorker but can communicate with all tabs which are navigated to the site. Unfortunately this technology is only supported in <a href="https://caniuse.com/#feat=sharedworkers" target="_blank" rel="noopener">Chrome and Firefox</a>, but the support for this technology, we found, really works!</p>
<p>However, Firefox still has the <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1438945" target="_blank" rel="noopener">issue</a> with of multiple SharedWorkers being created for multiple tabs, but since this issue is fixable we were able to go ahead with it anyway. For browsers which have no SharedWorker, they would fallback to plain old WebWorker. Though this seems like it would be a problem, it is in fact quite fine because actions done in the drive by another WebWorker are the same as actions done in the drive by another device, they need to be encrypted and sent to the server in order to persist anyway.</p>
<h2 id="Faster-CryptPad"><a href="#Faster-CryptPad" class="headerlink" title="Faster CryptPad"></a>Faster CryptPad</h2><p>Coming in the release on Tuesday June 26, 2018, we will have a new SharedWorker based CryptPad instance, that means when you use Chrome or Firefox, the first time you open CryptPad, it will load your drive, but then every tab you open after that will communicate with the SharedWorker managing the drive and therefore pads will load nearly twice as fast.</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://blog.cryptpad.org/2018/06/22/Faster-loads-with-SharedWorker-ServiceWorker/" data-id="ckp5bc59r000pgza8bkxwrjwb" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/performance/">performance</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/shared-worker/">shared worker</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/web-worker/">web worker</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-Signing-CryptPad" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/06/15/Signing-CryptPad/" class="article-date">
  <time datetime="2018-06-15T06:37:05.000Z" itemprop="datePublished">2018-06-15</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/06/15/Signing-CryptPad/">Signing CryptPad</a>
    </h1>
  


        
            <span class="article-author">
                by
                Caleb James DeLisle
            </span>
        

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>CryptPad was designed with a view that privacy should be default and cryptography should be invisible. In order to do this, we made use of the web-app model so people could just go to cryptpad.fr and immediately begin using the app, no installation necessary. However, this model has a known flaw, the server can decide what client-side code it will send to any given user, allowing a compromized server to serve code with a back-door vulnerability.</p>
<p>Recently, I did an experiment to make CryptPad more secure against these types of attacks by signing the code. CryptPad is a unique webapp, even without considering the encryption aspect. There is no build system, the code we write is exactly the same as what your web browser runs. All of the CryptPad html, javascript and resources are static files which are served by a plain old web server. The data persistance is managed by an API server which the web browser communicates with using an HTML5 WebSocket. Finally, in order to add a layer of security against possible Cross Site Scripting attacks, CryptPad makes use of a <a href="https://blog.cryptpad.fr/2017/08/30/CryptPad-s-new-Secure-Cross-Domain-Iframe/">cross domain iframe</a>, protecting your encryption keys from the majority of the CryptPad code in the same way that your online bank is protected from that sketchy porn site open in another tab.</p>
<p>Since CryptPad has no build system, there are many small javascript files which must be loaded. To do this, CryptPad uses <a href="http://requirejs.org/" target="_blank" rel="noopener">RequireJS</a>. While many small files are generally considered to be bad for website performance, RequireJS uses the HTML5 <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/script" target="_blank" rel="noopener">async attribute</a> to tell the browser not to block loading of other things while waiting for the scripts to load. Secondly, RequireJS also allows version numbers to be added to the script URLs which allows us to cache almost everything in the browser. Finally, we use the <a href="https://en.wikipedia.org/wiki/HTTP/2" target="_blank" rel="noopener">HTTP/2</a> protocol to serve resources because it allows multiple requests to be sent at the same time, while HTTP/2 is incompatible with WebSocket, this is ok because the web-app is served from a different server from the API server.</p>
<h2 id="Chain-of-Trust"><a href="#Chain-of-Trust" class="headerlink" title="Chain of Trust"></a>Chain of Trust</h2><p>Just one corrupted script is enough to render the security of an entire web-app useless, so in CryptPad we needed the signing to cover all javascript files. Fortunately there is a new HTML5 technology called <a href="https://developer.mozilla.org/en-US/docs/Web/Security/Subresource_Integrity" target="_blank" rel="noopener">Subresource Integrity</a> which allows putting the hash of a script in a script tag attribute and makes the browser verify the script before executing it.</p>
<p>Insecure, some.website can serve you anything:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;script</span><br><span class="line">  src=&quot;https://some.website/path/to/script.js&quot;</span><br><span class="line">&gt;&lt;/script&gt;</span><br></pre></td></tr></table></figure>
<p>Secure, only one possible script can be sent by some.website or else the web browser will throw an error and refuse to run the script:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;script</span><br><span class="line">  src=&quot;https://some.website/path/to/script.js&quot;</span><br><span class="line">  integrity=&quot;sha256-G1KwaJYUEDsA1SD/6Wt4z0laskKzIwgqgs5cYH0CW/o=&quot;</span><br><span class="line">&gt;&lt;/script&gt;</span><br></pre></td></tr></table></figure>
<p>So rather than signing every script, I only needed to make a list of hashes of every script, and sign that. What I needed was a way to generate a <em>manifest</em>, and so I developed a small program which could hash all of the javascript files in CryptPad and generate a manifest file. The content of the manifest looks something like this:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&quot;files&quot;: &#123;</span><br><span class="line">  &quot;assert&quot;: &#123;</span><br><span class="line">    &quot;frame&quot;: &#123;</span><br><span class="line">      &quot;frame.js&quot;: &quot;BrN2JNnK4QJCztw3PyRRPAsEwSq5lczTBrRkzdLAFow=&quot;,</span><br><span class="line">      &quot;respond.js&quot;: &quot;yO0KFMHiCdE1fXFWPVaFB+Mmh37OCl/UNPpXrYtWF7A=&quot;</span><br><span class="line">    &#125;,</span><br><span class="line">    &quot;main.js&quot;: &quot;ABf3uhmYVHWaHX6vhK8K2jAUY8XqRjjMJ2FqXVGLZE0=&quot;,</span><br><span class="line">    &quot;translations&quot;: &#123;</span><br><span class="line">      &quot;main.js&quot;: &quot;50Ami2eghyXcGKGYTaDK1vUeEuAEG7kcpvUoCKbUaUU=&quot;</span><br></pre></td></tr></table></figure>
<p>It contains a JSON tree which mirrors the files that are part of the CryptPad codebase and the hashes of the files for the Subresource Integrity check. Once the <code>manifest.js</code> file was created, then I needed a javascript file which would load and verify it. Since the manifest is different every time a new release is made, the verification of the manifest needed to be via <em>signing</em>. The manifest hash was signed along with a version number and those were placed in a file called <code>version.txt</code> and <code>version.txt</code> is loaded using a file called <code>sboot.js</code>. The hash of <code>sboot.js</code> was included directly into the html files which are cached, so <code>sboot.js</code> can never be changed at all.</p>
<h2 id="Loading-process"><a href="#Loading-process" class="headerlink" title="Loading process"></a>Loading process</h2><h3 id="index-html"><a href="#index-html" class="headerlink" title="index.html"></a>index.html</h3><p>First, the browser loads the html file, the html file contains a single script tag loading <code>sboot.js</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;script</span><br><span class="line">  async</span><br><span class="line">  data-bootload=&quot;/customize/template.js&quot;</span><br><span class="line">  src=&quot;/common/sboot.js?ver=8IaxCUqjpzoP7AEPEk%2B%2BVQ%2BBk83mRdXx4dK%2BXvSNPcI%3D&quot;</span><br><span class="line">  integrity=&quot;sha256-8IaxCUqjpzoP7AEPEk++VQ+Bk83mRdXx4dK+XvSNPcI=&quot;</span><br><span class="line">&gt;&lt;/script&gt;</span><br></pre></td></tr></table></figure>
<p>There is a custom attribute called <code>data-bootload</code> which indicates which javascript file should be loaded for that <code>html</code> file.</p>
<h3 id="sboot-js"><a href="#sboot-js" class="headerlink" title="sboot.js"></a>sboot.js</h3><p>When <code>sboot.js</code> gets loaded, it downloads and then verifies <code>version.txt</code> which is a signed message containing the CryptPad version number and the hash of <code>manifest.js</code>. The content that is signed looks something like this:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[85,&quot;h+tOXVmYBWMmiVDylXvnRq28LWRVs6xy+goBwNEELZk=&quot;]</span><br></pre></td></tr></table></figure>
<p>The version number (85) is not the CryptPad version but rather an auto-incrementing number which is stored in the browser localStorage and prevents the server from downgrading the version of CryptPad. After the signature/version check completes successfully, <code>sboot.js</code> loads <code>manifest.js</code> like the following:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;script</span><br><span class="line">  async</span><br><span class="line">  src=&quot;/customize/manifest.js?ver=h%2BtOXVmYBWMmiVDylXvnRq28LWRVs6xy%2BgoBwNEELZk%3D&quot;</span><br><span class="line">  integrity=&quot;sha256-h+tOXVmYBWMmiVDylXvnRq28LWRVs6xy+goBwNEELZk=&quot;</span><br><span class="line">&gt;&lt;/script&gt;</span><br></pre></td></tr></table></figure>
<p>You will notice that the hash is used also in the URL of <code>manifest.js</code>, this allows the server to signal that the files are immutable and can be cached by the browser forever which makes CryptPad load faster next time.</p>
<p>After <code>manifest.js</code> loads, <code>sboot.js</code> finds the hash of <code>require.js</code> in the manifest and then manually loads <code>require.js</code> in the same way. Once <code>require.js</code> is loaded, <code>sboot.js</code> configures require to use the hashes from the manifest for every file it loads, then it uses require to load <code>boot2.js</code>.</p>
<h3 id="boot2-js"><a href="#boot2-js" class="headerlink" title="boot2.js"></a>boot2.js</h3><p>This file is not needed for security, but unlike <code>sboot.js</code>, it can easily be changed from release to release and it contains any code which should be run before the main CryptPad code. Things such as additional requirejs configuration and shims for missing browser APIs are placed here. After <code>boot2.js</code> is complete, it reads the <code>data-bootload</code> attribute from the html file and invokes require to load that.</p>
<h2 id="Further-development"><a href="#Further-development" class="headerlink" title="Further development"></a>Further development</h2><p>While this system provides excellent security, it is still not perfect. If the root html file is compromized then it can alter the chain of trust, or scrap it completely. With a very long cache header, the browser will store the html file essentially forever, but if the user triggers a hard reload with the F5 key, then the cache will be flushed.</p>
<p>The root html file can be signed using pgp and then verified using the <a href="https://github.com/tasn/webext-signed-pages" target="_blank" rel="noopener">signed pages</a> chrome extension. But signed pages is not able to prevent the loading of the website even if the signature is invalid and it only takes 1 second for the keys in localStorage to be leaked.</p>
<p>If the root html file was <em>generated</em> by the server each load, it could contain a secret key which is used to encrypt the keys in the localStorage, thus rendering them unusable if the html file is re-loaded, and meaning that the user must re-enter their password and would then be able to see that the signature on the html file is invalid, however unless signed pages can ignore the key inside of the html file when verifying the signature, it would have to be re-signed every time, pushing the pgp key onto the server, which we are worried about being compromized.</p>
<p>There are also a number of configuration files in the CryptPad project which are in fact javascript files and would thus be signed by the release manager, preventing anyone hosting CryptPad from changing them so it may be a long time before this project is merged into CryptPad mainline, however it is available and you can experiment with it by checking out the <a href="https://github.com/xwiki-labs/cryptpad/tree/code-integrity" target="_blank" rel="noopener">code-integrity</a> branch of the CryptPad project.</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://blog.cryptpad.org/2018/06/15/Signing-CryptPad/" data-id="ckp5bc5ak001agza8dqv27kys" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/chain-of-trust/">chain of trust</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/signing/">signing</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/subresource-integrity/">subresource integrity</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-One-year-of-biweekly-releases" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/02/23/One-year-of-biweekly-releases/" class="article-date">
  <time datetime="2018-02-23T09:07:15.000Z" itemprop="datePublished">2018-02-23</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/02/23/One-year-of-biweekly-releases/">One year of biweekly releases</a>
    </h1>
  


        
            <span class="article-author">
                by
                Aaron MacSween
            </span>
        

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Approximately one year ago, we published an article about our intention to follow a <a href="/2017/02/24/Announcing-biweekly-releases/">biweekly release schedule</a>.
Since then, weâ€™ve thought of every second Tuesday as <em>release day</em>.
Starting with <a href="https://github.com/xwiki-labs/cryptpad/releases/tag/1.0.0" target="_blank" rel="noopener">the letter A</a> on February 21st, 2017 and ending with <a href="https://github.com/xwiki-labs/cryptpad/releases/tag/1.25.0" target="_blank" rel="noopener">the letter Z</a> on January 30th, 2018, we went through the whole latin alphabet.</p>
<p>Throughout this self-imposed regimen, we managed to meet each deadline, though on occasion we had to stay at the office later than usual.
Any time a release was more difficult than expected, we considered what went wrong and added a counter-measure to our release checklist (in CryptPad, naturally).
Each release became easier than the one before, but even so, we found there were some drawbacks to this rigid schedule.</p>
<h2 id="Changing-our-pace"><a href="#Changing-our-pace" class="headerlink" title="Changing our pace"></a>Changing our pace</h2><p>Having a regular rhythm for our releases trained us to break up complex features into components that could be implemented within a two week period.
With that in mind, not all tasks fit neatly within two weeks, and those larger tasks have had a tendency to get pushed to the next release.
So, now that weâ€™ve finished one full year of releases, weâ€™ve started to look more closely at those larger features which weâ€™ve inadvertently neglected.
The tendency to procrastinate on especially difficult features is just another challenge to approach, but itâ€™s been one which is somewhat more difficult to summarize within a <em>to do</em> list.</p>
<p>As of CryptPad v1.26.0, weâ€™re no longer following the strict biweekly schedule.
To be clear, this doesnâ€™t mean weâ€™re slowing down development.
Weâ€™re still <em>working on CryptPad consistently</em>.
We still plan to <em>deliver features to users</em> as soon as they are stable.
We still plan to <em>deploy on Tuesdays</em>, since itâ€™s as early in the week as possible without falling on a Monday and deploying on a Friday is a <em>terrible idea</em>.</p>
<p><img src="/images/iamdevloper_deploy_on_friday.jpeg" alt="Should I release on a Friday?" style="width:50%;"></p>
<p>Some releases might happen in a single week.
Others might take stretch to three weeks or a full month, but weâ€™ll do our best not to take any longer than that.
We try to be as transparent as possible with our plans, and so users should expect each release to also specify the projected date for the following release.</p>
<h2 id="Whatâ€™s-coming-nextâ€¦"><a href="#Whatâ€™s-coming-nextâ€¦" class="headerlink" title="Whatâ€™s coming nextâ€¦"></a>Whatâ€™s coming nextâ€¦</h2><p>In the last year, we tried to find a balance between improving user security through the use of our <a href="2017/08/30/CryptPad-s-new-Secure-Cross-Domain-Iframe/">sandboxing techniques</a>, and implementing the productivity features necessary for people to consider the security improvements an <em>added bonus</em> rather than an impractical ideology.
The core of our philosophy is that <em>security</em> and <em>ease of use</em> must be packaged together in order for tools like CryptPad to benefit users.</p>
<p>While CryptPad is considerably more than a <em>proof-of-concept</em>, we donâ€™t consider it anywhere close to being finished.
As heavy users of CryptPad ourselves, we are aware of its rough edges.
Our community has been very supportive with our continued development, though, so weâ€™re excited to be able to improve the following areas!</p>
<h3 id="Sharing"><a href="#Sharing" class="headerlink" title="Sharing"></a>Sharing</h3><p>We spend a lot of time passing links between each other when collaborating on a project.
In order to do so <em>privately</em>, the sender and the receiver must both use an encrypted messenger, or else the message could be intercepted by a malicious third-party.
The necessity of having to use a second tool makes it so that CryptPad must always be used as <em>part of the solution</em>, rather than solving a userâ€™s problem outright.</p>
<p>Weâ€™d like to approach this problem with two improvements:</p>
<ol>
<li>integrate our existing encrypted messenger better with the rest of CryptPadâ€™s functionality (as per <a href="https://github.com/xwiki-labs/cryptpad/issues/79" target="_blank" rel="noopener">this issue</a>)</li>
<li>develop a method of sharing entire folder structures from a users drive, so that sharing can scale to support large-scale projects, a feature we call <em>Workgroups</em></li>
</ol>
<h3 id="Layered-protection"><a href="#Layered-protection" class="headerlink" title="Layered protection"></a>Layered protection</h3><p>Even if the link for a pad is shared securely, there is the possibility that somebody discovers that link through other (possibly malicious) means.
Weâ€™re interested in developing CryptPadâ€™s basic two-tier permission system (edit/view) to address such concerns.
This could be accomplished in very different ways:</p>
<ul>
<li>add the ability to protect a pad with a password, so that anyone who finds the link must also know a secret value in order to retrieve the padâ€™s history from the server</li>
<li>add the ability to encrypt messages such that only a designated set of users can decrypt them using public-key cryptography</li>
</ul>
<p>So far CryptPad only features a very limited set of cryptographic techniques.
Going forward, we hope to find ways to implement a more granular permission system which does not rely on the server behaving correctly.
Some of these features are more in the realm of <em>applied-cryptography research</em> than <em>web application development</em>, so itâ€™s very likely theyâ€™ll be implemented later, but weâ€™re excited about them nevertheless.</p>
<h3 id="Increased-trustworthiness"><a href="#Increased-trustworthiness" class="headerlink" title="Increased trustworthiness"></a>Increased trustworthiness</h3><p>Even though CryptPad performs its encryption in your browser, there is always the possibility that a compromised server could send malicious code to the browser which would cause it to reveal its secrets.
Weâ€™re interested in developing features which would mitigate these kinds of attacks against users, through a combination of modern browser features like <a href="https://developer.mozilla.org/en-US/docs/Web/Security/Subresource_Integrity" target="_blank" rel="noopener">sub-resource integrity</a>, and perhaps a registry of verified code signatures signed by us, the developers.</p>
<p>Itâ€™s very difficult to make a web application secure against those responsible for delivering its source to your browser.
Weâ€™re actively searching for any kind of technique for securing that makes CryptPad a more robust platform for storing your data privately, even against ourselves.</p>
<h3 id="Password-usability"><a href="#Password-usability" class="headerlink" title="Password usability"></a>Password usability</h3><p>CryptPadâ€™s login system looks quite conventional at first glance, since it has a field for a <em>user-name</em> and <em>password</em> like most other web applications.
Unlike those other applications, we never learn your user-name and password.
Instead, your browser uses those fields to generate a unique secret value which you use to encrypt your drive, and accomplish a range of other tasks.
The downside of this approach is that if a user forgets their username or password, we canâ€™t help them gain access to their documents.
If we could, weâ€™d be able to access their documents ourselves.</p>
<p>Fortunately, weâ€™re not the only team building web applications that use cryptography, and so there has been some research into how to improve password-based workflows without revealing secrets data to the serverâ€™s host (us).
Weâ€™ve already received emails from users whoâ€™ve inadvertently locked themselves out of their accounts with no way to recover their data, and thatâ€™s a situation weâ€™d like to help people avoid, so this is a feature weâ€™re looking forward to offering.</p>
<h3 id="More-applications"><a href="#More-applications" class="headerlink" title="More applications"></a>More applications</h3><p>Lots of users have requested that we add a few more applications to CryptPad, and weâ€™ve been listening!
We plan to add support for spreadsheets, and possibly other applications so that people donâ€™t have to fall back to using an unencrypted CryptPad alternative.</p>
<h3 id="Scalability"><a href="#Scalability" class="headerlink" title="Scalability"></a>Scalability</h3><p>One advantage CryptPad has over other conventional collaboration platforms is that a lot of the difficult computation is run in the usersâ€™ browsers, rather than on our server.
This means that we can support a very large number of clients without a noticeable decrease in performance.
Even so, the number of people using <em>CryptPad.fr</em> and the amount they use it has increased dramatically.</p>
<p>Though excessive popularity is a wonderful problem to have, weâ€™d like to avoid a situation where users have difficulty accessing our service, so improved scalability is something weâ€™d like to work on.</p>
<h2 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h2><p>We havenâ€™t yet decided how long we intend for this release cycle to last, and we donâ€™t have a set list of the exact goals weâ€™d like to accomplish.
Weâ€™re taking a step back to decide where weâ€™d like to go next.</p>
<p>We recognize that CryptPadâ€™s growth over the last year was driven largely by word of mouth between friends and colleagues who care about privacy.
By moving towards a more flexible schedule, we hope to make it easier to adapt to the frequent feedback we receive from people using CryptPad to help them accomplish a multitude of goals.</p>
<p>Weâ€™re very interested in hearing what you think about this change.
Feel free to reach out to us through any of the methods listed on <a href="https://cryptpad.fr/contact.html" target="_blank" rel="noopener">our contact page</a>.</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://blog.cryptpad.org/2018/02/23/One-year-of-biweekly-releases/" data-id="ckp5bc5ad0014gza8715w4kjr" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/release/">release</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/roadmap/">roadmap</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/security/">security</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-CryptPad-s-new-Secure-Cross-Domain-Iframe" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/08/30/CryptPad-s-new-Secure-Cross-Domain-Iframe/" class="article-date">
  <time datetime="2017-08-30T11:23:00.000Z" itemprop="datePublished">2017-08-30</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/08/30/CryptPad-s-new-Secure-Cross-Domain-Iframe/">CryptPad&#39;s new Secure Cross-Domain Iframe</a>
    </h1>
  


        
            <span class="article-author">
                by
                Caleb James DeLisle
            </span>
        

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <script src="https://cryptpad.fr/common/media-tag-nacl.min.js"></script>

<p>CryptPad version 1.14 (Codename <a href="https://en.wikipedia.org/wiki/Ouroboros" target="_blank" rel="noopener">Ouroboros</a>) has been released and the most exciting new feature is one you cannot even see. As you may remember from the <a href="/2017/03/06/Security-growing-pains/">Security Growing Pains</a> post, <a href="https://en.wikipedia.org/wiki/Content_Security_Policy" target="_blank" rel="noopener">Content Security Policy</a> is a significant part of CryptPadâ€™s security model, and it is unfortunately incompatible with <a href="https://ckeditor.com/" target="_blank" rel="noopener">CKEditor</a>, the Open Source text editor used in CryptPad.</p>
<p>With this release, we have done a significant re-architecture of the CryptPad codebase. Starting with the /pad/ application, the CryptPad UI has begun a process of moving into an iframe which is hosted on a different domain: <em>sandbox.cryptpad.info</em>. Moving the visual content to a different domain means that even in the event of a <a href="https://en.wikipedia.org/wiki/Cross-site_scripting" target="_blank" rel="noopener">Cross-site scripting</a> security vulnerability, most of your private information such as the pads in your CryptDrive, will not be at risk.</p>
<p>In this version we updated only the /pad/ application to use the cross-domain iframe because it is the only app which requires <em>inline script</em>. This prevented us from using Content Security Policy to block the most significant vector for Cross Site Scripting attacks but now with the cross-domain iframe, such attacks are mitigated.</p>
<p><media-tag src="https://files.cryptpad.fr/blob/b5/b5cd676935a5b23c158f38a84b7f3dfd3dc96ab3aafddd62" data-crypto-key="cryptpad:FBD19VUsNtgIxwjMGSOZcswciQzDixfuBY7dVWVwRG0=" data-attr-width="50%"></media-tag></p>
<p>Going forward, we plan to implement a standardized CryptPad application API so that new applications can be developed, installed and used in CryptPad. Today, the CryptPad API which is exposed to apps such as /pad/ and /code/ is not standardized and there is no clear line between the apps themselves and the CryptPad internals. As we move toward the a standard app API, we will define a standard representation of a CryptPad application with such additional aspects as the appâ€™s color-scheme and icons.</p>
<p>Fundementally, this unexciting change to CryptPad begins a new phase in development, we plan to move from a set of integrated prepackaged applications to an ecosystem of applications for collaborating on different types of content with the same encryption under the hood.</p>
<h2 id="But-Wait-Thereâ€™s-more"><a href="#But-Wait-Thereâ€™s-more" class="headerlink" title="But Wait, Thereâ€™s more"></a>But Wait, Thereâ€™s more</h2><p>The pictures in this blog post are not hosted on the blog, they are in fact Zero Knowledge files uploaded on CryptPad. They
can be seen on this blog because it is using the <a href="https://github.com/UCF-project/media-tag" target="_blank" rel="noopener">Media Tag</a> which was developed as part of the UCF Project with the support of <a href="http://www.systematic-paris-region.org/" target="_blank" rel="noopener">Systematic</a>, <a href="https://www.bpifrance.fr/" target="_blank" rel="noopener">BPIFrance</a> and the <a href="https://www.paris.fr/" target="_blank" rel="noopener">City of Paris</a>. </p>
<p><media-tag src="https://files.cryptpad.fr/blob/3c/3c9b5b3fb00b7dc35e15851606132585e8b69b06a51556eb" data-crypto-key="cryptpad:VE4raHL5VFReAXxioTaFZwt6q2jpxX+bdFHAFeoivZQ=" data-attr-width="40%"></media-tag></p>
<p>Media Tag allows files on CryptPad to be included in any website (such as this blog). All you have to do to include a file from CryptPad is simply include the Media Tag loader and then add a Media Tag to your document, just like the following:</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- At the top of your HTML file --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://cryptpad.fr/common/media-tag-nacl.min.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- Where you'd like the image to be located --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">media-tag</span> <span class="attr">src</span>=<span class="string">"https://files.cryptpad.fr/blob/3c/3c9b5b3fb00b7dc35e15851606132585e8b69b06a51556eb"</span> <span class="attr">data-crypto-key</span>=<span class="string">"cryptpad:VE4raHL5VFReAXxioTaFZwt6q2jpxX+bdFHAFeoivZQ="</span>&gt;</span><span class="tag">&lt;/<span class="name">media-tag</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>With this you can embed files from your CryptDrive into any website you want.</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://blog.cryptpad.org/2017/08/30/CryptPad-s-new-Secure-Cross-Domain-Iframe/" data-id="ckp5bc59n000lgza8nxigmbe9" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/appstore/">appstore</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/iframe/">iframe</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/media-tag/">media-tag</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/security/">security</a></li></ul>

    </footer>
  </div>
  
</article>



  


  <nav id="page-nav">
    <a class="extend prev" rel="prev" href="/page/5/">Prev</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/4/">4</a><a class="page-number" href="/page/5/">5</a><span class="page-number current">6</span><a class="page-number" href="/page/7/">7</a><a class="page-number" href="/page/8/">8</a><a class="page-number" href="/page/9/">9</a><a class="extend next" rel="next" href="/page/7/">Next</a>
  </nav>

</section>
        
          <aside id="sidebar">
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/FOSDEM/" style="font-size: 10px;">FOSDEM</a> <a href="/tags/administration/" style="font-size: 11.67px;">administration</a> <a href="/tags/analytics/" style="font-size: 10px;">analytics</a> <a href="/tags/appstore/" style="font-size: 10px;">appstore</a> <a href="/tags/award/" style="font-size: 11.67px;">award</a> <a href="/tags/calendar/" style="font-size: 10px;">calendar</a> <a href="/tags/chain-of-trust/" style="font-size: 10px;">chain of trust</a> <a href="/tags/cloud/" style="font-size: 13.33px;">cloud</a> <a href="/tags/communities/" style="font-size: 10px;">communities</a> <a href="/tags/css/" style="font-size: 10px;">css</a> <a href="/tags/data/" style="font-size: 11.67px;">data</a> <a href="/tags/documentation/" style="font-size: 10px;">documentation</a> <a href="/tags/donate/" style="font-size: 18.33px;">donate</a> <a href="/tags/embed/" style="font-size: 10px;">embed</a> <a href="/tags/ethics/" style="font-size: 10px;">ethics</a> <a href="/tags/extensibility/" style="font-size: 10px;">extensibility</a> <a href="/tags/file/" style="font-size: 10px;">file</a> <a href="/tags/forms/" style="font-size: 15px;">forms</a> <a href="/tags/funding/" style="font-size: 20px;">funding</a> <a href="/tags/iframe/" style="font-size: 10px;">iframe</a> <a href="/tags/login/" style="font-size: 10px;">login</a> <a href="/tags/media-tag/" style="font-size: 10px;">media-tag</a> <a href="/tags/ngi/" style="font-size: 15px;">ngi</a> <a href="/tags/open-collective/" style="font-size: 16.67px;">open collective</a> <a href="/tags/open-source/" style="font-size: 15px;">open-source</a> <a href="/tags/pdf/" style="font-size: 10px;">pdf</a> <a href="/tags/performance/" style="font-size: 11.67px;">performance</a> <a href="/tags/presentation/" style="font-size: 11.67px;">presentation</a> <a href="/tags/press/" style="font-size: 10px;">press</a> <a href="/tags/privacy/" style="font-size: 13.33px;">privacy</a> <a href="/tags/quality/" style="font-size: 11.67px;">quality</a> <a href="/tags/release/" style="font-size: 11.67px;">release</a> <a href="/tags/research/" style="font-size: 15px;">research</a> <a href="/tags/roadmap/" style="font-size: 18.33px;">roadmap</a> <a href="/tags/security/" style="font-size: 16.67px;">security</a> <a href="/tags/shared-worker/" style="font-size: 10px;">shared worker</a> <a href="/tags/signing/" style="font-size: 10px;">signing</a> <a href="/tags/social-media/" style="font-size: 10px;">social media</a> <a href="/tags/status-update/" style="font-size: 18.33px;">status update</a> <a href="/tags/status-update-talk-spreadsheet-roadmap/" style="font-size: 10px;">status update, talk, spreadsheet, roadmap</a> <a href="/tags/storage/" style="font-size: 13.33px;">storage</a> <a href="/tags/subresource-integrity/" style="font-size: 10px;">subresource integrity</a> <a href="/tags/talk/" style="font-size: 10px;">talk</a> <a href="/tags/upload/" style="font-size: 10px;">upload</a> <a href="/tags/web-worker/" style="font-size: 10px;">web worker</a> <a href="/tags/xss/" style="font-size: 10px;">xss</a> <a href="/tags/zero-knowledge/" style="font-size: 13.33px;">zero knowledge</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/08/">August 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/06/">June 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/05/">May 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/04/">April 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/03/">March 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/02/">February 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/12/">December 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/07/">July 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/12/">December 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/06/">June 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/05/">May 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/03/">March 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/02/">February 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/12/">December 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/11/">November 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/09/">September 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/08/">August 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/07/">July 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/06/">June 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/02/">February 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/08/">August 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/07/">July 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/06/">June 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/05/">May 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/04/">April 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/03/">March 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/02/">February 2017</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2021/08/26/status-2021-08/">August 2021 status: Forms hackathon and a new social media account</a>
          </li>
        
          <li>
            <a href="/2021/06/29/status-july-2021/">July 2021 status: Research on Forms and file import/export</a>
          </li>
        
          <li>
            <a href="/2021/06/28/status-june-2021/">June 2021 status: Forms and a call to instance administrators</a>
          </li>
        
          <li>
            <a href="/2021/05/26/status-may-2021/">May 2021 status: Communities wrap up and initial work on Forms</a>
          </li>
        
          <li>
            <a href="/2021/04/26/status-april-2021/">April 2021 status: Calendars and a major new research project</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>

        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2021 XWiki Labs<br>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
    <a href="https://cryptpad.fr" class="mobile-nav-link">Use CryptPad.fr</a>
  
</nav>
    

<script src="/js/jquery.min.js"></script>



<script src="/js/script.js"></script>

  </div>
</body>
</html>