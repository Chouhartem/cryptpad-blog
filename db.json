{"meta":{"version":1,"warehouse":"2.2.0"},"models":{"Asset":[{"_id":"source/images/Analytics-uniques.png","path":"images/Analytics-uniques.png","modified":0,"renderable":0},{"_id":"themes/cryptpad/source/favicon.png","path":"favicon.png","modified":0,"renderable":1},{"_id":"source/images/Analytics-peopleleave.png","path":"images/Analytics-peopleleave.png","modified":0,"renderable":0},{"_id":"source/images/Analytics-browserdimensions.png","path":"images/Analytics-browserdimensions.png","modified":0,"renderable":0},{"_id":"source/images/Analytics-padtypes.png","path":"images/Analytics-padtypes.png","modified":0,"renderable":0},{"_id":"source/images/Analytics-createdabandoned.png","path":"images/Analytics-createdabandoned.png","modified":0,"renderable":0},{"_id":"source/images/iamdevloper_deploy_on_friday.jpeg","path":"images/iamdevloper_deploy_on_friday.jpeg","modified":0,"renderable":0},{"_id":"themes/cryptpad/source/css/style.styl","path":"css/style.styl","modified":0,"renderable":1},{"_id":"themes/cryptpad/source/fancybox/fancybox_loading.gif","path":"fancybox/fancybox_loading.gif","modified":0,"renderable":1},{"_id":"themes/cryptpad/source/fancybox/blank.gif","path":"fancybox/blank.gif","modified":0,"renderable":1},{"_id":"themes/cryptpad/source/fancybox/fancybox_loading@2x.gif","path":"fancybox/fancybox_loading@2x.gif","modified":0,"renderable":1},{"_id":"themes/cryptpad/source/fancybox/fancybox_overlay.png","path":"fancybox/fancybox_overlay.png","modified":0,"renderable":1},{"_id":"themes/cryptpad/source/fancybox/fancybox_sprite.png","path":"fancybox/fancybox_sprite.png","modified":0,"renderable":1},{"_id":"themes/cryptpad/source/fancybox/fancybox_sprite@2x.png","path":"fancybox/fancybox_sprite@2x.png","modified":0,"renderable":1},{"_id":"themes/cryptpad/source/fancybox/jquery.fancybox.css","path":"fancybox/jquery.fancybox.css","modified":0,"renderable":1},{"_id":"themes/cryptpad/source/fancybox/jquery.fancybox.pack.js","path":"fancybox/jquery.fancybox.pack.js","modified":0,"renderable":1},{"_id":"themes/cryptpad/source/js/script.js","path":"js/script.js","modified":0,"renderable":1},{"_id":"themes/cryptpad/source/fancybox/jquery.fancybox.js","path":"fancybox/jquery.fancybox.js","modified":0,"renderable":1},{"_id":"source/images/Analytics-activepads.png","path":"images/Analytics-activepads.png","modified":0,"renderable":0},{"_id":"source/images/cryptpad_file_picker.png","path":"images/cryptpad_file_picker.png","modified":0,"renderable":0},{"_id":"themes/cryptpad/source/js/jquery.min.js","path":"js/jquery.min.js","modified":0,"renderable":1},{"_id":"themes/cryptpad/source/css/fonts/SourceCodeProRegular.woff2","path":"css/fonts/SourceCodeProRegular.woff2","modified":0,"renderable":1},{"_id":"themes/cryptpad/source/css/fonts/FontAwesome.otf","path":"css/fonts/FontAwesome.otf","modified":0,"renderable":1},{"_id":"themes/cryptpad/source/css/fonts/fontawesome-webfont.eot","path":"css/fonts/fontawesome-webfont.eot","modified":0,"renderable":1},{"_id":"themes/cryptpad/source/css/fonts/fontawesome-webfont.woff","path":"css/fonts/fontawesome-webfont.woff","modified":0,"renderable":1},{"_id":"themes/cryptpad/source/fancybox/helpers/fancybox_buttons.png","path":"fancybox/helpers/fancybox_buttons.png","modified":0,"renderable":1},{"_id":"themes/cryptpad/source/fancybox/helpers/jquery.fancybox-buttons.js","path":"fancybox/helpers/jquery.fancybox-buttons.js","modified":0,"renderable":1},{"_id":"themes/cryptpad/source/fancybox/helpers/jquery.fancybox-buttons.css","path":"fancybox/helpers/jquery.fancybox-buttons.css","modified":0,"renderable":1},{"_id":"themes/cryptpad/source/fancybox/helpers/jquery.fancybox-media.js","path":"fancybox/helpers/jquery.fancybox-media.js","modified":0,"renderable":1},{"_id":"themes/cryptpad/source/fancybox/helpers/jquery.fancybox-thumbs.js","path":"fancybox/helpers/jquery.fancybox-thumbs.js","modified":0,"renderable":1},{"_id":"themes/cryptpad/source/fancybox/helpers/jquery.fancybox-thumbs.css","path":"fancybox/helpers/jquery.fancybox-thumbs.css","modified":0,"renderable":1},{"_id":"source/images/CryptPad_drive_with_upload.png","path":"images/CryptPad_drive_with_upload.png","modified":0,"renderable":0},{"_id":"themes/cryptpad/source/css/fonts/fontawesome-webfont.ttf","path":"css/fonts/fontawesome-webfont.ttf","modified":0,"renderable":1},{"_id":"source/images/CryptPad_slide_upload_and_preview.png","path":"images/CryptPad_slide_upload_and_preview.png","modified":0,"renderable":0},{"_id":"themes/cryptpad/source/css/fonts/fontawesome-webfont.svg","path":"css/fonts/fontawesome-webfont.svg","modified":0,"renderable":1},{"_id":"themes/cryptpad/source/css/images/banner.jpg","path":"css/images/banner.jpg","modified":0,"renderable":1},{"_id":"source/images/cryptpad_old_mainpage.png","path":"images/cryptpad_old_mainpage.png","modified":0,"renderable":0},{"_id":"source/images/cryptpad_pdf.png","path":"images/cryptpad_pdf.png","modified":0,"renderable":0},{"_id":"source/images/CryptPad-Whitepaper-v1.0.pdf","path":"images/CryptPad-Whitepaper-v1.0.pdf","modified":0,"renderable":0},{"_id":"source/images/cryptpad_new_mainpage.png","path":"images/cryptpad_new_mainpage.png","modified":0,"renderable":0},{"_id":"source/images/Strip-CSS-respect-650-finalenglish1.jpg","path":"images/Strip-CSS-respect-650-finalenglish1.jpg","modified":0,"renderable":0}],"Cache":[{"_id":"source/.DS_Store","hash":"ed01a06d1fea8a9217f5ded5c1a17a6196faca2d","modified":1499427808000},{"_id":"themes/cryptpad/.npmignore","hash":"58d26d4b5f2f94c2d02a4e4a448088e4a2527c77","modified":1487677526000},{"_id":"themes/cryptpad/LICENSE","hash":"c480fce396b23997ee23cc535518ffaaf7f458f8","modified":1487677526000},{"_id":"themes/cryptpad/Gruntfile.js","hash":"71adaeaac1f3cc56e36c49d549b8d8a72235c9b9","modified":1487677526000},{"_id":"themes/cryptpad/README.md","hash":"c7e83cfe8f2c724fc9cac32bd71bb5faf9ceeddb","modified":1487677526000},{"_id":"themes/cryptpad/_config.yml","hash":"6055af329668683fca243fff3f69804bd0e5a2ec","modified":1496405887000},{"_id":"themes/cryptpad/package.json","hash":"85358dc34311c6662e841584e206a4679183943f","modified":1487677526000},{"_id":"source/_posts/Announcing-biweekly-releases.md","hash":"948bf8dba30fc2566d2dd00c1fc90431e30eee2e","modified":1529057194000},{"_id":"source/_posts/Building-mutually-beneficial-relationships.md","hash":"2d578fad209751a83ed899f8a8a8079d0fd5e859","modified":1529057194000},{"_id":"source/_posts/CryptPad-Jackalope-file-upload-pdf-and-pictures.md","hash":"526b483dfaa2d989bfdbb68f93a7819d5c204ac8","modified":1529057194000},{"_id":"source/_posts/CryptPad-Roadmap.md","hash":"09fd268f04eb1bcde396cc4fe33896268f59b47c","modified":1531478754000},{"_id":"source/_posts/CryptPad-ZeroKnowledge-Free-Software-needs-funding.md","hash":"246a0ba7279bf0e5b763be07550988ccd9539a97","modified":1530882662000},{"_id":"source/_posts/CryptPad-s-New-Direction.md","hash":"9bbda04dcfe0d0f2efbc1a2cad31de8b4ba88646","modified":1529057194000},{"_id":"source/_posts/Exciting-news.md","hash":"fb4023fdc6388446262fd3bee54294306e394fad","modified":1529057194000},{"_id":"source/_posts/CryptPad-s-new-Secure-Cross-Domain-Iframe.md","hash":"4d2eea272f1dc7ea73ba2d692e41a70f848ecdfa","modified":1529057194000},{"_id":"source/_posts/CryptPad-use-it-love-it-support-it.md","hash":"df26b83eebeb334d3bd75dfc9151971be4f9e31a","modified":1529057194000},{"_id":"source/_posts/Faster-loads-with-SharedWorker-ServiceWorker.md","hash":"f811ae0c4b2d357bc80acbea41fa26c6bcd4c845","modified":1529696004000},{"_id":"source/_posts/Funding-CryptPad.md","hash":"497cbed4fb07d3d6086cd965139df16a0f2b5236","modified":1529057194000},{"_id":"source/_posts/Making-CryptPad-CSS-3-times-faster-by-loading-it-twice.md","hash":"4cff1c5070db2279bd280afbeac4c342937acd48","modified":1532082432000},{"_id":"source/_posts/One-year-of-biweekly-releases.md","hash":"d35c224de46512d41bd3f5bd42691f1ce2bdbf27","modified":1529057194000},{"_id":"source/_posts/Security-growing-pains.md","hash":"27abd83c283292f0b382ed6a1e3f3d0b2d7f6610","modified":1529057194000},{"_id":"source/_posts/Time-to-Encrypt-the-Cloud.md","hash":"f902d057f06b0eced7e12d83b770d04e71c9056d","modified":1529057194000},{"_id":"source/_posts/What-is-Zero-Knowledge.md","hash":"2eca7c738e8ab2a4af82b605a7f1a2a12ff96780","modified":1529057194000},{"_id":"source/_posts/You-gotta-log-in.md","hash":"ac1bc6e051b18344becb1be30c50821cebfb3612","modified":1529057194000},{"_id":"source/_posts/cryptpad-analytics-what-we-cant-know-what-we-must-know-what-we-want-to-know.md","hash":"00cea38099fe74181d616317357bbcd2751c10ab","modified":1529057194000},{"_id":"source/_posts/Signing-CryptPad.md","hash":"ba855f25e0726b5b855982f502d8edaf29d86d8c","modified":1529057316000},{"_id":"source/images/Analytics-uniques.png","hash":"884a13cd7b4d87a9a29d4b1996f451b1ebbe10f8","modified":1499427835000},{"_id":"themes/cryptpad/languages/default.yml","hash":"3083f319b352d21d80fc5e20113ddf27889c9d11","modified":1487677526000},{"_id":"themes/cryptpad/languages/fr.yml","hash":"84ab164b37c6abf625473e9a0c18f6f815dd5fd9","modified":1487677526000},{"_id":"themes/cryptpad/languages/nl.yml","hash":"12ed59faba1fc4e8cdd1d42ab55ef518dde8039c","modified":1487677526000},{"_id":"themes/cryptpad/languages/no.yml","hash":"965a171e70347215ec726952e63f5b47930931ef","modified":1487677526000},{"_id":"themes/cryptpad/languages/ru.yml","hash":"4fda301bbd8b39f2c714e2c934eccc4b27c0a2b0","modified":1487677526000},{"_id":"themes/cryptpad/languages/zh-TW.yml","hash":"53ce3000c5f767759c7d2c4efcaa9049788599c3","modified":1487677526000},{"_id":"themes/cryptpad/languages/zh-CN.yml","hash":"ca40697097ab0b3672a80b455d3f4081292d1eed","modified":1487677526000},{"_id":"themes/cryptpad/layout/archive.ejs","hash":"2703b07cc8ac64ae46d1d263f4653013c7e1666b","modified":1487677526000},{"_id":"themes/cryptpad/layout/category.ejs","hash":"765426a9c8236828dc34759e604cc2c52292835a","modified":1487677526000},{"_id":"themes/cryptpad/layout/index.ejs","hash":"aa1b4456907bdb43e629be3931547e2d29ac58c8","modified":1487677526000},{"_id":"themes/cryptpad/layout/layout.ejs","hash":"f155824ca6130080bb057fa3e868a743c69c4cf5","modified":1487677526000},{"_id":"themes/cryptpad/layout/post.ejs","hash":"7d80e4e36b14d30a7cd2ac1f61376d9ebf264e8b","modified":1487677526000},{"_id":"themes/cryptpad/layout/page.ejs","hash":"7d80e4e36b14d30a7cd2ac1f61376d9ebf264e8b","modified":1487677526000},{"_id":"themes/cryptpad/scripts/fancybox.js","hash":"aa411cd072399df1ddc8e2181a3204678a5177d9","modified":1487677526000},{"_id":"themes/cryptpad/layout/tag.ejs","hash":"eaa7b4ccb2ca7befb90142e4e68995fb1ea68b2e","modified":1487677526000},{"_id":"themes/cryptpad/source/favicon.png","hash":"d5ae69a3444bd1168656c6228dfca665d6275e9c","modified":1503053871000},{"_id":"source/images/Analytics-peopleleave.png","hash":"4120fbdfebfa316e7a621d5eb245ed4be7bb6c02","modified":1499427900000},{"_id":"source/images/Analytics-browserdimensions.png","hash":"c0c66b8acbe67e492b7c6d3dd1a078ef43bca7e8","modified":1499427862000},{"_id":"source/images/Analytics-padtypes.png","hash":"c7ef05f1428c62b1566125feef1dfa6fa9d0428b","modified":1499427791000},{"_id":"source/images/Analytics-createdabandoned.png","hash":"a4de46b57f69f2204e2e1b3adfba872ba2112abf","modified":1499427877000},{"_id":"themes/cryptpad/layout/_partial/after-footer.ejs","hash":"74306a4b27b188ea6a7006ba36f28dc43b382356","modified":1487677526000},{"_id":"source/images/iamdevloper_deploy_on_friday.jpeg","hash":"33335b53137aacb247390c9524f10cfef82eaf4c","modified":1529057194000},{"_id":"themes/cryptpad/layout/_partial/archive-post.ejs","hash":"c7a71425a946d05414c069ec91811b5c09a92c47","modified":1487677526000},{"_id":"themes/cryptpad/layout/_partial/archive.ejs","hash":"f5af1c035392c69c92db8ad9106efdd55f5cb8b8","modified":1529057194000},{"_id":"themes/cryptpad/layout/_partial/article.ejs","hash":"11fae0f45713bd14a1ab832b110fb0cf2a620286","modified":1487677526000},{"_id":"themes/cryptpad/layout/_partial/footer.ejs","hash":"6dd0503a764cfff4b36bde74b99ccd60a7341adc","modified":1487677526000},{"_id":"themes/cryptpad/layout/_partial/head.ejs","hash":"17570240e71f3e7349de55cfd279b0116445ca1a","modified":1487677526000},{"_id":"themes/cryptpad/layout/_partial/header.ejs","hash":"b040350be87a07216969ef8e8e3982cd3f224fe3","modified":1487677526000},{"_id":"themes/cryptpad/layout/_partial/google-analytics.ejs","hash":"f921e7f9223d7c95165e0f835f353b2938e40c45","modified":1487677526000},{"_id":"themes/cryptpad/layout/_partial/mobile-nav.ejs","hash":"e952a532dfc583930a666b9d4479c32d4a84b44e","modified":1487677526000},{"_id":"themes/cryptpad/layout/_widget/archive.ejs","hash":"beb4a86fcc82a9bdda9289b59db5a1988918bec3","modified":1487677526000},{"_id":"themes/cryptpad/layout/_partial/sidebar.ejs","hash":"deac83c505f485804d66c87983ec91f736dbc5c7","modified":1487788443000},{"_id":"themes/cryptpad/layout/_widget/category.ejs","hash":"dd1e5af3c6af3f5d6c85dfd5ca1766faed6a0b05","modified":1487677526000},{"_id":"themes/cryptpad/layout/_widget/recent_posts.ejs","hash":"0d4f064733f8b9e45c0ce131fe4a689d570c883a","modified":1487677526000},{"_id":"themes/cryptpad/layout/_widget/tag.ejs","hash":"2de380865df9ab5f577f7d3bcadf44261eb5faae","modified":1487677526000},{"_id":"themes/cryptpad/layout/_widget/tagcloud.ejs","hash":"b4a2079101643f63993dcdb32925c9b071763b46","modified":1487677526000},{"_id":"themes/cryptpad/source/css/_extend.styl","hash":"222fbe6d222531d61c1ef0f868c90f747b1c2ced","modified":1487677526000},{"_id":"themes/cryptpad/source/css/_variables.styl","hash":"6641abb05df26faead33d7109a0bc29f1eebffec","modified":1487677526000},{"_id":"themes/cryptpad/source/css/style.styl","hash":"a1defbdd0be13375a4bd899f711d196442156ca7","modified":1487677526000},{"_id":"themes/cryptpad/source/fancybox/fancybox_loading.gif","hash":"1a755fb2599f3a313cc6cfdb14df043f8c14a99c","modified":1487677526000},{"_id":"themes/cryptpad/source/fancybox/blank.gif","hash":"2daeaa8b5f19f0bc209d976c02bd6acb51b00b0a","modified":1487677526000},{"_id":"themes/cryptpad/source/fancybox/fancybox_loading@2x.gif","hash":"273b123496a42ba45c3416adb027cd99745058b0","modified":1487677526000},{"_id":"themes/cryptpad/source/fancybox/fancybox_overlay.png","hash":"b3a4ee645ba494f52840ef8412015ba0f465dbe0","modified":1487677526000},{"_id":"themes/cryptpad/source/fancybox/fancybox_sprite.png","hash":"17df19f97628e77be09c352bf27425faea248251","modified":1487677526000},{"_id":"themes/cryptpad/source/fancybox/fancybox_sprite@2x.png","hash":"30c58913f327e28f466a00f4c1ac8001b560aed8","modified":1487677526000},{"_id":"themes/cryptpad/source/fancybox/jquery.fancybox.css","hash":"aaa582fb9eb4b7092dc69fcb2d5b1c20cca58ab6","modified":1487677526000},{"_id":"themes/cryptpad/source/fancybox/jquery.fancybox.pack.js","hash":"9e0d51ca1dbe66f6c0c7aefd552dc8122e694a6e","modified":1487677526000},{"_id":"themes/cryptpad/source/js/script.js","hash":"5c2625f67426d270ac99637d228b8413196c3e62","modified":1487677526000},{"_id":"themes/cryptpad/source/fancybox/jquery.fancybox.js","hash":"d08b03a42d5c4ba456ef8ba33116fdbb7a9cabed","modified":1487677526000},{"_id":"source/images/Analytics-activepads.png","hash":"20e82ecbdc4c0d5689d1f1f085f7b72befe73d28","modified":1499427889000},{"_id":"source/images/cryptpad_file_picker.png","hash":"a8f1b66a8e70e0ad90040643b6b49205503c0bcb","modified":1503051627000},{"_id":"themes/cryptpad/source/js/jquery.min.js","hash":"a6eedf84389e1bc9f757bc2d19538f8c8d1cae9d","modified":1487677526000},{"_id":"themes/cryptpad/layout/_partial/post/category.ejs","hash":"c6bcd0e04271ffca81da25bcff5adf3d46f02fc0","modified":1487677526000},{"_id":"themes/cryptpad/layout/_partial/post/date.ejs","hash":"6197802873157656e3077c5099a7dda3d3b01c29","modified":1487677526000},{"_id":"themes/cryptpad/layout/_partial/post/gallery.ejs","hash":"3d9d81a3c693ff2378ef06ddb6810254e509de5b","modified":1487677526000},{"_id":"themes/cryptpad/layout/_partial/post/nav.ejs","hash":"16a904de7bceccbb36b4267565f2215704db2880","modified":1487677526000},{"_id":"themes/cryptpad/layout/_partial/post/title.ejs","hash":"2f275739b6f1193c123646a5a31f37d48644c667","modified":1487677526000},{"_id":"themes/cryptpad/source/css/_partial/archive.styl","hash":"db15f5677dc68f1730e82190bab69c24611ca292","modified":1487677526000},{"_id":"themes/cryptpad/layout/_partial/post/tag.ejs","hash":"2fcb0bf9c8847a644167a27824c9bb19ac74dd14","modified":1487677526000},{"_id":"themes/cryptpad/source/css/_partial/footer.styl","hash":"e35a060b8512031048919709a8e7b1ec0e40bc1b","modified":1487677526000},{"_id":"themes/cryptpad/source/css/_partial/article.styl","hash":"1edde2e5a3983d355d03dfc85e07195595003e47","modified":1487677526000},{"_id":"themes/cryptpad/source/css/_partial/header.styl","hash":"0c9126488bcdb2fc898adedd89cffb9f08d46256","modified":1487677526000},{"_id":"themes/cryptpad/source/css/_partial/comment.styl","hash":"79d280d8d203abb3bd933ca9b8e38c78ec684987","modified":1487677526000},{"_id":"themes/cryptpad/source/css/_partial/mobile.styl","hash":"a399cf9e1e1cec3e4269066e2948d7ae5854d745","modified":1487677526000},{"_id":"themes/cryptpad/source/css/_partial/sidebar-aside.styl","hash":"16678f5d75b0abd1a06d0aef1eeca61bd57768e0","modified":1487677526000},{"_id":"themes/cryptpad/source/css/_partial/highlight.styl","hash":"bf4e7be1968dad495b04e83c95eac14c4d0ad7c0","modified":1487677526000},{"_id":"themes/cryptpad/source/css/_util/grid.styl","hash":"0bf55ee5d09f193e249083602ac5fcdb1e571aed","modified":1487677526000},{"_id":"themes/cryptpad/source/css/_partial/sidebar.styl","hash":"404ec059dc674a48b9ab89cd83f258dec4dcb24d","modified":1487677526000},{"_id":"themes/cryptpad/source/css/_partial/sidebar-bottom.styl","hash":"8fd4f30d319542babfd31f087ddbac550f000a8a","modified":1487677526000},{"_id":"themes/cryptpad/source/css/_util/mixin.styl","hash":"44f32767d9fd3c1c08a60d91f181ee53c8f0dbb3","modified":1487677526000},{"_id":"themes/cryptpad/source/css/fonts/SourceCodeProRegular.woff2","hash":"b0e0bb5ef78db8b15d430d0b9be9d4329289a310","modified":1487677526000},{"_id":"themes/cryptpad/source/css/fonts/FontAwesome.otf","hash":"b5b4f9be85f91f10799e87a083da1d050f842734","modified":1487677526000},{"_id":"themes/cryptpad/source/css/fonts/fontawesome-webfont.eot","hash":"7619748fe34c64fb157a57f6d4ef3678f63a8f5e","modified":1487677526000},{"_id":"themes/cryptpad/source/css/fonts/fontawesome-webfont.woff","hash":"04c3bf56d87a0828935bd6b4aee859995f321693","modified":1487677526000},{"_id":"themes/cryptpad/source/fancybox/helpers/fancybox_buttons.png","hash":"e385b139516c6813dcd64b8fc431c364ceafe5f3","modified":1487677526000},{"_id":"themes/cryptpad/source/fancybox/helpers/jquery.fancybox-buttons.js","hash":"dc3645529a4bf72983a39fa34c1eb9146e082019","modified":1487677526000},{"_id":"themes/cryptpad/source/fancybox/helpers/jquery.fancybox-buttons.css","hash":"1a9d8e5c22b371fcc69d4dbbb823d9c39f04c0c8","modified":1487677526000},{"_id":"themes/cryptpad/source/fancybox/helpers/jquery.fancybox-media.js","hash":"294420f9ff20f4e3584d212b0c262a00a96ecdb3","modified":1487677526000},{"_id":"themes/cryptpad/source/fancybox/helpers/jquery.fancybox-thumbs.js","hash":"47da1ae5401c24b5c17cc18e2730780f5c1a7a0c","modified":1487677526000},{"_id":"themes/cryptpad/source/fancybox/helpers/jquery.fancybox-thumbs.css","hash":"4ac329c16a5277592fc12a37cca3d72ca4ec292f","modified":1487677526000},{"_id":"source/images/CryptPad_drive_with_upload.png","hash":"9955cb7e61f4bc568fdb312a106e8a1e01e96e4d","modified":1498049506000},{"_id":"themes/cryptpad/source/css/fonts/fontawesome-webfont.ttf","hash":"7f09c97f333917034ad08fa7295e916c9f72fd3f","modified":1487677526000},{"_id":"source/images/CryptPad_slide_upload_and_preview.png","hash":"abc0b57f1ccc3e3f7a259cd5ba2329dcb4cd9fe9","modified":1498050307000},{"_id":"themes/cryptpad/source/css/fonts/fontawesome-webfont.svg","hash":"46fcc0194d75a0ddac0a038aee41b23456784814","modified":1487677526000},{"_id":"themes/cryptpad/source/css/images/banner.jpg","hash":"e18babc635a7a4675262f38f1c32e6e506a384ed","modified":1503053982000},{"_id":"source/images/cryptpad_old_mainpage.png","hash":"ceb2e811416a134abeab77e843ced79a3faf97ca","modified":1503052616000},{"_id":"source/images/cryptpad_pdf.png","hash":"1376a517d502deaf45c52aa253cbaf6ff7c10c70","modified":1503053189000},{"_id":"source/images/CryptPad-Whitepaper-v1.0.pdf","hash":"e9bb5898c70ebc48b39307b7d9b9a1d58fa2835c","modified":1501689818000},{"_id":"source/images/cryptpad_new_mainpage.png","hash":"d0082a1e25bae9b48721b19680fcce1200c8396f","modified":1503052866000},{"_id":"public/atom.xml","hash":"03320f69dfd5932e18662ddfb7ab153d74bc26e1","modified":1532082478440},{"_id":"public/2017/08/30/CryptPad-s-new-Secure-Cross-Domain-Iframe/index.html","hash":"8a67e51dbb23d5e6a6a116bc92861817a311080a","modified":1532081692536},{"_id":"public/2017/08/18/CryptPad-s-New-Direction/index.html","hash":"529887fb9c9ab99c8a12ff6705244d204ca3232e","modified":1532081692544},{"_id":"public/2017/06/21/CryptPad-Jackalope-file-upload-pdf-and-pictures/index.html","hash":"2b7034139335d9ce2221b2e4e80c6055891410a2","modified":1532081692544},{"_id":"public/2017/05/23/CryptPad-use-it-love-it-support-it/index.html","hash":"75ce1fade46ae5bd5a0f9a3cfe58be9cf20ab325","modified":1532081692544},{"_id":"public/2017/05/17/You-gotta-log-in/index.html","hash":"3cb18f1bb43ed7efd6f37eb484fc24a0169e0ed2","modified":1532081692544},{"_id":"public/2017/04/01/Exciting-news/index.html","hash":"48ed7fe4e1749b19dc639ceb12317238fd869f8f","modified":1532081692544},{"_id":"public/2017/03/24/What-is-Zero-Knowledge/index.html","hash":"0392d9fbc869a21a43da131a3083c48c8912e257","modified":1532081692544},{"_id":"public/2017/03/06/Security-growing-pains/index.html","hash":"1682771b5a828644ffcce1deef7784794da81652","modified":1532081692544},{"_id":"public/2017/02/24/Announcing-biweekly-releases/index.html","hash":"9981c4fc3fd6176b8fef008d806a4e306ca64216","modified":1532081692545},{"_id":"public/archives/index.html","hash":"ac50aa04ef6f403145b8979c9e1297e2a7ae317c","modified":1532081692545},{"_id":"public/archives/page/2/index.html","hash":"0a7e80e16e2c8ee57dd9465c0217e1dd8b2fb1f2","modified":1532081692545},{"_id":"public/archives/page/3/index.html","hash":"380da5330ecbc809f75ef1d38c962888c1b6f9bf","modified":1532081692545},{"_id":"public/archives/page/4/index.html","hash":"843647410ea7b59df9413ad2ebe6b12972e1e350","modified":1532081692545},{"_id":"public/archives/2017/index.html","hash":"2494909bebc81771910d22a9564a0145d934e3db","modified":1532081692545},{"_id":"public/archives/2017/page/2/index.html","hash":"c02700f57ed7875b23b6c5e06a90682442786bd5","modified":1532081692545},{"_id":"public/archives/2017/page/3/index.html","hash":"52a332f8f198a5559ec64710d47dcb06675080fc","modified":1532081692545},{"_id":"public/archives/2017/02/index.html","hash":"794f2867d35e02f1180caf70270fbca9fee0d3d1","modified":1532081692545},{"_id":"public/archives/2017/03/index.html","hash":"01ae0663c4c4982f0ada1f6697e91da1c283f881","modified":1532081692545},{"_id":"public/archives/2017/04/index.html","hash":"dcf571b24aabe04ecd294f20f55a0a5e940e560b","modified":1532081692545},{"_id":"public/archives/2017/05/index.html","hash":"c0c59a6d08bacf7676e0cb0865d37ca0c7290ba5","modified":1532081692545},{"_id":"public/archives/2017/06/index.html","hash":"4c41bfece6a42cd39bf953c31313b3555cea9acc","modified":1532081692545},{"_id":"public/archives/2017/07/index.html","hash":"bd2bfcbc5bbebcfc2e5f42732a0a6c82cfae0052","modified":1532081692545},{"_id":"public/archives/2017/08/index.html","hash":"3b878e73531653f546d56f28506b600b9d1e3adb","modified":1532081692545},{"_id":"public/archives/2018/index.html","hash":"7498a921f8ec722fff9d6a9a0fcd185089ce7d61","modified":1532081692545},{"_id":"public/archives/2018/02/index.html","hash":"98e2d7880ff593aa1c5648c37fc077532648ccf0","modified":1532081692545},{"_id":"public/archives/2018/06/index.html","hash":"e8d924c335f7a35bf693e112261ed20cdd8da571","modified":1532081692545},{"_id":"public/archives/2018/07/index.html","hash":"e69126439ebb0b8fc092bbb7378dc1737d653e48","modified":1532081692545},{"_id":"public/tags/release/index.html","hash":"8c9623f728a67513326baf98106560c421a33f3f","modified":1532081692545},{"_id":"public/tags/open-source/index.html","hash":"bc6529539132ad10e48a6e30c235a0637185fc22","modified":1532081692545},{"_id":"public/tags/cloud/index.html","hash":"bb1dc6901fc0d70b1ce749392575dfbb59ed8a86","modified":1532081692545},{"_id":"public/tags/ethics/index.html","hash":"bed40640aed508e938f15a8ee135c978f7561594","modified":1532081692545},{"_id":"public/tags/pdf/index.html","hash":"c68afbbb0daa27ba220c2b9748332e9d53db2003","modified":1532081692545},{"_id":"public/tags/file/index.html","hash":"12e73d70cd30d0469f487ce73056d16cb4a486e1","modified":1532081692545},{"_id":"public/tags/upload/index.html","hash":"0a9b800a084213d61d1714b4acea448cd3bf054f","modified":1532081692545},{"_id":"public/tags/embed/index.html","hash":"76709c6c9c326c71a39b0317e94201f2284b5ec2","modified":1532081692545},{"_id":"public/tags/Roadmap/index.html","hash":"b37085a111298cea35a1fb2652b4d07cf1d7a88f","modified":1532081692545},{"_id":"public/tags/Financing/index.html","hash":"5845dff2e170ee1b22685cc02a1a47f4eb237f5e","modified":1532081692545},{"_id":"public/tags/zero-knowledge/index.html","hash":"90a7ce6205ae99e51bc7c27e566afc798d06724b","modified":1532081692545},{"_id":"public/tags/funding/index.html","hash":"f0bf61227b284ed2280f23a62fd5f5679feac22f","modified":1532081692545},{"_id":"public/tags/security/index.html","hash":"5a1d4eef4d07e4b4d21dac5ffdc573813665fcb3","modified":1532081692545},{"_id":"public/tags/extensibility/index.html","hash":"127533914f5ad187d53ada5b96f16b06f0d571ee","modified":1532081692546},{"_id":"public/tags/quality/index.html","hash":"e36aee3556efdd6a43feeabce9142e3d4251c437","modified":1532081692546},{"_id":"public/tags/lulz/index.html","hash":"9b049a44b9863324e6793f1cb4f2e87d235ca53c","modified":1532081692546},{"_id":"public/tags/appstore/index.html","hash":"f3ea84db0871d4d7fb1697bba579900ac429fe4d","modified":1532081692546},{"_id":"public/tags/iframe/index.html","hash":"40a8de1f610e99b5e070db968ccdd3e9b0af9229","modified":1532081692546},{"_id":"public/tags/media-tag/index.html","hash":"1290006a964f8692b14f56989ce15965fbcb18bd","modified":1532081692546},{"_id":"public/tags/donate/index.html","hash":"63259a1e4c9c808f155be278f0d5dfdfeeba6459","modified":1532081692546},{"_id":"public/tags/financing/index.html","hash":"16fe4d8b4240dde3062f61d7261a0a886b3f481a","modified":1532081692546},{"_id":"public/tags/WebWorker/index.html","hash":"df208a43dc22240d691001cc9b21e26a318b92ce","modified":1532081692546},{"_id":"public/tags/SharedWorker/index.html","hash":"b7f7dce69a87e526a1c80d9a88cb98f1990a8d56","modified":1532081692546},{"_id":"public/tags/Performance/index.html","hash":"a24f555bb85fa31cb476d072e88847ad5d9895cf","modified":1532081692546},{"_id":"public/tags/research/index.html","hash":"1a607da53218c4e75d56117ce37c1682c7b33a91","modified":1532081692546},{"_id":"public/tags/roadmap/index.html","hash":"6520a818f448307bbdcfb7d25c4e51f2442a79fa","modified":1532081692546},{"_id":"public/tags/xss/index.html","hash":"b6acc46b8cedd1ea496d2c6fa4136c0d7a537bb6","modified":1532081692546},{"_id":"public/tags/login/index.html","hash":"b0cfc05138dfbcc3a3b42bc9f27c9757b9ba1b6b","modified":1532081692546},{"_id":"public/tags/storage/index.html","hash":"c03b503c85bd0c28d8aff6d23582fee3bb4b21d8","modified":1532081692546},{"_id":"public/tags/analytics/index.html","hash":"31581b05f9ff6d045dbf634d6e98dd8c97e8a36b","modified":1532081692546},{"_id":"public/tags/data/index.html","hash":"d3a52a78b8dc437c35bb9d54754434b790cffc7d","modified":1532081692546},{"_id":"public/tags/privacy/index.html","hash":"3fa461df398ccca3914c6c667ee8e7d5428677a1","modified":1532081692546},{"_id":"public/tags/signing/index.html","hash":"fd5e354b03dd7412a692b4f096c6b08665565744","modified":1532081692546},{"_id":"public/tags/subresource-integrity/index.html","hash":"f2329a206c28d4428a73ea68cf0e5698b86496e5","modified":1532081692546},{"_id":"public/tags/chain-of-trust/index.html","hash":"d9047252b1bc3bc33f512915b7c0c3f1f538eaf0","modified":1532081692546},{"_id":"public/2018/07/13/CryptPad-Roadmap/index.html","hash":"42287f60b2aaca7b8471646f980ddc9cc62d5c9d","modified":1532081692546},{"_id":"public/2018/06/22/Faster-loads-with-SharedWorker-ServiceWorker/index.html","hash":"dd3b78659bb2f7c9c1bc0f04d46b0282e2b68bc8","modified":1532081692546},{"_id":"public/2018/07/06/CryptPad-ZeroKnowledge-Free-Software-needs-funding/index.html","hash":"8d57e09d2539a0f52fc761496df70d5d7e93cb4d","modified":1532081692546},{"_id":"public/2018/06/15/Signing-CryptPad/index.html","hash":"175ad57736d339c3bb8adf9d51537dbc5416d808","modified":1532081692547},{"_id":"public/2018/02/23/One-year-of-biweekly-releases/index.html","hash":"62a1aa32d232c10afac4e3910729e97a92bf8817","modified":1532081692547},{"_id":"public/2017/07/07/cryptpad-analytics-what-we-cant-know-what-we-must-know-what-we-want-to-know/index.html","hash":"b0e6aaf728cd3500f4eb9e1f2806d21cd64a6fb0","modified":1532081692547},{"_id":"public/2017/06/02/Building-mutually-beneficial-relationships/index.html","hash":"c9b69406ededd4a1fe6d75c5a917502d88411e1f","modified":1532081692547},{"_id":"public/2017/04/20/Funding-CryptPad/index.html","hash":"d1842a1105eb92fe51ed970bc05a728842654cee","modified":1532081692547},{"_id":"public/2017/02/20/Time-to-Encrypt-the-Cloud/index.html","hash":"7d8e415d56d7fa8e55e591ef07f67f7c98928e6c","modified":1532081692547},{"_id":"public/index.html","hash":"01863e18534940a42bcfe022d4c7d742ae60577e","modified":1532082478746},{"_id":"public/page/2/index.html","hash":"ea83b16befc730223b4ec3412903518f230f3aa0","modified":1532081692547},{"_id":"public/page/3/index.html","hash":"b033599457879f029ca3153860cedfc2182a39fc","modified":1532081692547},{"_id":"public/page/4/index.html","hash":"141d27052d4ac5b2bb5c84c1ce5942c47dbe10c1","modified":1532081692547},{"_id":"public/archives/2018/page/2/index.html","hash":"65370ad860a14ac4cd78c40bb717d4208421a5a6","modified":1532081692556},{"_id":"public/2018/07/20/Making-CryptPad-CSS-3-times-faster-by-loading-it-twice/index.html","hash":"8ec8972dc6fd6a08cb511bbf6a3e2248cd6441fd","modified":1532082478745},{"_id":"public/images/Analytics-uniques.png","hash":"884a13cd7b4d87a9a29d4b1996f451b1ebbe10f8","modified":1532081692559},{"_id":"public/favicon.png","hash":"d5ae69a3444bd1168656c6228dfca665d6275e9c","modified":1532081692559},{"_id":"public/fancybox/fancybox_loading.gif","hash":"1a755fb2599f3a313cc6cfdb14df043f8c14a99c","modified":1532081692559},{"_id":"public/fancybox/blank.gif","hash":"2daeaa8b5f19f0bc209d976c02bd6acb51b00b0a","modified":1532081692559},{"_id":"public/fancybox/fancybox_overlay.png","hash":"b3a4ee645ba494f52840ef8412015ba0f465dbe0","modified":1532081692560},{"_id":"public/fancybox/fancybox_sprite.png","hash":"17df19f97628e77be09c352bf27425faea248251","modified":1532081692560},{"_id":"public/fancybox/fancybox_loading@2x.gif","hash":"273b123496a42ba45c3416adb027cd99745058b0","modified":1532081692560},{"_id":"public/fancybox/fancybox_sprite@2x.png","hash":"30c58913f327e28f466a00f4c1ac8001b560aed8","modified":1532081692560},{"_id":"public/css/fonts/SourceCodeProRegular.woff2","hash":"b0e0bb5ef78db8b15d430d0b9be9d4329289a310","modified":1532081692560},{"_id":"public/fancybox/helpers/fancybox_buttons.png","hash":"e385b139516c6813dcd64b8fc431c364ceafe5f3","modified":1532081692560},{"_id":"public/css/fonts/fontawesome-webfont.eot","hash":"7619748fe34c64fb157a57f6d4ef3678f63a8f5e","modified":1532081692560},{"_id":"public/css/fonts/fontawesome-webfont.woff","hash":"04c3bf56d87a0828935bd6b4aee859995f321693","modified":1532081692560},{"_id":"public/css/fonts/FontAwesome.otf","hash":"b5b4f9be85f91f10799e87a083da1d050f842734","modified":1532081692560},{"_id":"public/images/Analytics-peopleleave.png","hash":"4120fbdfebfa316e7a621d5eb245ed4be7bb6c02","modified":1532081693258},{"_id":"public/css/fonts/fontawesome-webfont.ttf","hash":"7f09c97f333917034ad08fa7295e916c9f72fd3f","modified":1532081693259},{"_id":"public/fancybox/jquery.fancybox.css","hash":"aaa582fb9eb4b7092dc69fcb2d5b1c20cca58ab6","modified":1532081693264},{"_id":"public/js/script.js","hash":"5c2625f67426d270ac99637d228b8413196c3e62","modified":1532081693264},{"_id":"public/fancybox/helpers/jquery.fancybox-buttons.js","hash":"dc3645529a4bf72983a39fa34c1eb9146e082019","modified":1532081693265},{"_id":"public/fancybox/helpers/jquery.fancybox-buttons.css","hash":"1a9d8e5c22b371fcc69d4dbbb823d9c39f04c0c8","modified":1532081693265},{"_id":"public/fancybox/helpers/jquery.fancybox-media.js","hash":"294420f9ff20f4e3584d212b0c262a00a96ecdb3","modified":1532081693265},{"_id":"public/fancybox/helpers/jquery.fancybox-thumbs.js","hash":"47da1ae5401c24b5c17cc18e2730780f5c1a7a0c","modified":1532081693265},{"_id":"public/fancybox/helpers/jquery.fancybox-thumbs.css","hash":"4ac329c16a5277592fc12a37cca3d72ca4ec292f","modified":1532081693265},{"_id":"public/css/style.css","hash":"53199892bc5fd95ae5e3ab203e7193f84b770152","modified":1532081693265},{"_id":"public/fancybox/jquery.fancybox.pack.js","hash":"9e0d51ca1dbe66f6c0c7aefd552dc8122e694a6e","modified":1532081693265},{"_id":"public/fancybox/jquery.fancybox.js","hash":"d08b03a42d5c4ba456ef8ba33116fdbb7a9cabed","modified":1532081693265},{"_id":"public/js/jquery.min.js","hash":"a6eedf84389e1bc9f757bc2d19538f8c8d1cae9d","modified":1532081693265},{"_id":"public/images/Analytics-browserdimensions.png","hash":"c0c66b8acbe67e492b7c6d3dd1a078ef43bca7e8","modified":1532081693265},{"_id":"public/images/Analytics-padtypes.png","hash":"c7ef05f1428c62b1566125feef1dfa6fa9d0428b","modified":1532081693265},{"_id":"public/images/iamdevloper_deploy_on_friday.jpeg","hash":"33335b53137aacb247390c9524f10cfef82eaf4c","modified":1532081693265},{"_id":"public/images/Analytics-createdabandoned.png","hash":"a4de46b57f69f2204e2e1b3adfba872ba2112abf","modified":1532081693265},{"_id":"public/images/Analytics-activepads.png","hash":"20e82ecbdc4c0d5689d1f1f085f7b72befe73d28","modified":1532081693271},{"_id":"public/images/cryptpad_file_picker.png","hash":"a8f1b66a8e70e0ad90040643b6b49205503c0bcb","modified":1532081693271},{"_id":"public/css/images/banner.jpg","hash":"e18babc635a7a4675262f38f1c32e6e506a384ed","modified":1532081693271},{"_id":"public/css/fonts/fontawesome-webfont.svg","hash":"46fcc0194d75a0ddac0a038aee41b23456784814","modified":1532081693272},{"_id":"public/images/CryptPad_drive_with_upload.png","hash":"9955cb7e61f4bc568fdb312a106e8a1e01e96e4d","modified":1532081693274},{"_id":"public/images/CryptPad_slide_upload_and_preview.png","hash":"abc0b57f1ccc3e3f7a259cd5ba2329dcb4cd9fe9","modified":1532081693275},{"_id":"public/images/cryptpad_pdf.png","hash":"1376a517d502deaf45c52aa253cbaf6ff7c10c70","modified":1532081693280},{"_id":"public/images/cryptpad_old_mainpage.png","hash":"ceb2e811416a134abeab77e843ced79a3faf97ca","modified":1532081693281},{"_id":"public/images/CryptPad-Whitepaper-v1.0.pdf","hash":"e9bb5898c70ebc48b39307b7d9b9a1d58fa2835c","modified":1532081693292},{"_id":"public/images/cryptpad_new_mainpage.png","hash":"d0082a1e25bae9b48721b19680fcce1200c8396f","modified":1532081693301},{"_id":"source/images/Strip-CSS-respect-650-finalenglish1.jpg","hash":"4fcf86b3b8e60c48e1fe5b1c2c0ef1da4136caff","modified":1425031363000},{"_id":"public/images/Strip-CSS-respect-650-finalenglish1.jpg","hash":"4fcf86b3b8e60c48e1fe5b1c2c0ef1da4136caff","modified":1532082426199}],"Category":[],"Data":[],"Page":[],"Post":[{"title":"Announcing biweekly releases","date":"2017-02-24T15:26:03.000Z","author":"Aaron MacSween","_content":"\nWhen I joined the research team at [XWiki](http://www.xwiki.com/en/team/) a little over a year ago, CryptPad was very much an experiment.\nWe had ideas of what we wanted to accomplish, but we didn't know whether it would work at all, let alone how we were going to get there.\n\nWe've come a long way since then.\nHaving proven that _zero knowledge, real time collaborative editing_ in the browser was possible, we've been thinking about an even more difficult task:\n\n> How do we make this something that _anybody_ can use?\n\n## How we've gotten here\n\nWe've built CryptPad from a number of small pieces.\nIn some cases, we were lucky enough to find existing software libraries which solved our problems.\nWe love when this happens because it keeps us from having to reinvent the wheel, leaving more time for unsolved problems.\n\nWhen you try to build something that nobody has built before, however, you run into problems that nobody else cares about.\nWe've had to build a lot of our own components, and some of them have been incredibly complicated.\n\nSome bugs only become obvious under very odd circumstances, when users with different browsers do very specific sequences or combinations of actions.\nOur growing userbase has been critical in helping us to identify these kinds of issues, and things have been improving steadily.\n\n## What we've learned\n\nOur longest delays have come from working on tough problems that managed to get tangled up with smaller bug fixes, which kept them from reaching our users.\nAt the end of 2016, however, most of these big, complicated issues were coming to a close.\nOur team took some much-needed vacation time, and upon returning we started working to release and deploy a tagged version of our codebase.\n\nOur newest features went live to [CryptPad.fr](https://cryptpad.fr) on Tuesday, the 14th of February.\nSome of them are big enough that we'll probably dedicate entire blog posts to them, but the release notes are [on GitHub](https://github.com/xwiki-labs/cryptpad/tree/1.0.0).\n\n## Our new release policy\n\nIn the interest of getting feedback from our users more quickly, we've decided to adopt a two week release cycle.\nWe're going to focus on delivering features that directly improve your experience.\n\nThe live site will run code from our latest _master_ branch, while the upcoming release will be on the [staging](https://github.com/xwiki-labs/cryptpad/tree/staging) branch.\n\nEach release will come with a set of notes detailing what we did, and known issues that didn't quite make it into that version.\nWe'll work on getting those issues fixed in the following cycle.\n\nWhenever we deploy these big updates, we'll announce when we expect the next one to arrive.\nSince we started on a Tuesday, we expect to deploy again on Tuesday, February the 28th, 2017.\n\n## Codenamed releases\n\nSince it's difficult to remember versions of the software if they have names like `1.0.0`, we've decided to give each one a more memorable codename.\nWith there being 26 letters in the Latin alphabet, and 26 two week releases in the year, we started looking for alphabetical lists from which we could choose names.\nWe didn't look for very long until we thought of _Cryptids_...\n\n> _an animal whose existence or survival is disputed or unsubstantiated, such as the yeti_\n\nWe quickly settled on picking a name from this list every two weeks, starting with the letter A, and proceding through the alphabet.\nFor version `1.0.0`, we went with [Agogwe](https://en.wikipedia.org/wiki/Agogwe).\n\nThere won't necessarily be much significance to the name we choose, but we hope that nobody will worry if we choose a particularly frightening cryptid for a given release.\nSome of the code is bound to be difficult and scary to write, but we want your experience to be _as easy as possible_.\n\nAs always, if you have any feedback you'd like to share, we want to hear it!\n[Contact us](https://cryptpad.fr/contact.html) and let us know how you use Cryptpad.\n\nIf you aren't using CryptPad yet, give it a try at [CryptPad.fr](https://cryptpad.fr)!\n\n","source":"_posts/Announcing-biweekly-releases.md","raw":"---\ntitle: Announcing biweekly releases\ndate: 2017-02-24 16:26:03\nauthor: Aaron MacSween\ntags:\n  - release\n---\n\nWhen I joined the research team at [XWiki](http://www.xwiki.com/en/team/) a little over a year ago, CryptPad was very much an experiment.\nWe had ideas of what we wanted to accomplish, but we didn't know whether it would work at all, let alone how we were going to get there.\n\nWe've come a long way since then.\nHaving proven that _zero knowledge, real time collaborative editing_ in the browser was possible, we've been thinking about an even more difficult task:\n\n> How do we make this something that _anybody_ can use?\n\n## How we've gotten here\n\nWe've built CryptPad from a number of small pieces.\nIn some cases, we were lucky enough to find existing software libraries which solved our problems.\nWe love when this happens because it keeps us from having to reinvent the wheel, leaving more time for unsolved problems.\n\nWhen you try to build something that nobody has built before, however, you run into problems that nobody else cares about.\nWe've had to build a lot of our own components, and some of them have been incredibly complicated.\n\nSome bugs only become obvious under very odd circumstances, when users with different browsers do very specific sequences or combinations of actions.\nOur growing userbase has been critical in helping us to identify these kinds of issues, and things have been improving steadily.\n\n## What we've learned\n\nOur longest delays have come from working on tough problems that managed to get tangled up with smaller bug fixes, which kept them from reaching our users.\nAt the end of 2016, however, most of these big, complicated issues were coming to a close.\nOur team took some much-needed vacation time, and upon returning we started working to release and deploy a tagged version of our codebase.\n\nOur newest features went live to [CryptPad.fr](https://cryptpad.fr) on Tuesday, the 14th of February.\nSome of them are big enough that we'll probably dedicate entire blog posts to them, but the release notes are [on GitHub](https://github.com/xwiki-labs/cryptpad/tree/1.0.0).\n\n## Our new release policy\n\nIn the interest of getting feedback from our users more quickly, we've decided to adopt a two week release cycle.\nWe're going to focus on delivering features that directly improve your experience.\n\nThe live site will run code from our latest _master_ branch, while the upcoming release will be on the [staging](https://github.com/xwiki-labs/cryptpad/tree/staging) branch.\n\nEach release will come with a set of notes detailing what we did, and known issues that didn't quite make it into that version.\nWe'll work on getting those issues fixed in the following cycle.\n\nWhenever we deploy these big updates, we'll announce when we expect the next one to arrive.\nSince we started on a Tuesday, we expect to deploy again on Tuesday, February the 28th, 2017.\n\n## Codenamed releases\n\nSince it's difficult to remember versions of the software if they have names like `1.0.0`, we've decided to give each one a more memorable codename.\nWith there being 26 letters in the Latin alphabet, and 26 two week releases in the year, we started looking for alphabetical lists from which we could choose names.\nWe didn't look for very long until we thought of _Cryptids_...\n\n> _an animal whose existence or survival is disputed or unsubstantiated, such as the yeti_\n\nWe quickly settled on picking a name from this list every two weeks, starting with the letter A, and proceding through the alphabet.\nFor version `1.0.0`, we went with [Agogwe](https://en.wikipedia.org/wiki/Agogwe).\n\nThere won't necessarily be much significance to the name we choose, but we hope that nobody will worry if we choose a particularly frightening cryptid for a given release.\nSome of the code is bound to be difficult and scary to write, but we want your experience to be _as easy as possible_.\n\nAs always, if you have any feedback you'd like to share, we want to hear it!\n[Contact us](https://cryptpad.fr/contact.html) and let us know how you use Cryptpad.\n\nIf you aren't using CryptPad yet, give it a try at [CryptPad.fr](https://cryptpad.fr)!\n\n","slug":"Announcing-biweekly-releases","published":1,"updated":"2018-06-15T10:06:34.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjjttvqzi00007ezfjbuqn81j","content":"<p>When I joined the research team at <a href=\"http://www.xwiki.com/en/team/\" target=\"_blank\" rel=\"external\">XWiki</a> a little over a year ago, CryptPad was very much an experiment.\nWe had ideas of what we wanted to accomplish, but we didn’t know whether it would work at all, let alone how we were going to get there.</p>\n<p>We’ve come a long way since then.\nHaving proven that <em>zero knowledge, real time collaborative editing</em> in the browser was possible, we’ve been thinking about an even more difficult task:</p>\n<blockquote>\n<p>How do we make this something that <em>anybody</em> can use?</p>\n</blockquote>\n<h2 id=\"How-we’ve-gotten-here\"><a href=\"#How-we’ve-gotten-here\" class=\"headerlink\" title=\"How we’ve gotten here\"></a>How we’ve gotten here</h2><p>We’ve built CryptPad from a number of small pieces.\nIn some cases, we were lucky enough to find existing software libraries which solved our problems.\nWe love when this happens because it keeps us from having to reinvent the wheel, leaving more time for unsolved problems.</p>\n<p>When you try to build something that nobody has built before, however, you run into problems that nobody else cares about.\nWe’ve had to build a lot of our own components, and some of them have been incredibly complicated.</p>\n<p>Some bugs only become obvious under very odd circumstances, when users with different browsers do very specific sequences or combinations of actions.\nOur growing userbase has been critical in helping us to identify these kinds of issues, and things have been improving steadily.</p>\n<h2 id=\"What-we’ve-learned\"><a href=\"#What-we’ve-learned\" class=\"headerlink\" title=\"What we’ve learned\"></a>What we’ve learned</h2><p>Our longest delays have come from working on tough problems that managed to get tangled up with smaller bug fixes, which kept them from reaching our users.\nAt the end of 2016, however, most of these big, complicated issues were coming to a close.\nOur team took some much-needed vacation time, and upon returning we started working to release and deploy a tagged version of our codebase.</p>\n<p>Our newest features went live to <a href=\"https://cryptpad.fr\" target=\"_blank\" rel=\"external\">CryptPad.fr</a> on Tuesday, the 14th of February.\nSome of them are big enough that we’ll probably dedicate entire blog posts to them, but the release notes are <a href=\"https://github.com/xwiki-labs/cryptpad/tree/1.0.0\" target=\"_blank\" rel=\"external\">on GitHub</a>.</p>\n<h2 id=\"Our-new-release-policy\"><a href=\"#Our-new-release-policy\" class=\"headerlink\" title=\"Our new release policy\"></a>Our new release policy</h2><p>In the interest of getting feedback from our users more quickly, we’ve decided to adopt a two week release cycle.\nWe’re going to focus on delivering features that directly improve your experience.</p>\n<p>The live site will run code from our latest <em>master</em> branch, while the upcoming release will be on the <a href=\"https://github.com/xwiki-labs/cryptpad/tree/staging\" target=\"_blank\" rel=\"external\">staging</a> branch.</p>\n<p>Each release will come with a set of notes detailing what we did, and known issues that didn’t quite make it into that version.\nWe’ll work on getting those issues fixed in the following cycle.</p>\n<p>Whenever we deploy these big updates, we’ll announce when we expect the next one to arrive.\nSince we started on a Tuesday, we expect to deploy again on Tuesday, February the 28th, 2017.</p>\n<h2 id=\"Codenamed-releases\"><a href=\"#Codenamed-releases\" class=\"headerlink\" title=\"Codenamed releases\"></a>Codenamed releases</h2><p>Since it’s difficult to remember versions of the software if they have names like <code>1.0.0</code>, we’ve decided to give each one a more memorable codename.\nWith there being 26 letters in the Latin alphabet, and 26 two week releases in the year, we started looking for alphabetical lists from which we could choose names.\nWe didn’t look for very long until we thought of <em>Cryptids</em>…</p>\n<blockquote>\n<p><em>an animal whose existence or survival is disputed or unsubstantiated, such as the yeti</em></p>\n</blockquote>\n<p>We quickly settled on picking a name from this list every two weeks, starting with the letter A, and proceding through the alphabet.\nFor version <code>1.0.0</code>, we went with <a href=\"https://en.wikipedia.org/wiki/Agogwe\" target=\"_blank\" rel=\"external\">Agogwe</a>.</p>\n<p>There won’t necessarily be much significance to the name we choose, but we hope that nobody will worry if we choose a particularly frightening cryptid for a given release.\nSome of the code is bound to be difficult and scary to write, but we want your experience to be <em>as easy as possible</em>.</p>\n<p>As always, if you have any feedback you’d like to share, we want to hear it!\n<a href=\"https://cryptpad.fr/contact.html\" target=\"_blank\" rel=\"external\">Contact us</a> and let us know how you use Cryptpad.</p>\n<p>If you aren’t using CryptPad yet, give it a try at <a href=\"https://cryptpad.fr\" target=\"_blank\" rel=\"external\">CryptPad.fr</a>!</p>\n","excerpt":"","more":"<p>When I joined the research team at <a href=\"http://www.xwiki.com/en/team/\">XWiki</a> a little over a year ago, CryptPad was very much an experiment.\nWe had ideas of what we wanted to accomplish, but we didn’t know whether it would work at all, let alone how we were going to get there.</p>\n<p>We’ve come a long way since then.\nHaving proven that <em>zero knowledge, real time collaborative editing</em> in the browser was possible, we’ve been thinking about an even more difficult task:</p>\n<blockquote>\n<p>How do we make this something that <em>anybody</em> can use?</p>\n</blockquote>\n<h2 id=\"How-we’ve-gotten-here\"><a href=\"#How-we’ve-gotten-here\" class=\"headerlink\" title=\"How we’ve gotten here\"></a>How we’ve gotten here</h2><p>We’ve built CryptPad from a number of small pieces.\nIn some cases, we were lucky enough to find existing software libraries which solved our problems.\nWe love when this happens because it keeps us from having to reinvent the wheel, leaving more time for unsolved problems.</p>\n<p>When you try to build something that nobody has built before, however, you run into problems that nobody else cares about.\nWe’ve had to build a lot of our own components, and some of them have been incredibly complicated.</p>\n<p>Some bugs only become obvious under very odd circumstances, when users with different browsers do very specific sequences or combinations of actions.\nOur growing userbase has been critical in helping us to identify these kinds of issues, and things have been improving steadily.</p>\n<h2 id=\"What-we’ve-learned\"><a href=\"#What-we’ve-learned\" class=\"headerlink\" title=\"What we’ve learned\"></a>What we’ve learned</h2><p>Our longest delays have come from working on tough problems that managed to get tangled up with smaller bug fixes, which kept them from reaching our users.\nAt the end of 2016, however, most of these big, complicated issues were coming to a close.\nOur team took some much-needed vacation time, and upon returning we started working to release and deploy a tagged version of our codebase.</p>\n<p>Our newest features went live to <a href=\"https://cryptpad.fr\">CryptPad.fr</a> on Tuesday, the 14th of February.\nSome of them are big enough that we’ll probably dedicate entire blog posts to them, but the release notes are <a href=\"https://github.com/xwiki-labs/cryptpad/tree/1.0.0\">on GitHub</a>.</p>\n<h2 id=\"Our-new-release-policy\"><a href=\"#Our-new-release-policy\" class=\"headerlink\" title=\"Our new release policy\"></a>Our new release policy</h2><p>In the interest of getting feedback from our users more quickly, we’ve decided to adopt a two week release cycle.\nWe’re going to focus on delivering features that directly improve your experience.</p>\n<p>The live site will run code from our latest <em>master</em> branch, while the upcoming release will be on the <a href=\"https://github.com/xwiki-labs/cryptpad/tree/staging\">staging</a> branch.</p>\n<p>Each release will come with a set of notes detailing what we did, and known issues that didn’t quite make it into that version.\nWe’ll work on getting those issues fixed in the following cycle.</p>\n<p>Whenever we deploy these big updates, we’ll announce when we expect the next one to arrive.\nSince we started on a Tuesday, we expect to deploy again on Tuesday, February the 28th, 2017.</p>\n<h2 id=\"Codenamed-releases\"><a href=\"#Codenamed-releases\" class=\"headerlink\" title=\"Codenamed releases\"></a>Codenamed releases</h2><p>Since it’s difficult to remember versions of the software if they have names like <code>1.0.0</code>, we’ve decided to give each one a more memorable codename.\nWith there being 26 letters in the Latin alphabet, and 26 two week releases in the year, we started looking for alphabetical lists from which we could choose names.\nWe didn’t look for very long until we thought of <em>Cryptids</em>…</p>\n<blockquote>\n<p><em>an animal whose existence or survival is disputed or unsubstantiated, such as the yeti</em></p>\n</blockquote>\n<p>We quickly settled on picking a name from this list every two weeks, starting with the letter A, and proceding through the alphabet.\nFor version <code>1.0.0</code>, we went with <a href=\"https://en.wikipedia.org/wiki/Agogwe\">Agogwe</a>.</p>\n<p>There won’t necessarily be much significance to the name we choose, but we hope that nobody will worry if we choose a particularly frightening cryptid for a given release.\nSome of the code is bound to be difficult and scary to write, but we want your experience to be <em>as easy as possible</em>.</p>\n<p>As always, if you have any feedback you’d like to share, we want to hear it!\n<a href=\"https://cryptpad.fr/contact.html\">Contact us</a> and let us know how you use Cryptpad.</p>\n<p>If you aren’t using CryptPad yet, give it a try at <a href=\"https://cryptpad.fr\">CryptPad.fr</a>!</p>\n"},{"title":"Building mutually beneficial relationships","date":"2017-06-02T11:52:47.000Z","author":"Caleb James DeLisle","_content":" \n*People hosting instances of CryptPad should read at least the\n[Changes in CryptPad](/2017/06/02/Building-mutually-beneficial-relationships/#Changes-in-CryptPad)\nsection*\n \n*Thanks to Scott Alexander for some of the\n[ethical foundations](http://slatestarcodex.com/2014/07/30/meditations-on-moloch/)\nof this post.*\n \n---\n \nYou ever wonder why Open Source software always seems to be slightly harder\nto use and slightly buggier and slightly less *polished* than proprietary\ncompetitors?\n \nHow about this: Why is it that good people who want to make good things somehow\nend up making evil things for evil corporations which sell them to other good\npeople who would (presumably) rather buy good things.\n\n\n## It's all about incentives\n \nIt's hard to talk about incentives without sounding like a miserly tool, but if\nwe're going to hack ourselves out of a situation that nobody really wants to be in,\nwe're going to need to understand them pretty well.\n \n* Why is Open Source habitually *90% of the way there* ?\n* Why is Facebook more addictive than it is useful ?\n* Why is it that when you get something for free, even from a well funded\ngovernment program, it's reliably worse than something you buy?\n \nIt's all about incentives.\n \n### In a restaurant, you're the customer\n \nI love going to restaurants. I have no car and few possessions so restaurants are\nthe way I spend my income. Not only do I love food but I love the relationship\nwhich I have with restaurateurs. When I walk into a restaurant, I want to be fed\ndelicious food and they want to be paid, not only that, they want me to be happy\nso I will return many times and bring my friends. I want them to be happy so they\nwill give me bigger portions and maybe a little dessert on the house. Our\nincentives are aligned perfectly. We are practically a team.\n\n### In a soup kitchen, you're just a user\n\nIt is hard to deny the importance of soup kitchens to the fabric of society.\nPart of what makes us able to claim to be civilized is the fact that we don't let\npeople simply die if they're down on their luck. Soup kitchens, however, are not\nrestaurants. When you walk into a soup kitchen, you are generally greeted kindly\nbut there is a subtle distinction from a restaurant, at a restaurant you're the\ncustomer and at a soup kitchen you're just a *user*. Many soup kitchens are\norganized around religious groups and  evangelizing their belief is a significant\npart of their motivation, but even secular organizations are motivated by some\nsort of a higher calling.\n\n### Open Source is a soup kitchen\n\nI've been developing Open Source both professionally and personally for 7 years\nand I'm going to tell you something that many Open Source developers won't admit.\nOpen Source software is not made for you. Sometimes Open Source developers are\nmotivated by the Free Software ideology and they imagine their code as\ntransforming the world, sometimes they just want to solve some problem for\nthemselves and they give away the resulting code. Open Source software is almost\nnever developed for the simple purpose of making another person's life a little\neasier.\n \n## If you aren't the customer you're the product\n \nThis aphorism has become popular with the rise of ad-tech and social network\nwebsites. The phrase invokes an image of free services coming like free grain\nbecause you are, in fact, the pig on his way to slaughter. In some way this is\ntrue, Silicon Valley business models are becoming disturbingly like human\nfarming.\n\nHowever, the phrase also invokes an image of an evil entrepreneur plotting to\nenslave humanity by creating a slick social network. If 1 in 1000 companies is\nsuccessful then logic implies there must be thousands of evil entrepreneurs\nrunning around everywhere. If this is true then where are all of the failed\nevil plotters? I've never met an entrepreneur who was anything less than an\naspiring saint.\n \nI think the real reason why social networks become human farms is because people\ndon't want to pay for development of web services and stuck between a successful\nhuman farm and a failing soup kitchen, entrepreneurs begrudgingly choose to farm.\n \n## Breaking out\n \nIf we're ever going to stop living in a world of farms and soup kitchens, we're\ngoing to need to get serious about incentives. Part of my intention in starting\nthe CryptPad project is to build something that is not a farm nor a soup kitchen.\nI want to have a mutually beneficial relationship with every one of CryptPad's\nusers, including you. I don't want to be a charity worker beholden to an NGO or\na post office clerk drawing a paycheck from the state. I want you to be my boss,\nI want to obsess about making your life better, I want fair exchange of value\nand aligned incentives.\n \n## Changes in CryptPad\n \n[As you may already know](/2017/05/23/CryptPad-use-it-love-it-support-it/),\ncryptpad.fr now limits your data storage and allows you to buy an account which\nwill raise that limit. The code for limits and accounts is also in the CryptPad\ncodebase and turned on by default. If you are installing CryptPad, you have\nthree choices.\n\n1. Leave it exactly as it is: People will be limited to 50MB of storage and they\nwill see a *Support CryptPad* button. In the development time this donated money\nbuys, we will pay special consideration to the needs of CryptPad admins like you.\n2. Share the revenue: If you specify some configuration parameters and send us\nan [email](mailto:sales@cryptpad.fr), the donation button will become an\n*Upgrade Account* button, allowing them to take a plan with additional storage\nquota. When people upgrade their account on your server, we will credit you 50%\nof the revenue earned. This helps us pay the cost of development and helps you\npay the cost of hosting.\n3. Disable the donate button: If you do this, we hope you will help CryptPad in\nsome other way such as by taking an on-premises support contract.\n\nIf you run a public CryptPad instance, please don't increase the 50MB per user\nstorage limit. This limit is what makes people subscribe and what pays for\nCryptPad development. Running a CryptPad instance which offers a \"better deal\"\nis effectively using the project against itself.\n\nFinally, new versions of CryptPad always check for new or expired accounts from\nour account server. We have added a parameter called *adminEmail* which will be\nsent along with the domain and version of CryptPad you're running. This way we\ncan notify you if we're aware of any a serious problems with your CryptPad\ninstance. We take your privacy seriously and will never sell your email or send\nyou marketing spam. If, however, you want to keep your CryptPad instance\ncompletely  hidden from us, you can set this parameter to **false** and it will\nnever query the account server.\n \n## Coming next\n \nOur objective is to help you collaborate, stay organized and get things done\nfaster and easier. We want to provide maximum value to you and we want you to\nprovide value to us so that we can continue doing it. As was said in the\nprevious post, the big issues which we are planning to tackle soon are:\n \n* File upload for PDF and image embedding\n* Text coloring based on the authors of the document\n* Workgroups for team collaboration\n* Zero Knowledge spreadsheets\n \nAs always, we will be continuing to put great effort into understanding your\nproblems, how you go about solving them, and how we can make little changes to\nmake CryptPad fit your needs better.\n \nCaleb\n \n","source":"_posts/Building-mutually-beneficial-relationships.md","raw":"---\ntitle: Building mutually beneficial relationships\ndate: 2017-06-02 13:52:47\nauthor: Caleb James DeLisle\ntags:\n  - open source\n  - cloud\n  - ethics\n---\n \n*People hosting instances of CryptPad should read at least the\n[Changes in CryptPad](/2017/06/02/Building-mutually-beneficial-relationships/#Changes-in-CryptPad)\nsection*\n \n*Thanks to Scott Alexander for some of the\n[ethical foundations](http://slatestarcodex.com/2014/07/30/meditations-on-moloch/)\nof this post.*\n \n---\n \nYou ever wonder why Open Source software always seems to be slightly harder\nto use and slightly buggier and slightly less *polished* than proprietary\ncompetitors?\n \nHow about this: Why is it that good people who want to make good things somehow\nend up making evil things for evil corporations which sell them to other good\npeople who would (presumably) rather buy good things.\n\n\n## It's all about incentives\n \nIt's hard to talk about incentives without sounding like a miserly tool, but if\nwe're going to hack ourselves out of a situation that nobody really wants to be in,\nwe're going to need to understand them pretty well.\n \n* Why is Open Source habitually *90% of the way there* ?\n* Why is Facebook more addictive than it is useful ?\n* Why is it that when you get something for free, even from a well funded\ngovernment program, it's reliably worse than something you buy?\n \nIt's all about incentives.\n \n### In a restaurant, you're the customer\n \nI love going to restaurants. I have no car and few possessions so restaurants are\nthe way I spend my income. Not only do I love food but I love the relationship\nwhich I have with restaurateurs. When I walk into a restaurant, I want to be fed\ndelicious food and they want to be paid, not only that, they want me to be happy\nso I will return many times and bring my friends. I want them to be happy so they\nwill give me bigger portions and maybe a little dessert on the house. Our\nincentives are aligned perfectly. We are practically a team.\n\n### In a soup kitchen, you're just a user\n\nIt is hard to deny the importance of soup kitchens to the fabric of society.\nPart of what makes us able to claim to be civilized is the fact that we don't let\npeople simply die if they're down on their luck. Soup kitchens, however, are not\nrestaurants. When you walk into a soup kitchen, you are generally greeted kindly\nbut there is a subtle distinction from a restaurant, at a restaurant you're the\ncustomer and at a soup kitchen you're just a *user*. Many soup kitchens are\norganized around religious groups and  evangelizing their belief is a significant\npart of their motivation, but even secular organizations are motivated by some\nsort of a higher calling.\n\n### Open Source is a soup kitchen\n\nI've been developing Open Source both professionally and personally for 7 years\nand I'm going to tell you something that many Open Source developers won't admit.\nOpen Source software is not made for you. Sometimes Open Source developers are\nmotivated by the Free Software ideology and they imagine their code as\ntransforming the world, sometimes they just want to solve some problem for\nthemselves and they give away the resulting code. Open Source software is almost\nnever developed for the simple purpose of making another person's life a little\neasier.\n \n## If you aren't the customer you're the product\n \nThis aphorism has become popular with the rise of ad-tech and social network\nwebsites. The phrase invokes an image of free services coming like free grain\nbecause you are, in fact, the pig on his way to slaughter. In some way this is\ntrue, Silicon Valley business models are becoming disturbingly like human\nfarming.\n\nHowever, the phrase also invokes an image of an evil entrepreneur plotting to\nenslave humanity by creating a slick social network. If 1 in 1000 companies is\nsuccessful then logic implies there must be thousands of evil entrepreneurs\nrunning around everywhere. If this is true then where are all of the failed\nevil plotters? I've never met an entrepreneur who was anything less than an\naspiring saint.\n \nI think the real reason why social networks become human farms is because people\ndon't want to pay for development of web services and stuck between a successful\nhuman farm and a failing soup kitchen, entrepreneurs begrudgingly choose to farm.\n \n## Breaking out\n \nIf we're ever going to stop living in a world of farms and soup kitchens, we're\ngoing to need to get serious about incentives. Part of my intention in starting\nthe CryptPad project is to build something that is not a farm nor a soup kitchen.\nI want to have a mutually beneficial relationship with every one of CryptPad's\nusers, including you. I don't want to be a charity worker beholden to an NGO or\na post office clerk drawing a paycheck from the state. I want you to be my boss,\nI want to obsess about making your life better, I want fair exchange of value\nand aligned incentives.\n \n## Changes in CryptPad\n \n[As you may already know](/2017/05/23/CryptPad-use-it-love-it-support-it/),\ncryptpad.fr now limits your data storage and allows you to buy an account which\nwill raise that limit. The code for limits and accounts is also in the CryptPad\ncodebase and turned on by default. If you are installing CryptPad, you have\nthree choices.\n\n1. Leave it exactly as it is: People will be limited to 50MB of storage and they\nwill see a *Support CryptPad* button. In the development time this donated money\nbuys, we will pay special consideration to the needs of CryptPad admins like you.\n2. Share the revenue: If you specify some configuration parameters and send us\nan [email](mailto:sales@cryptpad.fr), the donation button will become an\n*Upgrade Account* button, allowing them to take a plan with additional storage\nquota. When people upgrade their account on your server, we will credit you 50%\nof the revenue earned. This helps us pay the cost of development and helps you\npay the cost of hosting.\n3. Disable the donate button: If you do this, we hope you will help CryptPad in\nsome other way such as by taking an on-premises support contract.\n\nIf you run a public CryptPad instance, please don't increase the 50MB per user\nstorage limit. This limit is what makes people subscribe and what pays for\nCryptPad development. Running a CryptPad instance which offers a \"better deal\"\nis effectively using the project against itself.\n\nFinally, new versions of CryptPad always check for new or expired accounts from\nour account server. We have added a parameter called *adminEmail* which will be\nsent along with the domain and version of CryptPad you're running. This way we\ncan notify you if we're aware of any a serious problems with your CryptPad\ninstance. We take your privacy seriously and will never sell your email or send\nyou marketing spam. If, however, you want to keep your CryptPad instance\ncompletely  hidden from us, you can set this parameter to **false** and it will\nnever query the account server.\n \n## Coming next\n \nOur objective is to help you collaborate, stay organized and get things done\nfaster and easier. We want to provide maximum value to you and we want you to\nprovide value to us so that we can continue doing it. As was said in the\nprevious post, the big issues which we are planning to tackle soon are:\n \n* File upload for PDF and image embedding\n* Text coloring based on the authors of the document\n* Workgroups for team collaboration\n* Zero Knowledge spreadsheets\n \nAs always, we will be continuing to put great effort into understanding your\nproblems, how you go about solving them, and how we can make little changes to\nmake CryptPad fit your needs better.\n \nCaleb\n \n","slug":"Building-mutually-beneficial-relationships","published":1,"updated":"2018-06-15T10:06:34.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjjttvqzm00017ezftjyl1j9b","content":"<p><em>People hosting instances of CryptPad should read at least the\n<a href=\"/2017/06/02/Building-mutually-beneficial-relationships/#Changes-in-CryptPad\">Changes in CryptPad</a>\nsection</em></p>\n<p><em>Thanks to Scott Alexander for some of the\n<a href=\"http://slatestarcodex.com/2014/07/30/meditations-on-moloch/\" target=\"_blank\" rel=\"external\">ethical foundations</a>\nof this post.</em></p>\n<hr>\n<p>You ever wonder why Open Source software always seems to be slightly harder\nto use and slightly buggier and slightly less <em>polished</em> than proprietary\ncompetitors?</p>\n<p>How about this: Why is it that good people who want to make good things somehow\nend up making evil things for evil corporations which sell them to other good\npeople who would (presumably) rather buy good things.</p>\n<h2 id=\"It’s-all-about-incentives\"><a href=\"#It’s-all-about-incentives\" class=\"headerlink\" title=\"It’s all about incentives\"></a>It’s all about incentives</h2><p>It’s hard to talk about incentives without sounding like a miserly tool, but if\nwe’re going to hack ourselves out of a situation that nobody really wants to be in,\nwe’re going to need to understand them pretty well.</p>\n<ul>\n<li>Why is Open Source habitually <em>90% of the way there</em> ?</li>\n<li>Why is Facebook more addictive than it is useful ?</li>\n<li>Why is it that when you get something for free, even from a well funded\ngovernment program, it’s reliably worse than something you buy?</li>\n</ul>\n<p>It’s all about incentives.</p>\n<h3 id=\"In-a-restaurant-you’re-the-customer\"><a href=\"#In-a-restaurant-you’re-the-customer\" class=\"headerlink\" title=\"In a restaurant, you’re the customer\"></a>In a restaurant, you’re the customer</h3><p>I love going to restaurants. I have no car and few possessions so restaurants are\nthe way I spend my income. Not only do I love food but I love the relationship\nwhich I have with restaurateurs. When I walk into a restaurant, I want to be fed\ndelicious food and they want to be paid, not only that, they want me to be happy\nso I will return many times and bring my friends. I want them to be happy so they\nwill give me bigger portions and maybe a little dessert on the house. Our\nincentives are aligned perfectly. We are practically a team.</p>\n<h3 id=\"In-a-soup-kitchen-you’re-just-a-user\"><a href=\"#In-a-soup-kitchen-you’re-just-a-user\" class=\"headerlink\" title=\"In a soup kitchen, you’re just a user\"></a>In a soup kitchen, you’re just a user</h3><p>It is hard to deny the importance of soup kitchens to the fabric of society.\nPart of what makes us able to claim to be civilized is the fact that we don’t let\npeople simply die if they’re down on their luck. Soup kitchens, however, are not\nrestaurants. When you walk into a soup kitchen, you are generally greeted kindly\nbut there is a subtle distinction from a restaurant, at a restaurant you’re the\ncustomer and at a soup kitchen you’re just a <em>user</em>. Many soup kitchens are\norganized around religious groups and  evangelizing their belief is a significant\npart of their motivation, but even secular organizations are motivated by some\nsort of a higher calling.</p>\n<h3 id=\"Open-Source-is-a-soup-kitchen\"><a href=\"#Open-Source-is-a-soup-kitchen\" class=\"headerlink\" title=\"Open Source is a soup kitchen\"></a>Open Source is a soup kitchen</h3><p>I’ve been developing Open Source both professionally and personally for 7 years\nand I’m going to tell you something that many Open Source developers won’t admit.\nOpen Source software is not made for you. Sometimes Open Source developers are\nmotivated by the Free Software ideology and they imagine their code as\ntransforming the world, sometimes they just want to solve some problem for\nthemselves and they give away the resulting code. Open Source software is almost\nnever developed for the simple purpose of making another person’s life a little\neasier.</p>\n<h2 id=\"If-you-aren’t-the-customer-you’re-the-product\"><a href=\"#If-you-aren’t-the-customer-you’re-the-product\" class=\"headerlink\" title=\"If you aren’t the customer you’re the product\"></a>If you aren’t the customer you’re the product</h2><p>This aphorism has become popular with the rise of ad-tech and social network\nwebsites. The phrase invokes an image of free services coming like free grain\nbecause you are, in fact, the pig on his way to slaughter. In some way this is\ntrue, Silicon Valley business models are becoming disturbingly like human\nfarming.</p>\n<p>However, the phrase also invokes an image of an evil entrepreneur plotting to\nenslave humanity by creating a slick social network. If 1 in 1000 companies is\nsuccessful then logic implies there must be thousands of evil entrepreneurs\nrunning around everywhere. If this is true then where are all of the failed\nevil plotters? I’ve never met an entrepreneur who was anything less than an\naspiring saint.</p>\n<p>I think the real reason why social networks become human farms is because people\ndon’t want to pay for development of web services and stuck between a successful\nhuman farm and a failing soup kitchen, entrepreneurs begrudgingly choose to farm.</p>\n<h2 id=\"Breaking-out\"><a href=\"#Breaking-out\" class=\"headerlink\" title=\"Breaking out\"></a>Breaking out</h2><p>If we’re ever going to stop living in a world of farms and soup kitchens, we’re\ngoing to need to get serious about incentives. Part of my intention in starting\nthe CryptPad project is to build something that is not a farm nor a soup kitchen.\nI want to have a mutually beneficial relationship with every one of CryptPad’s\nusers, including you. I don’t want to be a charity worker beholden to an NGO or\na post office clerk drawing a paycheck from the state. I want you to be my boss,\nI want to obsess about making your life better, I want fair exchange of value\nand aligned incentives.</p>\n<h2 id=\"Changes-in-CryptPad\"><a href=\"#Changes-in-CryptPad\" class=\"headerlink\" title=\"Changes in CryptPad\"></a>Changes in CryptPad</h2><p><a href=\"/2017/05/23/CryptPad-use-it-love-it-support-it/\">As you may already know</a>,\ncryptpad.fr now limits your data storage and allows you to buy an account which\nwill raise that limit. The code for limits and accounts is also in the CryptPad\ncodebase and turned on by default. If you are installing CryptPad, you have\nthree choices.</p>\n<ol>\n<li>Leave it exactly as it is: People will be limited to 50MB of storage and they\nwill see a <em>Support CryptPad</em> button. In the development time this donated money\nbuys, we will pay special consideration to the needs of CryptPad admins like you.</li>\n<li>Share the revenue: If you specify some configuration parameters and send us\nan <a href=\"mailto:sales@cryptpad.fr\" target=\"_blank\" rel=\"external\">email</a>, the donation button will become an\n<em>Upgrade Account</em> button, allowing them to take a plan with additional storage\nquota. When people upgrade their account on your server, we will credit you 50%\nof the revenue earned. This helps us pay the cost of development and helps you\npay the cost of hosting.</li>\n<li>Disable the donate button: If you do this, we hope you will help CryptPad in\nsome other way such as by taking an on-premises support contract.</li>\n</ol>\n<p>If you run a public CryptPad instance, please don’t increase the 50MB per user\nstorage limit. This limit is what makes people subscribe and what pays for\nCryptPad development. Running a CryptPad instance which offers a “better deal”\nis effectively using the project against itself.</p>\n<p>Finally, new versions of CryptPad always check for new or expired accounts from\nour account server. We have added a parameter called <em>adminEmail</em> which will be\nsent along with the domain and version of CryptPad you’re running. This way we\ncan notify you if we’re aware of any a serious problems with your CryptPad\ninstance. We take your privacy seriously and will never sell your email or send\nyou marketing spam. If, however, you want to keep your CryptPad instance\ncompletely  hidden from us, you can set this parameter to <strong>false</strong> and it will\nnever query the account server.</p>\n<h2 id=\"Coming-next\"><a href=\"#Coming-next\" class=\"headerlink\" title=\"Coming next\"></a>Coming next</h2><p>Our objective is to help you collaborate, stay organized and get things done\nfaster and easier. We want to provide maximum value to you and we want you to\nprovide value to us so that we can continue doing it. As was said in the\nprevious post, the big issues which we are planning to tackle soon are:</p>\n<ul>\n<li>File upload for PDF and image embedding</li>\n<li>Text coloring based on the authors of the document</li>\n<li>Workgroups for team collaboration</li>\n<li>Zero Knowledge spreadsheets</li>\n</ul>\n<p>As always, we will be continuing to put great effort into understanding your\nproblems, how you go about solving them, and how we can make little changes to\nmake CryptPad fit your needs better.</p>\n<p>Caleb</p>\n","excerpt":"","more":"<p><em>People hosting instances of CryptPad should read at least the\n<a href=\"/2017/06/02/Building-mutually-beneficial-relationships/#Changes-in-CryptPad\">Changes in CryptPad</a>\nsection</em></p>\n<p><em>Thanks to Scott Alexander for some of the\n<a href=\"http://slatestarcodex.com/2014/07/30/meditations-on-moloch/\">ethical foundations</a>\nof this post.</em></p>\n<hr>\n<p>You ever wonder why Open Source software always seems to be slightly harder\nto use and slightly buggier and slightly less <em>polished</em> than proprietary\ncompetitors?</p>\n<p>How about this: Why is it that good people who want to make good things somehow\nend up making evil things for evil corporations which sell them to other good\npeople who would (presumably) rather buy good things.</p>\n<h2 id=\"It’s-all-about-incentives\"><a href=\"#It’s-all-about-incentives\" class=\"headerlink\" title=\"It’s all about incentives\"></a>It’s all about incentives</h2><p>It’s hard to talk about incentives without sounding like a miserly tool, but if\nwe’re going to hack ourselves out of a situation that nobody really wants to be in,\nwe’re going to need to understand them pretty well.</p>\n<ul>\n<li>Why is Open Source habitually <em>90% of the way there</em> ?</li>\n<li>Why is Facebook more addictive than it is useful ?</li>\n<li>Why is it that when you get something for free, even from a well funded\ngovernment program, it’s reliably worse than something you buy?</li>\n</ul>\n<p>It’s all about incentives.</p>\n<h3 id=\"In-a-restaurant-you’re-the-customer\"><a href=\"#In-a-restaurant-you’re-the-customer\" class=\"headerlink\" title=\"In a restaurant, you’re the customer\"></a>In a restaurant, you’re the customer</h3><p>I love going to restaurants. I have no car and few possessions so restaurants are\nthe way I spend my income. Not only do I love food but I love the relationship\nwhich I have with restaurateurs. When I walk into a restaurant, I want to be fed\ndelicious food and they want to be paid, not only that, they want me to be happy\nso I will return many times and bring my friends. I want them to be happy so they\nwill give me bigger portions and maybe a little dessert on the house. Our\nincentives are aligned perfectly. We are practically a team.</p>\n<h3 id=\"In-a-soup-kitchen-you’re-just-a-user\"><a href=\"#In-a-soup-kitchen-you’re-just-a-user\" class=\"headerlink\" title=\"In a soup kitchen, you’re just a user\"></a>In a soup kitchen, you’re just a user</h3><p>It is hard to deny the importance of soup kitchens to the fabric of society.\nPart of what makes us able to claim to be civilized is the fact that we don’t let\npeople simply die if they’re down on their luck. Soup kitchens, however, are not\nrestaurants. When you walk into a soup kitchen, you are generally greeted kindly\nbut there is a subtle distinction from a restaurant, at a restaurant you’re the\ncustomer and at a soup kitchen you’re just a <em>user</em>. Many soup kitchens are\norganized around religious groups and  evangelizing their belief is a significant\npart of their motivation, but even secular organizations are motivated by some\nsort of a higher calling.</p>\n<h3 id=\"Open-Source-is-a-soup-kitchen\"><a href=\"#Open-Source-is-a-soup-kitchen\" class=\"headerlink\" title=\"Open Source is a soup kitchen\"></a>Open Source is a soup kitchen</h3><p>I’ve been developing Open Source both professionally and personally for 7 years\nand I’m going to tell you something that many Open Source developers won’t admit.\nOpen Source software is not made for you. Sometimes Open Source developers are\nmotivated by the Free Software ideology and they imagine their code as\ntransforming the world, sometimes they just want to solve some problem for\nthemselves and they give away the resulting code. Open Source software is almost\nnever developed for the simple purpose of making another person’s life a little\neasier.</p>\n<h2 id=\"If-you-aren’t-the-customer-you’re-the-product\"><a href=\"#If-you-aren’t-the-customer-you’re-the-product\" class=\"headerlink\" title=\"If you aren’t the customer you’re the product\"></a>If you aren’t the customer you’re the product</h2><p>This aphorism has become popular with the rise of ad-tech and social network\nwebsites. The phrase invokes an image of free services coming like free grain\nbecause you are, in fact, the pig on his way to slaughter. In some way this is\ntrue, Silicon Valley business models are becoming disturbingly like human\nfarming.</p>\n<p>However, the phrase also invokes an image of an evil entrepreneur plotting to\nenslave humanity by creating a slick social network. If 1 in 1000 companies is\nsuccessful then logic implies there must be thousands of evil entrepreneurs\nrunning around everywhere. If this is true then where are all of the failed\nevil plotters? I’ve never met an entrepreneur who was anything less than an\naspiring saint.</p>\n<p>I think the real reason why social networks become human farms is because people\ndon’t want to pay for development of web services and stuck between a successful\nhuman farm and a failing soup kitchen, entrepreneurs begrudgingly choose to farm.</p>\n<h2 id=\"Breaking-out\"><a href=\"#Breaking-out\" class=\"headerlink\" title=\"Breaking out\"></a>Breaking out</h2><p>If we’re ever going to stop living in a world of farms and soup kitchens, we’re\ngoing to need to get serious about incentives. Part of my intention in starting\nthe CryptPad project is to build something that is not a farm nor a soup kitchen.\nI want to have a mutually beneficial relationship with every one of CryptPad’s\nusers, including you. I don’t want to be a charity worker beholden to an NGO or\na post office clerk drawing a paycheck from the state. I want you to be my boss,\nI want to obsess about making your life better, I want fair exchange of value\nand aligned incentives.</p>\n<h2 id=\"Changes-in-CryptPad\"><a href=\"#Changes-in-CryptPad\" class=\"headerlink\" title=\"Changes in CryptPad\"></a>Changes in CryptPad</h2><p><a href=\"/2017/05/23/CryptPad-use-it-love-it-support-it/\">As you may already know</a>,\ncryptpad.fr now limits your data storage and allows you to buy an account which\nwill raise that limit. The code for limits and accounts is also in the CryptPad\ncodebase and turned on by default. If you are installing CryptPad, you have\nthree choices.</p>\n<ol>\n<li>Leave it exactly as it is: People will be limited to 50MB of storage and they\nwill see a <em>Support CryptPad</em> button. In the development time this donated money\nbuys, we will pay special consideration to the needs of CryptPad admins like you.</li>\n<li>Share the revenue: If you specify some configuration parameters and send us\nan <a href=\"mailto:sales@cryptpad.fr\">email</a>, the donation button will become an\n<em>Upgrade Account</em> button, allowing them to take a plan with additional storage\nquota. When people upgrade their account on your server, we will credit you 50%\nof the revenue earned. This helps us pay the cost of development and helps you\npay the cost of hosting.</li>\n<li>Disable the donate button: If you do this, we hope you will help CryptPad in\nsome other way such as by taking an on-premises support contract.</li>\n</ol>\n<p>If you run a public CryptPad instance, please don’t increase the 50MB per user\nstorage limit. This limit is what makes people subscribe and what pays for\nCryptPad development. Running a CryptPad instance which offers a “better deal”\nis effectively using the project against itself.</p>\n<p>Finally, new versions of CryptPad always check for new or expired accounts from\nour account server. We have added a parameter called <em>adminEmail</em> which will be\nsent along with the domain and version of CryptPad you’re running. This way we\ncan notify you if we’re aware of any a serious problems with your CryptPad\ninstance. We take your privacy seriously and will never sell your email or send\nyou marketing spam. If, however, you want to keep your CryptPad instance\ncompletely  hidden from us, you can set this parameter to <strong>false</strong> and it will\nnever query the account server.</p>\n<h2 id=\"Coming-next\"><a href=\"#Coming-next\" class=\"headerlink\" title=\"Coming next\"></a>Coming next</h2><p>Our objective is to help you collaborate, stay organized and get things done\nfaster and easier. We want to provide maximum value to you and we want you to\nprovide value to us so that we can continue doing it. As was said in the\nprevious post, the big issues which we are planning to tackle soon are:</p>\n<ul>\n<li>File upload for PDF and image embedding</li>\n<li>Text coloring based on the authors of the document</li>\n<li>Workgroups for team collaboration</li>\n<li>Zero Knowledge spreadsheets</li>\n</ul>\n<p>As always, we will be continuing to put great effort into understanding your\nproblems, how you go about solving them, and how we can make little changes to\nmake CryptPad fit your needs better.</p>\n<p>Caleb</p>\n"},{"title":"CryptPad Jackalope - File Upload, PDF and Pictures","date":"2017-06-21T10:48:48.000Z","author":"Caleb James DeLisle","_content":"\nYesterday we released CryptPad v1.9.0 Jackalope, we have some exciting new features\nwhich we've been working on for a long time. As part of the\n[UCF project](https://github.com/UCF-project) we have implemented a Zero Knowledge\n`media-tag` in CryptPad for displaying and downloading encrypted files stored in\nCryptPad. Starting now, you can upload files by clicking the upload button or\ndragging them into your CryptDrive. You can also view pictures and PDF files in\nCryptPad and you can drag-and-drop pictures **directly** into presentations. In the\nnext release we will hopefully be adding drag-and-drop pictures into the pad.\n\n![CryptDrive Upload](/images/CryptPad_drive_with_upload.png)\n\n## Filenames\n\nWe also made a significant but less visible improvement to the CryptDrive. When you\nmake a new pad in CryptPad, it has a *title*, which anyone in the pad can change, and\nit has a *filename* which it how the pad is shown in your CryptDrive. Because anyone\nat any time can change the *title* of a pad, the only way to know the titles of all\nthe pads in your drive is to load each and every one of them which would take a long\ntime. But the *filename* is your unique way to refer to a pad, it lives only in\n*your* CryptDrive and it is the same no matter what *title* someone gives to the pad.\n\nNow the CryptDrive UI shows only one name for a pad, this name is just the *title*\nof the pad at the last time you'd accessed it **unless** you assign it your own\n*filename*.\n\n## Slide Preview\n\nWhen you're using the CryptPad slide app to make a quick presentation, now you can\nsee your presentation in the righthand pane while you type. Since presentations are\nwritten in Markdown, this means you get a live action preview of what your\npresentation slides are going to look like.\n\n![Slide Preview and Drag & Drop](/images/CryptPad_slide_upload_and_preview.png)\n\n## Try it now\n\nHead over to [cryptpad.fr](https://cryptpad.fr) and give CryptPad a try !\n","source":"_posts/CryptPad-Jackalope-file-upload-pdf-and-pictures.md","raw":"---\ntitle: CryptPad Jackalope - File Upload, PDF and Pictures\ndate: 2017-06-21 12:48:48\nauthor: Caleb James DeLisle\ntags:\n  - pdf\n  - file\n  - upload\n  - embed\n---\n\nYesterday we released CryptPad v1.9.0 Jackalope, we have some exciting new features\nwhich we've been working on for a long time. As part of the\n[UCF project](https://github.com/UCF-project) we have implemented a Zero Knowledge\n`media-tag` in CryptPad for displaying and downloading encrypted files stored in\nCryptPad. Starting now, you can upload files by clicking the upload button or\ndragging them into your CryptDrive. You can also view pictures and PDF files in\nCryptPad and you can drag-and-drop pictures **directly** into presentations. In the\nnext release we will hopefully be adding drag-and-drop pictures into the pad.\n\n![CryptDrive Upload](/images/CryptPad_drive_with_upload.png)\n\n## Filenames\n\nWe also made a significant but less visible improvement to the CryptDrive. When you\nmake a new pad in CryptPad, it has a *title*, which anyone in the pad can change, and\nit has a *filename* which it how the pad is shown in your CryptDrive. Because anyone\nat any time can change the *title* of a pad, the only way to know the titles of all\nthe pads in your drive is to load each and every one of them which would take a long\ntime. But the *filename* is your unique way to refer to a pad, it lives only in\n*your* CryptDrive and it is the same no matter what *title* someone gives to the pad.\n\nNow the CryptDrive UI shows only one name for a pad, this name is just the *title*\nof the pad at the last time you'd accessed it **unless** you assign it your own\n*filename*.\n\n## Slide Preview\n\nWhen you're using the CryptPad slide app to make a quick presentation, now you can\nsee your presentation in the righthand pane while you type. Since presentations are\nwritten in Markdown, this means you get a live action preview of what your\npresentation slides are going to look like.\n\n![Slide Preview and Drag & Drop](/images/CryptPad_slide_upload_and_preview.png)\n\n## Try it now\n\nHead over to [cryptpad.fr](https://cryptpad.fr) and give CryptPad a try !\n","slug":"CryptPad-Jackalope-file-upload-pdf-and-pictures","published":1,"updated":"2018-06-15T10:06:34.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjjttvqzq00037ezfo1fullht","content":"<p>Yesterday we released CryptPad v1.9.0 Jackalope, we have some exciting new features\nwhich we’ve been working on for a long time. As part of the\n<a href=\"https://github.com/UCF-project\" target=\"_blank\" rel=\"external\">UCF project</a> we have implemented a Zero Knowledge\n<code>media-tag</code> in CryptPad for displaying and downloading encrypted files stored in\nCryptPad. Starting now, you can upload files by clicking the upload button or\ndragging them into your CryptDrive. You can also view pictures and PDF files in\nCryptPad and you can drag-and-drop pictures <strong>directly</strong> into presentations. In the\nnext release we will hopefully be adding drag-and-drop pictures into the pad.</p>\n<p><img src=\"/images/CryptPad_drive_with_upload.png\" alt=\"CryptDrive Upload\"></p>\n<h2 id=\"Filenames\"><a href=\"#Filenames\" class=\"headerlink\" title=\"Filenames\"></a>Filenames</h2><p>We also made a significant but less visible improvement to the CryptDrive. When you\nmake a new pad in CryptPad, it has a <em>title</em>, which anyone in the pad can change, and\nit has a <em>filename</em> which it how the pad is shown in your CryptDrive. Because anyone\nat any time can change the <em>title</em> of a pad, the only way to know the titles of all\nthe pads in your drive is to load each and every one of them which would take a long\ntime. But the <em>filename</em> is your unique way to refer to a pad, it lives only in\n<em>your</em> CryptDrive and it is the same no matter what <em>title</em> someone gives to the pad.</p>\n<p>Now the CryptDrive UI shows only one name for a pad, this name is just the <em>title</em>\nof the pad at the last time you’d accessed it <strong>unless</strong> you assign it your own\n<em>filename</em>.</p>\n<h2 id=\"Slide-Preview\"><a href=\"#Slide-Preview\" class=\"headerlink\" title=\"Slide Preview\"></a>Slide Preview</h2><p>When you’re using the CryptPad slide app to make a quick presentation, now you can\nsee your presentation in the righthand pane while you type. Since presentations are\nwritten in Markdown, this means you get a live action preview of what your\npresentation slides are going to look like.</p>\n<p><img src=\"/images/CryptPad_slide_upload_and_preview.png\" alt=\"Slide Preview and Drag &amp; Drop\"></p>\n<h2 id=\"Try-it-now\"><a href=\"#Try-it-now\" class=\"headerlink\" title=\"Try it now\"></a>Try it now</h2><p>Head over to <a href=\"https://cryptpad.fr\" target=\"_blank\" rel=\"external\">cryptpad.fr</a> and give CryptPad a try !</p>\n","excerpt":"","more":"<p>Yesterday we released CryptPad v1.9.0 Jackalope, we have some exciting new features\nwhich we’ve been working on for a long time. As part of the\n<a href=\"https://github.com/UCF-project\">UCF project</a> we have implemented a Zero Knowledge\n<code>media-tag</code> in CryptPad for displaying and downloading encrypted files stored in\nCryptPad. Starting now, you can upload files by clicking the upload button or\ndragging them into your CryptDrive. You can also view pictures and PDF files in\nCryptPad and you can drag-and-drop pictures <strong>directly</strong> into presentations. In the\nnext release we will hopefully be adding drag-and-drop pictures into the pad.</p>\n<p><img src=\"/images/CryptPad_drive_with_upload.png\" alt=\"CryptDrive Upload\"></p>\n<h2 id=\"Filenames\"><a href=\"#Filenames\" class=\"headerlink\" title=\"Filenames\"></a>Filenames</h2><p>We also made a significant but less visible improvement to the CryptDrive. When you\nmake a new pad in CryptPad, it has a <em>title</em>, which anyone in the pad can change, and\nit has a <em>filename</em> which it how the pad is shown in your CryptDrive. Because anyone\nat any time can change the <em>title</em> of a pad, the only way to know the titles of all\nthe pads in your drive is to load each and every one of them which would take a long\ntime. But the <em>filename</em> is your unique way to refer to a pad, it lives only in\n<em>your</em> CryptDrive and it is the same no matter what <em>title</em> someone gives to the pad.</p>\n<p>Now the CryptDrive UI shows only one name for a pad, this name is just the <em>title</em>\nof the pad at the last time you’d accessed it <strong>unless</strong> you assign it your own\n<em>filename</em>.</p>\n<h2 id=\"Slide-Preview\"><a href=\"#Slide-Preview\" class=\"headerlink\" title=\"Slide Preview\"></a>Slide Preview</h2><p>When you’re using the CryptPad slide app to make a quick presentation, now you can\nsee your presentation in the righthand pane while you type. Since presentations are\nwritten in Markdown, this means you get a live action preview of what your\npresentation slides are going to look like.</p>\n<p><img src=\"/images/CryptPad_slide_upload_and_preview.png\" alt=\"Slide Preview and Drag &amp; Drop\"></p>\n<h2 id=\"Try-it-now\"><a href=\"#Try-it-now\" class=\"headerlink\" title=\"Try it now\"></a>Try it now</h2><p>Head over to <a href=\"https://cryptpad.fr\">cryptpad.fr</a> and give CryptPad a try !</p>\n"},{"title":"CryptPad Roadmap","date":"2018-07-13T10:41:04.000Z","author":"Caleb James DeLisle","_content":"CryptPad was started as an experimental platform as part of the [OpenPaaS::NG research project](http://ng.open-paas.org/). Since then it has developed into a suite of editors for many different types of documents, all without ever leaking the content that you edit to the server or the server operators. Now, in order to keep the project moving, we need your help.\n\nWe have created a roadmap of the features which we would like to develop over the next year and **we're hoping to raise 60,000€** to finance it. Fortunately, **XWiki SAS is willing to match your donations euro-for-euro**. XWiki SAS is a company with open source at its heart and it was the company where CryptPad was first envisioned. XWiki SAS normally sells days of development time at about 1,000€ each, but since this project is dear to our hearts, we are also discounting the structure costs (things like the office and business taxes) for this project. **We believe in CryptPad, but in order to succeed, we need you to believe in it too**.\n\nThe following is a 48 week roadmap which will fund one developer to work on CryptPad. You can donate to this roadmap on https://opencollective.com/cryptpad or on https://accounts.cryptpad.fr/#/donate, if you would like to make a donation by wire transfer or by cryptocurrency, please get in touch with us at [sales@cryptpad.fr](mailto:sales@cryptpad.fr) and if you are involved in EU research projects and would like to work with us and this cutting edge Privacy Enhancing Technology, please contact [research@xwiki.com](mailto:research@xwiki.com).\n\n# Goal 1 - Spreadsheets & Office Documents\nCryptPad is excellent for quick editing of meeting notes and plans, and it is able to store and view images and PDF files, but it does not allow editing of more complex types of files such as spreadsheets and word documents. Fortunately there is an open source web-based editor called OnlyOffice which allows editing these complex document types, but it is a highly complex piece of software and we will need time and effort to integrate it into CryptPad. Even after it is fully integrated, the conversion of xlsx files to OnlyOffice's internal format will still need to be carried out be specialized software either on the user's computer, or on a cloud service (not Zero-Knowledge!). However, we think that editing of spreadsheets and other documents in OnlyOffice is achievable without leaking any of the content back to the CryptPad server, so your spreadsheets will remain a secret.\n\n* Spreadsheets, documents and presentations in CryptPad\n* Realtime collaborative editing of office documents\n* No import/export for now, this will come later\n* No embedding of images from CryptPad until later\n\nWe expect office file editing will take **30 days, a cost of €7,500**\n\n# Goal 2 - Comments on Rich Text Pads\nMany people use a workflow which includes the use of comments in a document. This is already standard in Google Docs and we need to be able to support it in CryptPad, in order to add comments we will need to add some HTML into the document without causing any problems for CKEditor (our rich text editor) and without causing it to be treated as part of the pad and synced over the wire.\n\n* In the rich text pad, you will be able to add a comment by selecting some text, right clicking it and clicking \"add comment\"\n* Comments will be shown in the right margin and associated with the text which highlighted them\n* Comments will be able to be replied to, or \"resolved\" (they will no longer be shown, but still be visible in history of the document)\n* If you delete the text with which a comment was associated, the comment will automatically be resolved\n\nWe expect Comments on Rich Text Pads to take about **10 days of development, a cost of €2,500**\n\n# Goal 3 - Contacts and Messaging\nTo be able to easily share documents and get the attention of a person, we would like to implement Contacts and Messaging in CryptPad, currently we have a rudimentry implementation which allows chatting with contacts, but the contact request feature needs to be stabilized with a better process for contact requests, better integration with pad-sharing menu and more clear notifications. We would also like to add a small chat window in each document so that everyone working on that document can chat about it. Finally, we would like to add the ability to at-reference someone when writing a comment on a pad, which will cause a message to be sent to them.\n\n* The share menu will include a list of contacts with whom you can share the pad\n* You will be able to email somebody a link which will invite them to become a contact of yours\n* Messages (pads shared with you, comments referencing you) will be shown in the upper-right when you come to CryptPad\n* When writing a comment (Goal 2), you will be able to at-reference a contact (with auto-complete) and they will be notified\n* Replying to (and resolving) a comment will also cause the author of the comment and anyone who replied to be notified\n\nWe expect Contacts and Messaging to take about **20 days of development, a cost of €5,000**\n\n# Goal 4 - Shared Drive\nWhen planning a significant project, often there is the need to have many pads for the different aspects of the project. Currently all of the collaborators on the project must share all of the pad links with each other and they must each organize them in their personal drives. Personal drive organization is a nice feature because it allows each person to organize their work the way that makes the most sense to them, but sometimes it is more advantageous to have a folder in everybody's drive which contains pads that are shared between all of them.\n\nShared folders are complicated to implement. Unlike your personal drive which is just one realtime object (essentially it's a pad), each shared folder must be a separate realtime object. Also, like a user account, a shared folder must be able to own pads, otherwise pads in that folder which are not in anyone's personal drive risk being deleted by the server as per our expiration policy.\n\n* You will be able to create a shared drive, just like you create a pad\n* In your drive, you will be able to explore inside of the shared drive and organize it just like a folder\n* You will be able to share the link to the Shared Drive with other people, when they click the link, it will import the shared drive into their personal drive\n\nWe expect Shared Drive to take about **20 days of development, a cost of €5,000**\n\n# Goal 5 - Federated Messaging\nThere are about 150 CryptPad instances in existence, operated by people and organizations who want the privacy which CryptPad offers and also the additional security guarantee, decentralization and customization of their own instance. We want to support this usage while still allowing people on one instance to chat and message people on another instance. We want to support the ability to add contacts (Goal 3) with people registered on a different instance. You will then be able to at-reference them in a comment or share a pad with them using the share menu as you would with a person using the same instance as you.\n\n* When you are on a pad or shared folder on somebody else's instance, you will be able to import it to your instance\n* Clicking a link to become a contact will work, even if you are registered on a different instance\n* Once you have made a contact, all features in Contacts and Messaging will function across instances\n\nWe expect Federated Messaging to take about **30 days of development, a cost of €7,500**\n\n# Goal 6 - Better permissions\nInitially, all pads were \"open\" pads, meaning they were accessible to anyone and there was no owner. Open pads are deleted automatically when they have not been touched in 3 months, unless a registered user has a reference to them. Once we added the ability to have registered users, we needed to make sure that users would not have the pads in their drive disappear off the server, so we implemented what we call pinning. Pinning is a way of claiming that a pad is important to you and that it should not be deleted. However, this left a problem, still pads had no owner, meaning nobody had the right to delete them. Once a pad was created, there was no way to delete it which was a serious problem for pads contining confidential information.\n\nIn order to allow pads to be deleted, we implemented _owned pads_, and the splash screen registered users now see when they create a new pad. So now you can delete it from the server when you are done with it. However, two problems remain:\n\n1. The owner of a pad is the person who created it and there is no way to add owners or share ownership\n2. There is no way to revoke access once it has been given\n\nIn order to solve #1, we will add the ability to share ownership with other people. For solving #2 in a Zero-Knowledge compatible way, we will need to introduce the concept of redirects, links which re-direct to the actual ID and key of the pad. Revoking access will be a matter of changing the pad's ID and then updating all of the redirects which are *not* to be revoked. This will allow the creation of pads which can only be viewed by registered users who are invited. Even view-only links to a pad will be able to be revoked by the owners of that pad.\n\n* Pads which are only accessible by people invited, or members of a group\n* Grant and revoke access\n* Create new links to a pad, and revoke them\n\nWe expect better permissions will take about **40 days of development, a cost of €10,000**\n\n# Goal 7 - Color-by-author\nAfter something is typed into a pad, the person who typed cannot be determined, we would like to change this and allow the etherpad-like behavior of shading the text differently based on who typed it. This will require getting the author from each patch in the stream of changes to the pad and making it available to the pad structure. In CryptPad there is a special message type which is called a checkpoint, it replaces the entire pad so that when a new person arrives in the pad, they don't need to download more history than the previous 2 checkpoints. We will need to take special care to preserve the editor of each piece of the document when we create checkpoints, finally we will need to be able to shade the text based on it's author, without either messing up CKEditor or causing the shading to be sent over the wire as if it were part of the pad.\n\n* When an option is selected, text in the rich text app will be shaded with a color based on the author of that text\n* The user list will show users who have joined and then left again, along with the color of their changes\n* Right-clicking on the text will show the name of the person who wrote it (including whether they are one of your contacts)\n\nWe expect Color-by-author to take about **20 days of development, a cost of €5,000**\n\n# Goal 8 - Offline and Suggested Edits\nLike color-by-author, Offline and Suggested Edits is a reasonably complicated feature to implement. When working on a complex document, it is nice to be able to propose a change without actually changing the document, or make a change while disconnected from the internet and then have someone (maybe you) merge it later. However, this is complicated because when it comes time to merge that change, the document may have significantly changed, necessitating a smart merge.\n\nRich text pads in CryptPad are stored in a quazi-html representation so patching and merging is anything but simple. The operational transformation done normally on pads takes advantage of the fact that divergences are small and infrequent so merging usually works ok. This feature will require development of a smart merging algorithm for the rich text app as well as for any other app for which one would like to have suggested edits and offline.\n\n* Suggestion mode, your change is shown shaded and can be accepted or rejected, it will be attached to a comment so you can explain it\n* When offline, you are automatically put into suggestion mode instead of read-only mode\n\nWe expect Offline and Suggested Edits to take **40 days of development, a cost of €10,000**\n\n# Goal 9 - All the little things\nEven though it doesn't get a lot of press, a significant amount of time is spent just fixing bugs, handling pull requests and doing releases. We want to keep CryptPad a community project and so we want to make sure that when someone makes a pull-request to the project, that request can be properly handled. Also, because CryptPad makes such use of modern HTML5 features, new releases of Chrome and Firefox typically introduce new bugs in CryptPad. There is rarely enough time to handle all of the issues which crop up, but we need to allocate time to handle some of them. This roadmap allocates the time of one person for 48 weeks, which means 24 releases, we need at least 1 day per release just to perform the release and write the release notes and fix miscellanious issues which appear.\n\n* Keep on fixing bugs in CryptPad \n* Handle pull requests and make releases\n\nWe expect all the little things to take **30 days of development, a cost of €7,500**","source":"_posts/CryptPad-Roadmap.md","raw":"---\ntitle: CryptPad Roadmap\ndate: 2018-07-13 12:41:04\nauthor: Caleb James DeLisle\ntags:\n  - Roadmap\n  - Financing\n---\nCryptPad was started as an experimental platform as part of the [OpenPaaS::NG research project](http://ng.open-paas.org/). Since then it has developed into a suite of editors for many different types of documents, all without ever leaking the content that you edit to the server or the server operators. Now, in order to keep the project moving, we need your help.\n\nWe have created a roadmap of the features which we would like to develop over the next year and **we're hoping to raise 60,000€** to finance it. Fortunately, **XWiki SAS is willing to match your donations euro-for-euro**. XWiki SAS is a company with open source at its heart and it was the company where CryptPad was first envisioned. XWiki SAS normally sells days of development time at about 1,000€ each, but since this project is dear to our hearts, we are also discounting the structure costs (things like the office and business taxes) for this project. **We believe in CryptPad, but in order to succeed, we need you to believe in it too**.\n\nThe following is a 48 week roadmap which will fund one developer to work on CryptPad. You can donate to this roadmap on https://opencollective.com/cryptpad or on https://accounts.cryptpad.fr/#/donate, if you would like to make a donation by wire transfer or by cryptocurrency, please get in touch with us at [sales@cryptpad.fr](mailto:sales@cryptpad.fr) and if you are involved in EU research projects and would like to work with us and this cutting edge Privacy Enhancing Technology, please contact [research@xwiki.com](mailto:research@xwiki.com).\n\n# Goal 1 - Spreadsheets & Office Documents\nCryptPad is excellent for quick editing of meeting notes and plans, and it is able to store and view images and PDF files, but it does not allow editing of more complex types of files such as spreadsheets and word documents. Fortunately there is an open source web-based editor called OnlyOffice which allows editing these complex document types, but it is a highly complex piece of software and we will need time and effort to integrate it into CryptPad. Even after it is fully integrated, the conversion of xlsx files to OnlyOffice's internal format will still need to be carried out be specialized software either on the user's computer, or on a cloud service (not Zero-Knowledge!). However, we think that editing of spreadsheets and other documents in OnlyOffice is achievable without leaking any of the content back to the CryptPad server, so your spreadsheets will remain a secret.\n\n* Spreadsheets, documents and presentations in CryptPad\n* Realtime collaborative editing of office documents\n* No import/export for now, this will come later\n* No embedding of images from CryptPad until later\n\nWe expect office file editing will take **30 days, a cost of €7,500**\n\n# Goal 2 - Comments on Rich Text Pads\nMany people use a workflow which includes the use of comments in a document. This is already standard in Google Docs and we need to be able to support it in CryptPad, in order to add comments we will need to add some HTML into the document without causing any problems for CKEditor (our rich text editor) and without causing it to be treated as part of the pad and synced over the wire.\n\n* In the rich text pad, you will be able to add a comment by selecting some text, right clicking it and clicking \"add comment\"\n* Comments will be shown in the right margin and associated with the text which highlighted them\n* Comments will be able to be replied to, or \"resolved\" (they will no longer be shown, but still be visible in history of the document)\n* If you delete the text with which a comment was associated, the comment will automatically be resolved\n\nWe expect Comments on Rich Text Pads to take about **10 days of development, a cost of €2,500**\n\n# Goal 3 - Contacts and Messaging\nTo be able to easily share documents and get the attention of a person, we would like to implement Contacts and Messaging in CryptPad, currently we have a rudimentry implementation which allows chatting with contacts, but the contact request feature needs to be stabilized with a better process for contact requests, better integration with pad-sharing menu and more clear notifications. We would also like to add a small chat window in each document so that everyone working on that document can chat about it. Finally, we would like to add the ability to at-reference someone when writing a comment on a pad, which will cause a message to be sent to them.\n\n* The share menu will include a list of contacts with whom you can share the pad\n* You will be able to email somebody a link which will invite them to become a contact of yours\n* Messages (pads shared with you, comments referencing you) will be shown in the upper-right when you come to CryptPad\n* When writing a comment (Goal 2), you will be able to at-reference a contact (with auto-complete) and they will be notified\n* Replying to (and resolving) a comment will also cause the author of the comment and anyone who replied to be notified\n\nWe expect Contacts and Messaging to take about **20 days of development, a cost of €5,000**\n\n# Goal 4 - Shared Drive\nWhen planning a significant project, often there is the need to have many pads for the different aspects of the project. Currently all of the collaborators on the project must share all of the pad links with each other and they must each organize them in their personal drives. Personal drive organization is a nice feature because it allows each person to organize their work the way that makes the most sense to them, but sometimes it is more advantageous to have a folder in everybody's drive which contains pads that are shared between all of them.\n\nShared folders are complicated to implement. Unlike your personal drive which is just one realtime object (essentially it's a pad), each shared folder must be a separate realtime object. Also, like a user account, a shared folder must be able to own pads, otherwise pads in that folder which are not in anyone's personal drive risk being deleted by the server as per our expiration policy.\n\n* You will be able to create a shared drive, just like you create a pad\n* In your drive, you will be able to explore inside of the shared drive and organize it just like a folder\n* You will be able to share the link to the Shared Drive with other people, when they click the link, it will import the shared drive into their personal drive\n\nWe expect Shared Drive to take about **20 days of development, a cost of €5,000**\n\n# Goal 5 - Federated Messaging\nThere are about 150 CryptPad instances in existence, operated by people and organizations who want the privacy which CryptPad offers and also the additional security guarantee, decentralization and customization of their own instance. We want to support this usage while still allowing people on one instance to chat and message people on another instance. We want to support the ability to add contacts (Goal 3) with people registered on a different instance. You will then be able to at-reference them in a comment or share a pad with them using the share menu as you would with a person using the same instance as you.\n\n* When you are on a pad or shared folder on somebody else's instance, you will be able to import it to your instance\n* Clicking a link to become a contact will work, even if you are registered on a different instance\n* Once you have made a contact, all features in Contacts and Messaging will function across instances\n\nWe expect Federated Messaging to take about **30 days of development, a cost of €7,500**\n\n# Goal 6 - Better permissions\nInitially, all pads were \"open\" pads, meaning they were accessible to anyone and there was no owner. Open pads are deleted automatically when they have not been touched in 3 months, unless a registered user has a reference to them. Once we added the ability to have registered users, we needed to make sure that users would not have the pads in their drive disappear off the server, so we implemented what we call pinning. Pinning is a way of claiming that a pad is important to you and that it should not be deleted. However, this left a problem, still pads had no owner, meaning nobody had the right to delete them. Once a pad was created, there was no way to delete it which was a serious problem for pads contining confidential information.\n\nIn order to allow pads to be deleted, we implemented _owned pads_, and the splash screen registered users now see when they create a new pad. So now you can delete it from the server when you are done with it. However, two problems remain:\n\n1. The owner of a pad is the person who created it and there is no way to add owners or share ownership\n2. There is no way to revoke access once it has been given\n\nIn order to solve #1, we will add the ability to share ownership with other people. For solving #2 in a Zero-Knowledge compatible way, we will need to introduce the concept of redirects, links which re-direct to the actual ID and key of the pad. Revoking access will be a matter of changing the pad's ID and then updating all of the redirects which are *not* to be revoked. This will allow the creation of pads which can only be viewed by registered users who are invited. Even view-only links to a pad will be able to be revoked by the owners of that pad.\n\n* Pads which are only accessible by people invited, or members of a group\n* Grant and revoke access\n* Create new links to a pad, and revoke them\n\nWe expect better permissions will take about **40 days of development, a cost of €10,000**\n\n# Goal 7 - Color-by-author\nAfter something is typed into a pad, the person who typed cannot be determined, we would like to change this and allow the etherpad-like behavior of shading the text differently based on who typed it. This will require getting the author from each patch in the stream of changes to the pad and making it available to the pad structure. In CryptPad there is a special message type which is called a checkpoint, it replaces the entire pad so that when a new person arrives in the pad, they don't need to download more history than the previous 2 checkpoints. We will need to take special care to preserve the editor of each piece of the document when we create checkpoints, finally we will need to be able to shade the text based on it's author, without either messing up CKEditor or causing the shading to be sent over the wire as if it were part of the pad.\n\n* When an option is selected, text in the rich text app will be shaded with a color based on the author of that text\n* The user list will show users who have joined and then left again, along with the color of their changes\n* Right-clicking on the text will show the name of the person who wrote it (including whether they are one of your contacts)\n\nWe expect Color-by-author to take about **20 days of development, a cost of €5,000**\n\n# Goal 8 - Offline and Suggested Edits\nLike color-by-author, Offline and Suggested Edits is a reasonably complicated feature to implement. When working on a complex document, it is nice to be able to propose a change without actually changing the document, or make a change while disconnected from the internet and then have someone (maybe you) merge it later. However, this is complicated because when it comes time to merge that change, the document may have significantly changed, necessitating a smart merge.\n\nRich text pads in CryptPad are stored in a quazi-html representation so patching and merging is anything but simple. The operational transformation done normally on pads takes advantage of the fact that divergences are small and infrequent so merging usually works ok. This feature will require development of a smart merging algorithm for the rich text app as well as for any other app for which one would like to have suggested edits and offline.\n\n* Suggestion mode, your change is shown shaded and can be accepted or rejected, it will be attached to a comment so you can explain it\n* When offline, you are automatically put into suggestion mode instead of read-only mode\n\nWe expect Offline and Suggested Edits to take **40 days of development, a cost of €10,000**\n\n# Goal 9 - All the little things\nEven though it doesn't get a lot of press, a significant amount of time is spent just fixing bugs, handling pull requests and doing releases. We want to keep CryptPad a community project and so we want to make sure that when someone makes a pull-request to the project, that request can be properly handled. Also, because CryptPad makes such use of modern HTML5 features, new releases of Chrome and Firefox typically introduce new bugs in CryptPad. There is rarely enough time to handle all of the issues which crop up, but we need to allocate time to handle some of them. This roadmap allocates the time of one person for 48 weeks, which means 24 releases, we need at least 1 day per release just to perform the release and write the release notes and fix miscellanious issues which appear.\n\n* Keep on fixing bugs in CryptPad \n* Handle pull requests and make releases\n\nWe expect all the little things to take **30 days of development, a cost of €7,500**","slug":"CryptPad-Roadmap","published":1,"updated":"2018-07-13T10:45:54.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjjttvqzs00047ezffu1nf6gl","content":"<p>CryptPad was started as an experimental platform as part of the <a href=\"http://ng.open-paas.org/\" target=\"_blank\" rel=\"external\">OpenPaaS::NG research project</a>. Since then it has developed into a suite of editors for many different types of documents, all without ever leaking the content that you edit to the server or the server operators. Now, in order to keep the project moving, we need your help.</p>\n<p>We have created a roadmap of the features which we would like to develop over the next year and <strong>we’re hoping to raise 60,000€</strong> to finance it. Fortunately, <strong>XWiki SAS is willing to match your donations euro-for-euro</strong>. XWiki SAS is a company with open source at its heart and it was the company where CryptPad was first envisioned. XWiki SAS normally sells days of development time at about 1,000€ each, but since this project is dear to our hearts, we are also discounting the structure costs (things like the office and business taxes) for this project. <strong>We believe in CryptPad, but in order to succeed, we need you to believe in it too</strong>.</p>\n<p>The following is a 48 week roadmap which will fund one developer to work on CryptPad. You can donate to this roadmap on <a href=\"https://opencollective.com/cryptpad\" target=\"_blank\" rel=\"external\">https://opencollective.com/cryptpad</a> or on <a href=\"https://accounts.cryptpad.fr/#/donate\" target=\"_blank\" rel=\"external\">https://accounts.cryptpad.fr/#/donate</a>, if you would like to make a donation by wire transfer or by cryptocurrency, please get in touch with us at <a href=\"mailto:sales@cryptpad.fr\" target=\"_blank\" rel=\"external\">sales@cryptpad.fr</a> and if you are involved in EU research projects and would like to work with us and this cutting edge Privacy Enhancing Technology, please contact <a href=\"mailto:research@xwiki.com\" target=\"_blank\" rel=\"external\">research@xwiki.com</a>.</p>\n<h1 id=\"Goal-1-Spreadsheets-amp-Office-Documents\"><a href=\"#Goal-1-Spreadsheets-amp-Office-Documents\" class=\"headerlink\" title=\"Goal 1 - Spreadsheets &amp; Office Documents\"></a>Goal 1 - Spreadsheets &amp; Office Documents</h1><p>CryptPad is excellent for quick editing of meeting notes and plans, and it is able to store and view images and PDF files, but it does not allow editing of more complex types of files such as spreadsheets and word documents. Fortunately there is an open source web-based editor called OnlyOffice which allows editing these complex document types, but it is a highly complex piece of software and we will need time and effort to integrate it into CryptPad. Even after it is fully integrated, the conversion of xlsx files to OnlyOffice’s internal format will still need to be carried out be specialized software either on the user’s computer, or on a cloud service (not Zero-Knowledge!). However, we think that editing of spreadsheets and other documents in OnlyOffice is achievable without leaking any of the content back to the CryptPad server, so your spreadsheets will remain a secret.</p>\n<ul>\n<li>Spreadsheets, documents and presentations in CryptPad</li>\n<li>Realtime collaborative editing of office documents</li>\n<li>No import/export for now, this will come later</li>\n<li>No embedding of images from CryptPad until later</li>\n</ul>\n<p>We expect office file editing will take <strong>30 days, a cost of €7,500</strong></p>\n<h1 id=\"Goal-2-Comments-on-Rich-Text-Pads\"><a href=\"#Goal-2-Comments-on-Rich-Text-Pads\" class=\"headerlink\" title=\"Goal 2 - Comments on Rich Text Pads\"></a>Goal 2 - Comments on Rich Text Pads</h1><p>Many people use a workflow which includes the use of comments in a document. This is already standard in Google Docs and we need to be able to support it in CryptPad, in order to add comments we will need to add some HTML into the document without causing any problems for CKEditor (our rich text editor) and without causing it to be treated as part of the pad and synced over the wire.</p>\n<ul>\n<li>In the rich text pad, you will be able to add a comment by selecting some text, right clicking it and clicking “add comment”</li>\n<li>Comments will be shown in the right margin and associated with the text which highlighted them</li>\n<li>Comments will be able to be replied to, or “resolved” (they will no longer be shown, but still be visible in history of the document)</li>\n<li>If you delete the text with which a comment was associated, the comment will automatically be resolved</li>\n</ul>\n<p>We expect Comments on Rich Text Pads to take about <strong>10 days of development, a cost of €2,500</strong></p>\n<h1 id=\"Goal-3-Contacts-and-Messaging\"><a href=\"#Goal-3-Contacts-and-Messaging\" class=\"headerlink\" title=\"Goal 3 - Contacts and Messaging\"></a>Goal 3 - Contacts and Messaging</h1><p>To be able to easily share documents and get the attention of a person, we would like to implement Contacts and Messaging in CryptPad, currently we have a rudimentry implementation which allows chatting with contacts, but the contact request feature needs to be stabilized with a better process for contact requests, better integration with pad-sharing menu and more clear notifications. We would also like to add a small chat window in each document so that everyone working on that document can chat about it. Finally, we would like to add the ability to at-reference someone when writing a comment on a pad, which will cause a message to be sent to them.</p>\n<ul>\n<li>The share menu will include a list of contacts with whom you can share the pad</li>\n<li>You will be able to email somebody a link which will invite them to become a contact of yours</li>\n<li>Messages (pads shared with you, comments referencing you) will be shown in the upper-right when you come to CryptPad</li>\n<li>When writing a comment (Goal 2), you will be able to at-reference a contact (with auto-complete) and they will be notified</li>\n<li>Replying to (and resolving) a comment will also cause the author of the comment and anyone who replied to be notified</li>\n</ul>\n<p>We expect Contacts and Messaging to take about <strong>20 days of development, a cost of €5,000</strong></p>\n<h1 id=\"Goal-4-Shared-Drive\"><a href=\"#Goal-4-Shared-Drive\" class=\"headerlink\" title=\"Goal 4 - Shared Drive\"></a>Goal 4 - Shared Drive</h1><p>When planning a significant project, often there is the need to have many pads for the different aspects of the project. Currently all of the collaborators on the project must share all of the pad links with each other and they must each organize them in their personal drives. Personal drive organization is a nice feature because it allows each person to organize their work the way that makes the most sense to them, but sometimes it is more advantageous to have a folder in everybody’s drive which contains pads that are shared between all of them.</p>\n<p>Shared folders are complicated to implement. Unlike your personal drive which is just one realtime object (essentially it’s a pad), each shared folder must be a separate realtime object. Also, like a user account, a shared folder must be able to own pads, otherwise pads in that folder which are not in anyone’s personal drive risk being deleted by the server as per our expiration policy.</p>\n<ul>\n<li>You will be able to create a shared drive, just like you create a pad</li>\n<li>In your drive, you will be able to explore inside of the shared drive and organize it just like a folder</li>\n<li>You will be able to share the link to the Shared Drive with other people, when they click the link, it will import the shared drive into their personal drive</li>\n</ul>\n<p>We expect Shared Drive to take about <strong>20 days of development, a cost of €5,000</strong></p>\n<h1 id=\"Goal-5-Federated-Messaging\"><a href=\"#Goal-5-Federated-Messaging\" class=\"headerlink\" title=\"Goal 5 - Federated Messaging\"></a>Goal 5 - Federated Messaging</h1><p>There are about 150 CryptPad instances in existence, operated by people and organizations who want the privacy which CryptPad offers and also the additional security guarantee, decentralization and customization of their own instance. We want to support this usage while still allowing people on one instance to chat and message people on another instance. We want to support the ability to add contacts (Goal 3) with people registered on a different instance. You will then be able to at-reference them in a comment or share a pad with them using the share menu as you would with a person using the same instance as you.</p>\n<ul>\n<li>When you are on a pad or shared folder on somebody else’s instance, you will be able to import it to your instance</li>\n<li>Clicking a link to become a contact will work, even if you are registered on a different instance</li>\n<li>Once you have made a contact, all features in Contacts and Messaging will function across instances</li>\n</ul>\n<p>We expect Federated Messaging to take about <strong>30 days of development, a cost of €7,500</strong></p>\n<h1 id=\"Goal-6-Better-permissions\"><a href=\"#Goal-6-Better-permissions\" class=\"headerlink\" title=\"Goal 6 - Better permissions\"></a>Goal 6 - Better permissions</h1><p>Initially, all pads were “open” pads, meaning they were accessible to anyone and there was no owner. Open pads are deleted automatically when they have not been touched in 3 months, unless a registered user has a reference to them. Once we added the ability to have registered users, we needed to make sure that users would not have the pads in their drive disappear off the server, so we implemented what we call pinning. Pinning is a way of claiming that a pad is important to you and that it should not be deleted. However, this left a problem, still pads had no owner, meaning nobody had the right to delete them. Once a pad was created, there was no way to delete it which was a serious problem for pads contining confidential information.</p>\n<p>In order to allow pads to be deleted, we implemented <em>owned pads</em>, and the splash screen registered users now see when they create a new pad. So now you can delete it from the server when you are done with it. However, two problems remain:</p>\n<ol>\n<li>The owner of a pad is the person who created it and there is no way to add owners or share ownership</li>\n<li>There is no way to revoke access once it has been given</li>\n</ol>\n<p>In order to solve #1, we will add the ability to share ownership with other people. For solving #2 in a Zero-Knowledge compatible way, we will need to introduce the concept of redirects, links which re-direct to the actual ID and key of the pad. Revoking access will be a matter of changing the pad’s ID and then updating all of the redirects which are <em>not</em> to be revoked. This will allow the creation of pads which can only be viewed by registered users who are invited. Even view-only links to a pad will be able to be revoked by the owners of that pad.</p>\n<ul>\n<li>Pads which are only accessible by people invited, or members of a group</li>\n<li>Grant and revoke access</li>\n<li>Create new links to a pad, and revoke them</li>\n</ul>\n<p>We expect better permissions will take about <strong>40 days of development, a cost of €10,000</strong></p>\n<h1 id=\"Goal-7-Color-by-author\"><a href=\"#Goal-7-Color-by-author\" class=\"headerlink\" title=\"Goal 7 - Color-by-author\"></a>Goal 7 - Color-by-author</h1><p>After something is typed into a pad, the person who typed cannot be determined, we would like to change this and allow the etherpad-like behavior of shading the text differently based on who typed it. This will require getting the author from each patch in the stream of changes to the pad and making it available to the pad structure. In CryptPad there is a special message type which is called a checkpoint, it replaces the entire pad so that when a new person arrives in the pad, they don’t need to download more history than the previous 2 checkpoints. We will need to take special care to preserve the editor of each piece of the document when we create checkpoints, finally we will need to be able to shade the text based on it’s author, without either messing up CKEditor or causing the shading to be sent over the wire as if it were part of the pad.</p>\n<ul>\n<li>When an option is selected, text in the rich text app will be shaded with a color based on the author of that text</li>\n<li>The user list will show users who have joined and then left again, along with the color of their changes</li>\n<li>Right-clicking on the text will show the name of the person who wrote it (including whether they are one of your contacts)</li>\n</ul>\n<p>We expect Color-by-author to take about <strong>20 days of development, a cost of €5,000</strong></p>\n<h1 id=\"Goal-8-Offline-and-Suggested-Edits\"><a href=\"#Goal-8-Offline-and-Suggested-Edits\" class=\"headerlink\" title=\"Goal 8 - Offline and Suggested Edits\"></a>Goal 8 - Offline and Suggested Edits</h1><p>Like color-by-author, Offline and Suggested Edits is a reasonably complicated feature to implement. When working on a complex document, it is nice to be able to propose a change without actually changing the document, or make a change while disconnected from the internet and then have someone (maybe you) merge it later. However, this is complicated because when it comes time to merge that change, the document may have significantly changed, necessitating a smart merge.</p>\n<p>Rich text pads in CryptPad are stored in a quazi-html representation so patching and merging is anything but simple. The operational transformation done normally on pads takes advantage of the fact that divergences are small and infrequent so merging usually works ok. This feature will require development of a smart merging algorithm for the rich text app as well as for any other app for which one would like to have suggested edits and offline.</p>\n<ul>\n<li>Suggestion mode, your change is shown shaded and can be accepted or rejected, it will be attached to a comment so you can explain it</li>\n<li>When offline, you are automatically put into suggestion mode instead of read-only mode</li>\n</ul>\n<p>We expect Offline and Suggested Edits to take <strong>40 days of development, a cost of €10,000</strong></p>\n<h1 id=\"Goal-9-All-the-little-things\"><a href=\"#Goal-9-All-the-little-things\" class=\"headerlink\" title=\"Goal 9 - All the little things\"></a>Goal 9 - All the little things</h1><p>Even though it doesn’t get a lot of press, a significant amount of time is spent just fixing bugs, handling pull requests and doing releases. We want to keep CryptPad a community project and so we want to make sure that when someone makes a pull-request to the project, that request can be properly handled. Also, because CryptPad makes such use of modern HTML5 features, new releases of Chrome and Firefox typically introduce new bugs in CryptPad. There is rarely enough time to handle all of the issues which crop up, but we need to allocate time to handle some of them. This roadmap allocates the time of one person for 48 weeks, which means 24 releases, we need at least 1 day per release just to perform the release and write the release notes and fix miscellanious issues which appear.</p>\n<ul>\n<li>Keep on fixing bugs in CryptPad </li>\n<li>Handle pull requests and make releases</li>\n</ul>\n<p>We expect all the little things to take <strong>30 days of development, a cost of €7,500</strong></p>\n","excerpt":"","more":"<p>CryptPad was started as an experimental platform as part of the <a href=\"http://ng.open-paas.org/\">OpenPaaS::NG research project</a>. Since then it has developed into a suite of editors for many different types of documents, all without ever leaking the content that you edit to the server or the server operators. Now, in order to keep the project moving, we need your help.</p>\n<p>We have created a roadmap of the features which we would like to develop over the next year and <strong>we’re hoping to raise 60,000€</strong> to finance it. Fortunately, <strong>XWiki SAS is willing to match your donations euro-for-euro</strong>. XWiki SAS is a company with open source at its heart and it was the company where CryptPad was first envisioned. XWiki SAS normally sells days of development time at about 1,000€ each, but since this project is dear to our hearts, we are also discounting the structure costs (things like the office and business taxes) for this project. <strong>We believe in CryptPad, but in order to succeed, we need you to believe in it too</strong>.</p>\n<p>The following is a 48 week roadmap which will fund one developer to work on CryptPad. You can donate to this roadmap on <a href=\"https://opencollective.com/cryptpad\">https://opencollective.com/cryptpad</a> or on <a href=\"https://accounts.cryptpad.fr/#/donate\">https://accounts.cryptpad.fr/#/donate</a>, if you would like to make a donation by wire transfer or by cryptocurrency, please get in touch with us at <a href=\"mailto:sales@cryptpad.fr\">sales@cryptpad.fr</a> and if you are involved in EU research projects and would like to work with us and this cutting edge Privacy Enhancing Technology, please contact <a href=\"mailto:research@xwiki.com\">research@xwiki.com</a>.</p>\n<h1 id=\"Goal-1-Spreadsheets-amp-Office-Documents\"><a href=\"#Goal-1-Spreadsheets-amp-Office-Documents\" class=\"headerlink\" title=\"Goal 1 - Spreadsheets &amp; Office Documents\"></a>Goal 1 - Spreadsheets &amp; Office Documents</h1><p>CryptPad is excellent for quick editing of meeting notes and plans, and it is able to store and view images and PDF files, but it does not allow editing of more complex types of files such as spreadsheets and word documents. Fortunately there is an open source web-based editor called OnlyOffice which allows editing these complex document types, but it is a highly complex piece of software and we will need time and effort to integrate it into CryptPad. Even after it is fully integrated, the conversion of xlsx files to OnlyOffice’s internal format will still need to be carried out be specialized software either on the user’s computer, or on a cloud service (not Zero-Knowledge!). However, we think that editing of spreadsheets and other documents in OnlyOffice is achievable without leaking any of the content back to the CryptPad server, so your spreadsheets will remain a secret.</p>\n<ul>\n<li>Spreadsheets, documents and presentations in CryptPad</li>\n<li>Realtime collaborative editing of office documents</li>\n<li>No import/export for now, this will come later</li>\n<li>No embedding of images from CryptPad until later</li>\n</ul>\n<p>We expect office file editing will take <strong>30 days, a cost of €7,500</strong></p>\n<h1 id=\"Goal-2-Comments-on-Rich-Text-Pads\"><a href=\"#Goal-2-Comments-on-Rich-Text-Pads\" class=\"headerlink\" title=\"Goal 2 - Comments on Rich Text Pads\"></a>Goal 2 - Comments on Rich Text Pads</h1><p>Many people use a workflow which includes the use of comments in a document. This is already standard in Google Docs and we need to be able to support it in CryptPad, in order to add comments we will need to add some HTML into the document without causing any problems for CKEditor (our rich text editor) and without causing it to be treated as part of the pad and synced over the wire.</p>\n<ul>\n<li>In the rich text pad, you will be able to add a comment by selecting some text, right clicking it and clicking “add comment”</li>\n<li>Comments will be shown in the right margin and associated with the text which highlighted them</li>\n<li>Comments will be able to be replied to, or “resolved” (they will no longer be shown, but still be visible in history of the document)</li>\n<li>If you delete the text with which a comment was associated, the comment will automatically be resolved</li>\n</ul>\n<p>We expect Comments on Rich Text Pads to take about <strong>10 days of development, a cost of €2,500</strong></p>\n<h1 id=\"Goal-3-Contacts-and-Messaging\"><a href=\"#Goal-3-Contacts-and-Messaging\" class=\"headerlink\" title=\"Goal 3 - Contacts and Messaging\"></a>Goal 3 - Contacts and Messaging</h1><p>To be able to easily share documents and get the attention of a person, we would like to implement Contacts and Messaging in CryptPad, currently we have a rudimentry implementation which allows chatting with contacts, but the contact request feature needs to be stabilized with a better process for contact requests, better integration with pad-sharing menu and more clear notifications. We would also like to add a small chat window in each document so that everyone working on that document can chat about it. Finally, we would like to add the ability to at-reference someone when writing a comment on a pad, which will cause a message to be sent to them.</p>\n<ul>\n<li>The share menu will include a list of contacts with whom you can share the pad</li>\n<li>You will be able to email somebody a link which will invite them to become a contact of yours</li>\n<li>Messages (pads shared with you, comments referencing you) will be shown in the upper-right when you come to CryptPad</li>\n<li>When writing a comment (Goal 2), you will be able to at-reference a contact (with auto-complete) and they will be notified</li>\n<li>Replying to (and resolving) a comment will also cause the author of the comment and anyone who replied to be notified</li>\n</ul>\n<p>We expect Contacts and Messaging to take about <strong>20 days of development, a cost of €5,000</strong></p>\n<h1 id=\"Goal-4-Shared-Drive\"><a href=\"#Goal-4-Shared-Drive\" class=\"headerlink\" title=\"Goal 4 - Shared Drive\"></a>Goal 4 - Shared Drive</h1><p>When planning a significant project, often there is the need to have many pads for the different aspects of the project. Currently all of the collaborators on the project must share all of the pad links with each other and they must each organize them in their personal drives. Personal drive organization is a nice feature because it allows each person to organize their work the way that makes the most sense to them, but sometimes it is more advantageous to have a folder in everybody’s drive which contains pads that are shared between all of them.</p>\n<p>Shared folders are complicated to implement. Unlike your personal drive which is just one realtime object (essentially it’s a pad), each shared folder must be a separate realtime object. Also, like a user account, a shared folder must be able to own pads, otherwise pads in that folder which are not in anyone’s personal drive risk being deleted by the server as per our expiration policy.</p>\n<ul>\n<li>You will be able to create a shared drive, just like you create a pad</li>\n<li>In your drive, you will be able to explore inside of the shared drive and organize it just like a folder</li>\n<li>You will be able to share the link to the Shared Drive with other people, when they click the link, it will import the shared drive into their personal drive</li>\n</ul>\n<p>We expect Shared Drive to take about <strong>20 days of development, a cost of €5,000</strong></p>\n<h1 id=\"Goal-5-Federated-Messaging\"><a href=\"#Goal-5-Federated-Messaging\" class=\"headerlink\" title=\"Goal 5 - Federated Messaging\"></a>Goal 5 - Federated Messaging</h1><p>There are about 150 CryptPad instances in existence, operated by people and organizations who want the privacy which CryptPad offers and also the additional security guarantee, decentralization and customization of their own instance. We want to support this usage while still allowing people on one instance to chat and message people on another instance. We want to support the ability to add contacts (Goal 3) with people registered on a different instance. You will then be able to at-reference them in a comment or share a pad with them using the share menu as you would with a person using the same instance as you.</p>\n<ul>\n<li>When you are on a pad or shared folder on somebody else’s instance, you will be able to import it to your instance</li>\n<li>Clicking a link to become a contact will work, even if you are registered on a different instance</li>\n<li>Once you have made a contact, all features in Contacts and Messaging will function across instances</li>\n</ul>\n<p>We expect Federated Messaging to take about <strong>30 days of development, a cost of €7,500</strong></p>\n<h1 id=\"Goal-6-Better-permissions\"><a href=\"#Goal-6-Better-permissions\" class=\"headerlink\" title=\"Goal 6 - Better permissions\"></a>Goal 6 - Better permissions</h1><p>Initially, all pads were “open” pads, meaning they were accessible to anyone and there was no owner. Open pads are deleted automatically when they have not been touched in 3 months, unless a registered user has a reference to them. Once we added the ability to have registered users, we needed to make sure that users would not have the pads in their drive disappear off the server, so we implemented what we call pinning. Pinning is a way of claiming that a pad is important to you and that it should not be deleted. However, this left a problem, still pads had no owner, meaning nobody had the right to delete them. Once a pad was created, there was no way to delete it which was a serious problem for pads contining confidential information.</p>\n<p>In order to allow pads to be deleted, we implemented <em>owned pads</em>, and the splash screen registered users now see when they create a new pad. So now you can delete it from the server when you are done with it. However, two problems remain:</p>\n<ol>\n<li>The owner of a pad is the person who created it and there is no way to add owners or share ownership</li>\n<li>There is no way to revoke access once it has been given</li>\n</ol>\n<p>In order to solve #1, we will add the ability to share ownership with other people. For solving #2 in a Zero-Knowledge compatible way, we will need to introduce the concept of redirects, links which re-direct to the actual ID and key of the pad. Revoking access will be a matter of changing the pad’s ID and then updating all of the redirects which are <em>not</em> to be revoked. This will allow the creation of pads which can only be viewed by registered users who are invited. Even view-only links to a pad will be able to be revoked by the owners of that pad.</p>\n<ul>\n<li>Pads which are only accessible by people invited, or members of a group</li>\n<li>Grant and revoke access</li>\n<li>Create new links to a pad, and revoke them</li>\n</ul>\n<p>We expect better permissions will take about <strong>40 days of development, a cost of €10,000</strong></p>\n<h1 id=\"Goal-7-Color-by-author\"><a href=\"#Goal-7-Color-by-author\" class=\"headerlink\" title=\"Goal 7 - Color-by-author\"></a>Goal 7 - Color-by-author</h1><p>After something is typed into a pad, the person who typed cannot be determined, we would like to change this and allow the etherpad-like behavior of shading the text differently based on who typed it. This will require getting the author from each patch in the stream of changes to the pad and making it available to the pad structure. In CryptPad there is a special message type which is called a checkpoint, it replaces the entire pad so that when a new person arrives in the pad, they don’t need to download more history than the previous 2 checkpoints. We will need to take special care to preserve the editor of each piece of the document when we create checkpoints, finally we will need to be able to shade the text based on it’s author, without either messing up CKEditor or causing the shading to be sent over the wire as if it were part of the pad.</p>\n<ul>\n<li>When an option is selected, text in the rich text app will be shaded with a color based on the author of that text</li>\n<li>The user list will show users who have joined and then left again, along with the color of their changes</li>\n<li>Right-clicking on the text will show the name of the person who wrote it (including whether they are one of your contacts)</li>\n</ul>\n<p>We expect Color-by-author to take about <strong>20 days of development, a cost of €5,000</strong></p>\n<h1 id=\"Goal-8-Offline-and-Suggested-Edits\"><a href=\"#Goal-8-Offline-and-Suggested-Edits\" class=\"headerlink\" title=\"Goal 8 - Offline and Suggested Edits\"></a>Goal 8 - Offline and Suggested Edits</h1><p>Like color-by-author, Offline and Suggested Edits is a reasonably complicated feature to implement. When working on a complex document, it is nice to be able to propose a change without actually changing the document, or make a change while disconnected from the internet and then have someone (maybe you) merge it later. However, this is complicated because when it comes time to merge that change, the document may have significantly changed, necessitating a smart merge.</p>\n<p>Rich text pads in CryptPad are stored in a quazi-html representation so patching and merging is anything but simple. The operational transformation done normally on pads takes advantage of the fact that divergences are small and infrequent so merging usually works ok. This feature will require development of a smart merging algorithm for the rich text app as well as for any other app for which one would like to have suggested edits and offline.</p>\n<ul>\n<li>Suggestion mode, your change is shown shaded and can be accepted or rejected, it will be attached to a comment so you can explain it</li>\n<li>When offline, you are automatically put into suggestion mode instead of read-only mode</li>\n</ul>\n<p>We expect Offline and Suggested Edits to take <strong>40 days of development, a cost of €10,000</strong></p>\n<h1 id=\"Goal-9-All-the-little-things\"><a href=\"#Goal-9-All-the-little-things\" class=\"headerlink\" title=\"Goal 9 - All the little things\"></a>Goal 9 - All the little things</h1><p>Even though it doesn’t get a lot of press, a significant amount of time is spent just fixing bugs, handling pull requests and doing releases. We want to keep CryptPad a community project and so we want to make sure that when someone makes a pull-request to the project, that request can be properly handled. Also, because CryptPad makes such use of modern HTML5 features, new releases of Chrome and Firefox typically introduce new bugs in CryptPad. There is rarely enough time to handle all of the issues which crop up, but we need to allocate time to handle some of them. This roadmap allocates the time of one person for 48 weeks, which means 24 releases, we need at least 1 day per release just to perform the release and write the release notes and fix miscellanious issues which appear.</p>\n<ul>\n<li>Keep on fixing bugs in CryptPad </li>\n<li>Handle pull requests and make releases</li>\n</ul>\n<p>We expect all the little things to take <strong>30 days of development, a cost of €7,500</strong></p>\n"},{"title":"CryptPad #ZeroKnowledge Free Software needs funding","date":"2018-07-06T12:37:18.000Z","author":"Caleb James DeLisle","_content":"\n[Version française ? 🇫🇷](http://blog.ludovic.org/xwiki/bin/view/Blog/Aidez%20le%20projet%20libre%20CryptPad)\n\nOn October 31, 2014 the CryptPad project was first published, back then it was nothing more than a simple rich text pad and a horribly ugly front page. Since then the project has blossemed with financing from [XWiki SAS](https://www.xwiki.com/en/) and the [OpenPaaS::NG](https://open-paas.org/) research project.\n\nNow we are turning a corner, the OpenPaaS::NG project will end in April of 2019 and in order to keep improving, CryptPad will need new sources of funding.\n\nUntil now, the vast majority of CryptPad code has been developed by XWiki SAS and with the future of research financing in question, we want to be completely clear about our intentions. We don't want to take financing that is incompatible with the open spirit of CryptPad so while we will look for research projects, subscriptions and donations, we want to maintain the community spirit of CryptPad.\n\n1. **We will continue to host** https://cryptpad.fr/: We want to thank everyone who has subscribed to paid accounts, with your support (currently 1,5K/year) this server pays for itself and we consider this a valuable public service which should continue.\n2. **XWiki SAS will continue to fund the team through the OpenPAAS project till the end of the project**. Following this our intention is to try to keep at least 1 developer active on the project (50,000€ per year) using alternative funding or through new research projects. If we can't find a research project we'll evaluate our capacity to keep it alive based on the subscriptions and contributions we have received. \n3. **We will begin making the CryptPad finances public**: All of the money that comes in and goes out of the CryptPad project, including the money paid by subscriptions to https://cryptpad.fr/ will be published so that you can see how the project earns and spend money, and be convinced that it's worth supporting us. You will be able to follow the project's finances by going to [CryptPad on OpenCollective](https://opencollective.com/cryptpad)\n\nCurrently, the funding from our subscriptions and donations is not enough to finance even one developer, nevermind the present team of two. We need your help to grow this revenue through April 2019 and show that this can take over funding even if we don't find a research project before then. All revenue received till April 2019 will be used to fund development after April 2019.\n\n\n## What we would like to do\n\nSo far, we have not been very transparent about our roadmap, we have a [tech tree](https://cryptpad.fr/code/#/1/view/R1kZC1mY9khSsrLCyJT+CA/t5Eey4SVS+TpaZWmhrCTvIP50IzX7GR4gnud9UclR6Y/present/) which shows in simple terms what features we would like to have and what technologies need to be developed in order to get those features working.\n\nIn the medium term, we would like to see CryptPad evolve into a generic platform with installable apps, a cryptographically enforced access control system, and federation with PGP-compatible messaging.\n\n* **Installable Apps**: There are not a lot of differences between the rich text pad, the code pad, the slide deck and the kanban board. They are all layered on top of the same CryptPad base infrastructure, but still it is not possible to create a new one without changing a few things in the CryptPad core. We would like to change this so that a new app can be added without changing anything else.\n* **Cryptographically enforced Access Controls**: Initially CryptPad had a very simple access control system, you share the link and that shares the pad. We added the ability to *publish* pads via read-only links and to assign a password to a pad, but we still don't have the ability to share a pad with a group of people, or importantly, revoke access once it has been given. Traditional access controls are simple because the server is trusted to give and revoke access, however with CryptPad the server doesn't have access to begin with so it must be done cryptographically. In the context of federation, cryptographic access controls are even more important since servers in the network can be run by anybody.\n* **Federation and Messaging**: The weakness in CryptPad security has always been securely sharing the pad link. Today there are about 150 CryptPad instances installed around the world, and we would like to allow people on different instances to share pads and send eachother messages. Furthermore, since we already have client-side encryption, we could easily extend messaging to support PGP for sharing of pad links and messages.\n\nFundamentally, our goal is as it always has been, to promote Zero Knowledge and an alternative to the Google Docs / Office365 hegemony on cloud office technology. However, this is not something we can do alone, we will need your help to move it forward.\n\n## How you can help\n\nYou can help CryptPad in a number of ways, if you're a programmer then you can contribute code, if you're a philanthropist and believe in these ideas then you can finance the roadmap or finance just particular features. What everyone can do is use CryptPad and spread the word and show people that it is possible to collaboratively edit documents without giving all the data to the server admins.\n\n* **Contribute code**: If you are a programmer and you are using CryptPad, help make it better, talk to us about what you would like to do with CryptPad and we will do our best to find a way that your code can be integrated.\n* **Take a subscription**: Every subscription helps bring a little more money into the project and this will be re-invested to make the CryptPad project better. Every subscription we get makes us believe more in the project we do and the ability to make it financially sustainable. [Subscribe](https://accounts.cryptpad.fr/).\n* **Sponsor a feature**: This is one of the best ways to make sure CryptPad will improve because you can both help the project and help guide the project roadmap at the same time.\n* **Get support**: If you've installed your own CryptPad in a business setting, you can get support for your installation and also help foster development of the project.\n* **Just donate**: If you don't know what to sponsor, if you don't need a subscription, or if you want to sponsor more than the value of a subscription, just donate ! Even if it is not a lot of money, this is important to us as it allows to prove that the project matters. [Donate on opencollective.com](https://opencollective.com/cryptpad)\n* **Get us in a funded research project**: If you are a research organization or have experience with getting European research funding, particularly in a security oriented project, get us on board to participate in the project. This will allow us to fund the project.\n* **Spread the word**: The more CryptPad is used and the more it's known, the more we can convince potential financers to fund the project, this is also proves that people are interested in it. [Tweet about CryptPad](https://twitter.com/intent/tweet?text=Check%20out%20the%20%40CryptPad%20project%2C%20it%27s%20an%20open%20source%20collaborative%20editor%20and%20drive%20and%20it%27s%20end-to-end%20encrypted%20so%20the%20server%20sees%20nothing.%20%23e2ee%20%23ZeroKnowledge)\n\nTo see information about our budget and goals and to make a donation, check out [CryptPad on OpenCollective](https://opencollective.com/cryptpad).\n\n## Come have a chat\n\nWe're on [Twitter](https://twitter.com/cryptpad) and [Mastodon](http://social.weho.st/@cryptpad) and we have a CryptPad [chat room on Matrix](https://riot.im/app/#/room/#cryptpad:matrix.xwiki.com). Come talk with us and participate to help with the project.\n\nIf you are a Web or Research professional, are intereted in our objectives and have experience in research, come talk to us as [we're interested in hiring a person](https://www.xwiki.com/en/jobs/research-and-development-lead) to help us win and execute research projects and guide CryptPad to make it functionally and economically successful.","source":"_posts/CryptPad-ZeroKnowledge-Free-Software-needs-funding.md","raw":"---\ntitle: 'CryptPad #ZeroKnowledge Free Software needs funding'\ndate: 2018-07-06 14:37:18\nauthor: Caleb James DeLisle\ntags:\n  - zero knowledge\n  - funding\n---\n\n[Version française ? 🇫🇷](http://blog.ludovic.org/xwiki/bin/view/Blog/Aidez%20le%20projet%20libre%20CryptPad)\n\nOn October 31, 2014 the CryptPad project was first published, back then it was nothing more than a simple rich text pad and a horribly ugly front page. Since then the project has blossemed with financing from [XWiki SAS](https://www.xwiki.com/en/) and the [OpenPaaS::NG](https://open-paas.org/) research project.\n\nNow we are turning a corner, the OpenPaaS::NG project will end in April of 2019 and in order to keep improving, CryptPad will need new sources of funding.\n\nUntil now, the vast majority of CryptPad code has been developed by XWiki SAS and with the future of research financing in question, we want to be completely clear about our intentions. We don't want to take financing that is incompatible with the open spirit of CryptPad so while we will look for research projects, subscriptions and donations, we want to maintain the community spirit of CryptPad.\n\n1. **We will continue to host** https://cryptpad.fr/: We want to thank everyone who has subscribed to paid accounts, with your support (currently 1,5K/year) this server pays for itself and we consider this a valuable public service which should continue.\n2. **XWiki SAS will continue to fund the team through the OpenPAAS project till the end of the project**. Following this our intention is to try to keep at least 1 developer active on the project (50,000€ per year) using alternative funding or through new research projects. If we can't find a research project we'll evaluate our capacity to keep it alive based on the subscriptions and contributions we have received. \n3. **We will begin making the CryptPad finances public**: All of the money that comes in and goes out of the CryptPad project, including the money paid by subscriptions to https://cryptpad.fr/ will be published so that you can see how the project earns and spend money, and be convinced that it's worth supporting us. You will be able to follow the project's finances by going to [CryptPad on OpenCollective](https://opencollective.com/cryptpad)\n\nCurrently, the funding from our subscriptions and donations is not enough to finance even one developer, nevermind the present team of two. We need your help to grow this revenue through April 2019 and show that this can take over funding even if we don't find a research project before then. All revenue received till April 2019 will be used to fund development after April 2019.\n\n\n## What we would like to do\n\nSo far, we have not been very transparent about our roadmap, we have a [tech tree](https://cryptpad.fr/code/#/1/view/R1kZC1mY9khSsrLCyJT+CA/t5Eey4SVS+TpaZWmhrCTvIP50IzX7GR4gnud9UclR6Y/present/) which shows in simple terms what features we would like to have and what technologies need to be developed in order to get those features working.\n\nIn the medium term, we would like to see CryptPad evolve into a generic platform with installable apps, a cryptographically enforced access control system, and federation with PGP-compatible messaging.\n\n* **Installable Apps**: There are not a lot of differences between the rich text pad, the code pad, the slide deck and the kanban board. They are all layered on top of the same CryptPad base infrastructure, but still it is not possible to create a new one without changing a few things in the CryptPad core. We would like to change this so that a new app can be added without changing anything else.\n* **Cryptographically enforced Access Controls**: Initially CryptPad had a very simple access control system, you share the link and that shares the pad. We added the ability to *publish* pads via read-only links and to assign a password to a pad, but we still don't have the ability to share a pad with a group of people, or importantly, revoke access once it has been given. Traditional access controls are simple because the server is trusted to give and revoke access, however with CryptPad the server doesn't have access to begin with so it must be done cryptographically. In the context of federation, cryptographic access controls are even more important since servers in the network can be run by anybody.\n* **Federation and Messaging**: The weakness in CryptPad security has always been securely sharing the pad link. Today there are about 150 CryptPad instances installed around the world, and we would like to allow people on different instances to share pads and send eachother messages. Furthermore, since we already have client-side encryption, we could easily extend messaging to support PGP for sharing of pad links and messages.\n\nFundamentally, our goal is as it always has been, to promote Zero Knowledge and an alternative to the Google Docs / Office365 hegemony on cloud office technology. However, this is not something we can do alone, we will need your help to move it forward.\n\n## How you can help\n\nYou can help CryptPad in a number of ways, if you're a programmer then you can contribute code, if you're a philanthropist and believe in these ideas then you can finance the roadmap or finance just particular features. What everyone can do is use CryptPad and spread the word and show people that it is possible to collaboratively edit documents without giving all the data to the server admins.\n\n* **Contribute code**: If you are a programmer and you are using CryptPad, help make it better, talk to us about what you would like to do with CryptPad and we will do our best to find a way that your code can be integrated.\n* **Take a subscription**: Every subscription helps bring a little more money into the project and this will be re-invested to make the CryptPad project better. Every subscription we get makes us believe more in the project we do and the ability to make it financially sustainable. [Subscribe](https://accounts.cryptpad.fr/).\n* **Sponsor a feature**: This is one of the best ways to make sure CryptPad will improve because you can both help the project and help guide the project roadmap at the same time.\n* **Get support**: If you've installed your own CryptPad in a business setting, you can get support for your installation and also help foster development of the project.\n* **Just donate**: If you don't know what to sponsor, if you don't need a subscription, or if you want to sponsor more than the value of a subscription, just donate ! Even if it is not a lot of money, this is important to us as it allows to prove that the project matters. [Donate on opencollective.com](https://opencollective.com/cryptpad)\n* **Get us in a funded research project**: If you are a research organization or have experience with getting European research funding, particularly in a security oriented project, get us on board to participate in the project. This will allow us to fund the project.\n* **Spread the word**: The more CryptPad is used and the more it's known, the more we can convince potential financers to fund the project, this is also proves that people are interested in it. [Tweet about CryptPad](https://twitter.com/intent/tweet?text=Check%20out%20the%20%40CryptPad%20project%2C%20it%27s%20an%20open%20source%20collaborative%20editor%20and%20drive%20and%20it%27s%20end-to-end%20encrypted%20so%20the%20server%20sees%20nothing.%20%23e2ee%20%23ZeroKnowledge)\n\nTo see information about our budget and goals and to make a donation, check out [CryptPad on OpenCollective](https://opencollective.com/cryptpad).\n\n## Come have a chat\n\nWe're on [Twitter](https://twitter.com/cryptpad) and [Mastodon](http://social.weho.st/@cryptpad) and we have a CryptPad [chat room on Matrix](https://riot.im/app/#/room/#cryptpad:matrix.xwiki.com). Come talk with us and participate to help with the project.\n\nIf you are a Web or Research professional, are intereted in our objectives and have experience in research, come talk to us as [we're interested in hiring a person](https://www.xwiki.com/en/jobs/research-and-development-lead) to help us win and execute research projects and guide CryptPad to make it functionally and economically successful.","slug":"CryptPad-ZeroKnowledge-Free-Software-needs-funding","published":1,"updated":"2018-07-06T13:11:02.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjjttvqzu00057ezf2lfy42j2","content":"<p><a href=\"http://blog.ludovic.org/xwiki/bin/view/Blog/Aidez%20le%20projet%20libre%20CryptPad\" target=\"_blank\" rel=\"external\">Version française ? 🇫🇷</a></p>\n<p>On October 31, 2014 the CryptPad project was first published, back then it was nothing more than a simple rich text pad and a horribly ugly front page. Since then the project has blossemed with financing from <a href=\"https://www.xwiki.com/en/\" target=\"_blank\" rel=\"external\">XWiki SAS</a> and the <a href=\"https://open-paas.org/\" target=\"_blank\" rel=\"external\">OpenPaaS::NG</a> research project.</p>\n<p>Now we are turning a corner, the OpenPaaS::NG project will end in April of 2019 and in order to keep improving, CryptPad will need new sources of funding.</p>\n<p>Until now, the vast majority of CryptPad code has been developed by XWiki SAS and with the future of research financing in question, we want to be completely clear about our intentions. We don’t want to take financing that is incompatible with the open spirit of CryptPad so while we will look for research projects, subscriptions and donations, we want to maintain the community spirit of CryptPad.</p>\n<ol>\n<li><strong>We will continue to host</strong> <a href=\"https://cryptpad.fr/\" target=\"_blank\" rel=\"external\">https://cryptpad.fr/</a>: We want to thank everyone who has subscribed to paid accounts, with your support (currently 1,5K/year) this server pays for itself and we consider this a valuable public service which should continue.</li>\n<li><strong>XWiki SAS will continue to fund the team through the OpenPAAS project till the end of the project</strong>. Following this our intention is to try to keep at least 1 developer active on the project (50,000€ per year) using alternative funding or through new research projects. If we can’t find a research project we’ll evaluate our capacity to keep it alive based on the subscriptions and contributions we have received. </li>\n<li><strong>We will begin making the CryptPad finances public</strong>: All of the money that comes in and goes out of the CryptPad project, including the money paid by subscriptions to <a href=\"https://cryptpad.fr/\" target=\"_blank\" rel=\"external\">https://cryptpad.fr/</a> will be published so that you can see how the project earns and spend money, and be convinced that it’s worth supporting us. You will be able to follow the project’s finances by going to <a href=\"https://opencollective.com/cryptpad\" target=\"_blank\" rel=\"external\">CryptPad on OpenCollective</a></li>\n</ol>\n<p>Currently, the funding from our subscriptions and donations is not enough to finance even one developer, nevermind the present team of two. We need your help to grow this revenue through April 2019 and show that this can take over funding even if we don’t find a research project before then. All revenue received till April 2019 will be used to fund development after April 2019.</p>\n<h2 id=\"What-we-would-like-to-do\"><a href=\"#What-we-would-like-to-do\" class=\"headerlink\" title=\"What we would like to do\"></a>What we would like to do</h2><p>So far, we have not been very transparent about our roadmap, we have a <a href=\"https://cryptpad.fr/code/#/1/view/R1kZC1mY9khSsrLCyJT+CA/t5Eey4SVS+TpaZWmhrCTvIP50IzX7GR4gnud9UclR6Y/present/\" target=\"_blank\" rel=\"external\">tech tree</a> which shows in simple terms what features we would like to have and what technologies need to be developed in order to get those features working.</p>\n<p>In the medium term, we would like to see CryptPad evolve into a generic platform with installable apps, a cryptographically enforced access control system, and federation with PGP-compatible messaging.</p>\n<ul>\n<li><strong>Installable Apps</strong>: There are not a lot of differences between the rich text pad, the code pad, the slide deck and the kanban board. They are all layered on top of the same CryptPad base infrastructure, but still it is not possible to create a new one without changing a few things in the CryptPad core. We would like to change this so that a new app can be added without changing anything else.</li>\n<li><strong>Cryptographically enforced Access Controls</strong>: Initially CryptPad had a very simple access control system, you share the link and that shares the pad. We added the ability to <em>publish</em> pads via read-only links and to assign a password to a pad, but we still don’t have the ability to share a pad with a group of people, or importantly, revoke access once it has been given. Traditional access controls are simple because the server is trusted to give and revoke access, however with CryptPad the server doesn’t have access to begin with so it must be done cryptographically. In the context of federation, cryptographic access controls are even more important since servers in the network can be run by anybody.</li>\n<li><strong>Federation and Messaging</strong>: The weakness in CryptPad security has always been securely sharing the pad link. Today there are about 150 CryptPad instances installed around the world, and we would like to allow people on different instances to share pads and send eachother messages. Furthermore, since we already have client-side encryption, we could easily extend messaging to support PGP for sharing of pad links and messages.</li>\n</ul>\n<p>Fundamentally, our goal is as it always has been, to promote Zero Knowledge and an alternative to the Google Docs / Office365 hegemony on cloud office technology. However, this is not something we can do alone, we will need your help to move it forward.</p>\n<h2 id=\"How-you-can-help\"><a href=\"#How-you-can-help\" class=\"headerlink\" title=\"How you can help\"></a>How you can help</h2><p>You can help CryptPad in a number of ways, if you’re a programmer then you can contribute code, if you’re a philanthropist and believe in these ideas then you can finance the roadmap or finance just particular features. What everyone can do is use CryptPad and spread the word and show people that it is possible to collaboratively edit documents without giving all the data to the server admins.</p>\n<ul>\n<li><strong>Contribute code</strong>: If you are a programmer and you are using CryptPad, help make it better, talk to us about what you would like to do with CryptPad and we will do our best to find a way that your code can be integrated.</li>\n<li><strong>Take a subscription</strong>: Every subscription helps bring a little more money into the project and this will be re-invested to make the CryptPad project better. Every subscription we get makes us believe more in the project we do and the ability to make it financially sustainable. <a href=\"https://accounts.cryptpad.fr/\" target=\"_blank\" rel=\"external\">Subscribe</a>.</li>\n<li><strong>Sponsor a feature</strong>: This is one of the best ways to make sure CryptPad will improve because you can both help the project and help guide the project roadmap at the same time.</li>\n<li><strong>Get support</strong>: If you’ve installed your own CryptPad in a business setting, you can get support for your installation and also help foster development of the project.</li>\n<li><strong>Just donate</strong>: If you don’t know what to sponsor, if you don’t need a subscription, or if you want to sponsor more than the value of a subscription, just donate ! Even if it is not a lot of money, this is important to us as it allows to prove that the project matters. <a href=\"https://opencollective.com/cryptpad\" target=\"_blank\" rel=\"external\">Donate on opencollective.com</a></li>\n<li><strong>Get us in a funded research project</strong>: If you are a research organization or have experience with getting European research funding, particularly in a security oriented project, get us on board to participate in the project. This will allow us to fund the project.</li>\n<li><strong>Spread the word</strong>: The more CryptPad is used and the more it’s known, the more we can convince potential financers to fund the project, this is also proves that people are interested in it. <a href=\"https://twitter.com/intent/tweet?text=Check%20out%20the%20%40CryptPad%20project%2C%20it%27s%20an%20open%20source%20collaborative%20editor%20and%20drive%20and%20it%27s%20end-to-end%20encrypted%20so%20the%20server%20sees%20nothing.%20%23e2ee%20%23ZeroKnowledge\" target=\"_blank\" rel=\"external\">Tweet about CryptPad</a></li>\n</ul>\n<p>To see information about our budget and goals and to make a donation, check out <a href=\"https://opencollective.com/cryptpad\" target=\"_blank\" rel=\"external\">CryptPad on OpenCollective</a>.</p>\n<h2 id=\"Come-have-a-chat\"><a href=\"#Come-have-a-chat\" class=\"headerlink\" title=\"Come have a chat\"></a>Come have a chat</h2><p>We’re on <a href=\"https://twitter.com/cryptpad\" target=\"_blank\" rel=\"external\">Twitter</a> and <a href=\"http://social.weho.st/@cryptpad\" target=\"_blank\" rel=\"external\">Mastodon</a> and we have a CryptPad <a href=\"https://riot.im/app/#/room/#cryptpad:matrix.xwiki.com\" target=\"_blank\" rel=\"external\">chat room on Matrix</a>. Come talk with us and participate to help with the project.</p>\n<p>If you are a Web or Research professional, are intereted in our objectives and have experience in research, come talk to us as <a href=\"https://www.xwiki.com/en/jobs/research-and-development-lead\" target=\"_blank\" rel=\"external\">we’re interested in hiring a person</a> to help us win and execute research projects and guide CryptPad to make it functionally and economically successful.</p>\n","excerpt":"","more":"<p><a href=\"http://blog.ludovic.org/xwiki/bin/view/Blog/Aidez%20le%20projet%20libre%20CryptPad\">Version française ? 🇫🇷</a></p>\n<p>On October 31, 2014 the CryptPad project was first published, back then it was nothing more than a simple rich text pad and a horribly ugly front page. Since then the project has blossemed with financing from <a href=\"https://www.xwiki.com/en/\">XWiki SAS</a> and the <a href=\"https://open-paas.org/\">OpenPaaS::NG</a> research project.</p>\n<p>Now we are turning a corner, the OpenPaaS::NG project will end in April of 2019 and in order to keep improving, CryptPad will need new sources of funding.</p>\n<p>Until now, the vast majority of CryptPad code has been developed by XWiki SAS and with the future of research financing in question, we want to be completely clear about our intentions. We don’t want to take financing that is incompatible with the open spirit of CryptPad so while we will look for research projects, subscriptions and donations, we want to maintain the community spirit of CryptPad.</p>\n<ol>\n<li><strong>We will continue to host</strong> <a href=\"https://cryptpad.fr/\">https://cryptpad.fr/</a>: We want to thank everyone who has subscribed to paid accounts, with your support (currently 1,5K/year) this server pays for itself and we consider this a valuable public service which should continue.</li>\n<li><strong>XWiki SAS will continue to fund the team through the OpenPAAS project till the end of the project</strong>. Following this our intention is to try to keep at least 1 developer active on the project (50,000€ per year) using alternative funding or through new research projects. If we can’t find a research project we’ll evaluate our capacity to keep it alive based on the subscriptions and contributions we have received. </li>\n<li><strong>We will begin making the CryptPad finances public</strong>: All of the money that comes in and goes out of the CryptPad project, including the money paid by subscriptions to <a href=\"https://cryptpad.fr/\">https://cryptpad.fr/</a> will be published so that you can see how the project earns and spend money, and be convinced that it’s worth supporting us. You will be able to follow the project’s finances by going to <a href=\"https://opencollective.com/cryptpad\">CryptPad on OpenCollective</a></li>\n</ol>\n<p>Currently, the funding from our subscriptions and donations is not enough to finance even one developer, nevermind the present team of two. We need your help to grow this revenue through April 2019 and show that this can take over funding even if we don’t find a research project before then. All revenue received till April 2019 will be used to fund development after April 2019.</p>\n<h2 id=\"What-we-would-like-to-do\"><a href=\"#What-we-would-like-to-do\" class=\"headerlink\" title=\"What we would like to do\"></a>What we would like to do</h2><p>So far, we have not been very transparent about our roadmap, we have a <a href=\"https://cryptpad.fr/code/#/1/view/R1kZC1mY9khSsrLCyJT+CA/t5Eey4SVS+TpaZWmhrCTvIP50IzX7GR4gnud9UclR6Y/present/\">tech tree</a> which shows in simple terms what features we would like to have and what technologies need to be developed in order to get those features working.</p>\n<p>In the medium term, we would like to see CryptPad evolve into a generic platform with installable apps, a cryptographically enforced access control system, and federation with PGP-compatible messaging.</p>\n<ul>\n<li><strong>Installable Apps</strong>: There are not a lot of differences between the rich text pad, the code pad, the slide deck and the kanban board. They are all layered on top of the same CryptPad base infrastructure, but still it is not possible to create a new one without changing a few things in the CryptPad core. We would like to change this so that a new app can be added without changing anything else.</li>\n<li><strong>Cryptographically enforced Access Controls</strong>: Initially CryptPad had a very simple access control system, you share the link and that shares the pad. We added the ability to <em>publish</em> pads via read-only links and to assign a password to a pad, but we still don’t have the ability to share a pad with a group of people, or importantly, revoke access once it has been given. Traditional access controls are simple because the server is trusted to give and revoke access, however with CryptPad the server doesn’t have access to begin with so it must be done cryptographically. In the context of federation, cryptographic access controls are even more important since servers in the network can be run by anybody.</li>\n<li><strong>Federation and Messaging</strong>: The weakness in CryptPad security has always been securely sharing the pad link. Today there are about 150 CryptPad instances installed around the world, and we would like to allow people on different instances to share pads and send eachother messages. Furthermore, since we already have client-side encryption, we could easily extend messaging to support PGP for sharing of pad links and messages.</li>\n</ul>\n<p>Fundamentally, our goal is as it always has been, to promote Zero Knowledge and an alternative to the Google Docs / Office365 hegemony on cloud office technology. However, this is not something we can do alone, we will need your help to move it forward.</p>\n<h2 id=\"How-you-can-help\"><a href=\"#How-you-can-help\" class=\"headerlink\" title=\"How you can help\"></a>How you can help</h2><p>You can help CryptPad in a number of ways, if you’re a programmer then you can contribute code, if you’re a philanthropist and believe in these ideas then you can finance the roadmap or finance just particular features. What everyone can do is use CryptPad and spread the word and show people that it is possible to collaboratively edit documents without giving all the data to the server admins.</p>\n<ul>\n<li><strong>Contribute code</strong>: If you are a programmer and you are using CryptPad, help make it better, talk to us about what you would like to do with CryptPad and we will do our best to find a way that your code can be integrated.</li>\n<li><strong>Take a subscription</strong>: Every subscription helps bring a little more money into the project and this will be re-invested to make the CryptPad project better. Every subscription we get makes us believe more in the project we do and the ability to make it financially sustainable. <a href=\"https://accounts.cryptpad.fr/\">Subscribe</a>.</li>\n<li><strong>Sponsor a feature</strong>: This is one of the best ways to make sure CryptPad will improve because you can both help the project and help guide the project roadmap at the same time.</li>\n<li><strong>Get support</strong>: If you’ve installed your own CryptPad in a business setting, you can get support for your installation and also help foster development of the project.</li>\n<li><strong>Just donate</strong>: If you don’t know what to sponsor, if you don’t need a subscription, or if you want to sponsor more than the value of a subscription, just donate ! Even if it is not a lot of money, this is important to us as it allows to prove that the project matters. <a href=\"https://opencollective.com/cryptpad\">Donate on opencollective.com</a></li>\n<li><strong>Get us in a funded research project</strong>: If you are a research organization or have experience with getting European research funding, particularly in a security oriented project, get us on board to participate in the project. This will allow us to fund the project.</li>\n<li><strong>Spread the word</strong>: The more CryptPad is used and the more it’s known, the more we can convince potential financers to fund the project, this is also proves that people are interested in it. <a href=\"https://twitter.com/intent/tweet?text=Check%20out%20the%20%40CryptPad%20project%2C%20it%27s%20an%20open%20source%20collaborative%20editor%20and%20drive%20and%20it%27s%20end-to-end%20encrypted%20so%20the%20server%20sees%20nothing.%20%23e2ee%20%23ZeroKnowledge\">Tweet about CryptPad</a></li>\n</ul>\n<p>To see information about our budget and goals and to make a donation, check out <a href=\"https://opencollective.com/cryptpad\">CryptPad on OpenCollective</a>.</p>\n<h2 id=\"Come-have-a-chat\"><a href=\"#Come-have-a-chat\" class=\"headerlink\" title=\"Come have a chat\"></a>Come have a chat</h2><p>We’re on <a href=\"https://twitter.com/cryptpad\">Twitter</a> and <a href=\"http://social.weho.st/@cryptpad\">Mastodon</a> and we have a CryptPad <a href=\"https://riot.im/app/#/room/#cryptpad:matrix.xwiki.com\">chat room on Matrix</a>. Come talk with us and participate to help with the project.</p>\n<p>If you are a Web or Research professional, are intereted in our objectives and have experience in research, come talk to us as <a href=\"https://www.xwiki.com/en/jobs/research-and-development-lead\">we’re interested in hiring a person</a> to help us win and execute research projects and guide CryptPad to make it functionally and economically successful.</p>\n"},{"title":"CryptPad's New Direction","date":"2017-08-18T10:14:39.000Z","author":"Caleb James DeLisle","_content":"\n> If you are hosting CryptPad, please make sure you are up to date. [CryptPad 1.13.0 (Naiad)](https://github.com/xwiki-labs/cryptpad/releases/tag/1.13.0) fixed a major security issue.\n\nCryptPad was born on Halloween 2014, at that time it was a skunkworks project inside of XWiki SAS. The UI was hidious green and white and the only feature was the CKEditor based pad. We have come a long way.\n\n![Old CryptPad Main Page](/images/cryptpad_old_mainpage.png)\n\nAs was mentioned in [Building Mututally Beneficial Relationships](2017/06/02/Building-mutually-beneficial-relationships/), CryptPad cannot ever be great without people developing the software as their daily job. We have been able to develop this project with the generous support of [BPI France](http://www.bpifrance.fr/) and the [OpenPaaS::NG](http://ng.open-paas.org/) but that support only finances a small team and it will not continue indefinitely.\n\nStarting with this release, we are adopting a new look and a reinforced dedication to making a quality product for people whose time is valuable. We're starting this by upgrading the logo and the informational pages.\n\n![New CryptPad Main Page](/images/cryptpad_new_mainpage.png)\n\nOur lovable fist logo was created one night by grabbing a screen shot of an ascii generator. It was a time when I was racing to get *something* working to prove that CryptPad was an idea worth pursuing. Now times have changed. CryptPad is finally something that I'm starting to feel proud of, and the logo represented the last reminents of a time when everything was a rush and quality was an afterthought.\n\nWe also have introduced a lot of new features such as:\n* New front page which allows creating a pad in 1 click\n* Clickable links in pads when viewed in read-only mode\n* File-picker for embedding media in a pad in Markdown mode\n* You can now have your preference between tabs and spaces, when editing in the code editor\n\n![Registered users can uploading and view PDF Files](/images/cryptpad_pdf.png)\n\nBut more than features, we have focused on making CryptPad easier to use. It's now easier to paste text into the pad without breaking the formatting and we have additional tool-tips to help explain different features of CryptPad.\n\nGoing forward from today we plan to make CryptPad easier to use, more secure and more extensible. We are rewriting the pad logic in order to run in a cross-domain iframe which will make use of the browser's [Same Origin Policy](https://en.wikipedia.org/wiki/Same-origin_policy) as a sandbox to block most of the code from accessing the decryption keys.\n\nThis will open the door to 3rd party applications developed for CryptPad which can be protected by the same cryptography as CryptPad and which have limited access to the CryptPad system.\n","source":"_posts/CryptPad-s-New-Direction.md","raw":"---\ntitle: CryptPad's New Direction\ndate: 2017-08-18 12:14:39\nauthor: Caleb James DeLisle\ntags:\n  - security\n  - extensibility\n  - quality\n---\n\n> If you are hosting CryptPad, please make sure you are up to date. [CryptPad 1.13.0 (Naiad)](https://github.com/xwiki-labs/cryptpad/releases/tag/1.13.0) fixed a major security issue.\n\nCryptPad was born on Halloween 2014, at that time it was a skunkworks project inside of XWiki SAS. The UI was hidious green and white and the only feature was the CKEditor based pad. We have come a long way.\n\n![Old CryptPad Main Page](/images/cryptpad_old_mainpage.png)\n\nAs was mentioned in [Building Mututally Beneficial Relationships](2017/06/02/Building-mutually-beneficial-relationships/), CryptPad cannot ever be great without people developing the software as their daily job. We have been able to develop this project with the generous support of [BPI France](http://www.bpifrance.fr/) and the [OpenPaaS::NG](http://ng.open-paas.org/) but that support only finances a small team and it will not continue indefinitely.\n\nStarting with this release, we are adopting a new look and a reinforced dedication to making a quality product for people whose time is valuable. We're starting this by upgrading the logo and the informational pages.\n\n![New CryptPad Main Page](/images/cryptpad_new_mainpage.png)\n\nOur lovable fist logo was created one night by grabbing a screen shot of an ascii generator. It was a time when I was racing to get *something* working to prove that CryptPad was an idea worth pursuing. Now times have changed. CryptPad is finally something that I'm starting to feel proud of, and the logo represented the last reminents of a time when everything was a rush and quality was an afterthought.\n\nWe also have introduced a lot of new features such as:\n* New front page which allows creating a pad in 1 click\n* Clickable links in pads when viewed in read-only mode\n* File-picker for embedding media in a pad in Markdown mode\n* You can now have your preference between tabs and spaces, when editing in the code editor\n\n![Registered users can uploading and view PDF Files](/images/cryptpad_pdf.png)\n\nBut more than features, we have focused on making CryptPad easier to use. It's now easier to paste text into the pad without breaking the formatting and we have additional tool-tips to help explain different features of CryptPad.\n\nGoing forward from today we plan to make CryptPad easier to use, more secure and more extensible. We are rewriting the pad logic in order to run in a cross-domain iframe which will make use of the browser's [Same Origin Policy](https://en.wikipedia.org/wiki/Same-origin_policy) as a sandbox to block most of the code from accessing the decryption keys.\n\nThis will open the door to 3rd party applications developed for CryptPad which can be protected by the same cryptography as CryptPad and which have limited access to the CryptPad system.\n","slug":"CryptPad-s-New-Direction","published":1,"updated":"2018-06-15T10:06:34.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjjttvqzw00087ezfvomnihtf","content":"<blockquote>\n<p>If you are hosting CryptPad, please make sure you are up to date. <a href=\"https://github.com/xwiki-labs/cryptpad/releases/tag/1.13.0\" target=\"_blank\" rel=\"external\">CryptPad 1.13.0 (Naiad)</a> fixed a major security issue.</p>\n</blockquote>\n<p>CryptPad was born on Halloween 2014, at that time it was a skunkworks project inside of XWiki SAS. The UI was hidious green and white and the only feature was the CKEditor based pad. We have come a long way.</p>\n<p><img src=\"/images/cryptpad_old_mainpage.png\" alt=\"Old CryptPad Main Page\"></p>\n<p>As was mentioned in <a href=\"2017/06/02/Building-mutually-beneficial-relationships/\">Building Mututally Beneficial Relationships</a>, CryptPad cannot ever be great without people developing the software as their daily job. We have been able to develop this project with the generous support of <a href=\"http://www.bpifrance.fr/\" target=\"_blank\" rel=\"external\">BPI France</a> and the <a href=\"http://ng.open-paas.org/\" target=\"_blank\" rel=\"external\">OpenPaaS::NG</a> but that support only finances a small team and it will not continue indefinitely.</p>\n<p>Starting with this release, we are adopting a new look and a reinforced dedication to making a quality product for people whose time is valuable. We’re starting this by upgrading the logo and the informational pages.</p>\n<p><img src=\"/images/cryptpad_new_mainpage.png\" alt=\"New CryptPad Main Page\"></p>\n<p>Our lovable fist logo was created one night by grabbing a screen shot of an ascii generator. It was a time when I was racing to get <em>something</em> working to prove that CryptPad was an idea worth pursuing. Now times have changed. CryptPad is finally something that I’m starting to feel proud of, and the logo represented the last reminents of a time when everything was a rush and quality was an afterthought.</p>\n<p>We also have introduced a lot of new features such as:</p>\n<ul>\n<li>New front page which allows creating a pad in 1 click</li>\n<li>Clickable links in pads when viewed in read-only mode</li>\n<li>File-picker for embedding media in a pad in Markdown mode</li>\n<li>You can now have your preference between tabs and spaces, when editing in the code editor</li>\n</ul>\n<p><img src=\"/images/cryptpad_pdf.png\" alt=\"Registered users can uploading and view PDF Files\"></p>\n<p>But more than features, we have focused on making CryptPad easier to use. It’s now easier to paste text into the pad without breaking the formatting and we have additional tool-tips to help explain different features of CryptPad.</p>\n<p>Going forward from today we plan to make CryptPad easier to use, more secure and more extensible. We are rewriting the pad logic in order to run in a cross-domain iframe which will make use of the browser’s <a href=\"https://en.wikipedia.org/wiki/Same-origin_policy\" target=\"_blank\" rel=\"external\">Same Origin Policy</a> as a sandbox to block most of the code from accessing the decryption keys.</p>\n<p>This will open the door to 3rd party applications developed for CryptPad which can be protected by the same cryptography as CryptPad and which have limited access to the CryptPad system.</p>\n","excerpt":"","more":"<blockquote>\n<p>If you are hosting CryptPad, please make sure you are up to date. <a href=\"https://github.com/xwiki-labs/cryptpad/releases/tag/1.13.0\">CryptPad 1.13.0 (Naiad)</a> fixed a major security issue.</p>\n</blockquote>\n<p>CryptPad was born on Halloween 2014, at that time it was a skunkworks project inside of XWiki SAS. The UI was hidious green and white and the only feature was the CKEditor based pad. We have come a long way.</p>\n<p><img src=\"/images/cryptpad_old_mainpage.png\" alt=\"Old CryptPad Main Page\"></p>\n<p>As was mentioned in <a href=\"2017/06/02/Building-mutually-beneficial-relationships/\">Building Mututally Beneficial Relationships</a>, CryptPad cannot ever be great without people developing the software as their daily job. We have been able to develop this project with the generous support of <a href=\"http://www.bpifrance.fr/\">BPI France</a> and the <a href=\"http://ng.open-paas.org/\">OpenPaaS::NG</a> but that support only finances a small team and it will not continue indefinitely.</p>\n<p>Starting with this release, we are adopting a new look and a reinforced dedication to making a quality product for people whose time is valuable. We’re starting this by upgrading the logo and the informational pages.</p>\n<p><img src=\"/images/cryptpad_new_mainpage.png\" alt=\"New CryptPad Main Page\"></p>\n<p>Our lovable fist logo was created one night by grabbing a screen shot of an ascii generator. It was a time when I was racing to get <em>something</em> working to prove that CryptPad was an idea worth pursuing. Now times have changed. CryptPad is finally something that I’m starting to feel proud of, and the logo represented the last reminents of a time when everything was a rush and quality was an afterthought.</p>\n<p>We also have introduced a lot of new features such as:</p>\n<ul>\n<li>New front page which allows creating a pad in 1 click</li>\n<li>Clickable links in pads when viewed in read-only mode</li>\n<li>File-picker for embedding media in a pad in Markdown mode</li>\n<li>You can now have your preference between tabs and spaces, when editing in the code editor</li>\n</ul>\n<p><img src=\"/images/cryptpad_pdf.png\" alt=\"Registered users can uploading and view PDF Files\"></p>\n<p>But more than features, we have focused on making CryptPad easier to use. It’s now easier to paste text into the pad without breaking the formatting and we have additional tool-tips to help explain different features of CryptPad.</p>\n<p>Going forward from today we plan to make CryptPad easier to use, more secure and more extensible. We are rewriting the pad logic in order to run in a cross-domain iframe which will make use of the browser’s <a href=\"https://en.wikipedia.org/wiki/Same-origin_policy\">Same Origin Policy</a> as a sandbox to block most of the code from accessing the decryption keys.</p>\n<p>This will open the door to 3rd party applications developed for CryptPad which can be protected by the same cryptography as CryptPad and which have limited access to the CryptPad system.</p>\n"},{"title":"Exciting news","date":"2017-03-31T22:03:49.000Z","author":"Aaron MacSween","_content":"\nHere in the research department of XWiki SAS, which you may know as _the CryptPad team_, we take our work very seriously.\nEach day of the week, we do our best to deliver features which will solve real problems for real users.\nFor a team of three full-time developers, that means covering a lot of ground.\n\n* we correspond with users who report issues, to track down bugs and identify usability issues\n* we write a lot, and not just code, but also documentation, technical reports for [our generous sponsors](http://open-paas.org/), and promotional materials so that more people can benefit from our software\n* we take risks every day, building systems which others might have dismissed as impossible...\n\n## Why we do it\n\nWe work to build new tools, because we recognize that the world around us is always changing.\nWe know that our users navigate new challenges all the time, and we want to be there to help.\nUltimately, we all share the same world, and we want to make the most of it.\n\nWe've put a lot of ourselves into this project, because we want to push the state of the art forward.\nWhile it's a very small team that develops CryptPad directly, we couldn't do it without the support of [XWiki SAS](http://xwiki.com), and their willingness to take the risk of developing new technologies.\nCurrently, our funding covers only 50% of our expenses, but we've been confident that it would lead to better things in the future.\n\nWhich brings us to what we'd like to announce...\n\n## Our new sponsors!\n\nWe've been offering up new features, which you've been noticing, and others have noticed that you've noticed.\nMajor industry players have taken an interest in what we've been doing, and they've decided to commit to _the Zero Knowledge Revolution_.\n\n## What this means\n\nOur hard work has paid off!\nWe're going to keep working on CryptPad, albeit with a little more stability.\n\nWe're really excited to be working with our new financiers who have historically had a somewhat \"tarnished\" image in the security community, but we feel that now is the time for us and the NSA to work together and make Zero Knowledge a household name.\n\nA high ranking official who must for the time being remain anonymous, has said that Zero Knowledge is the future and improving our algorithms to use more unbreakable AES cryptography is a high priority.\n\nOur team is going to expand from 3 full time developers, to 60.\nThis is also going to give us more time to polish up some features we've been waiting to announce:\n\n* New serverless architecture, all you need to do is connect to the internet and the NSA will collect your data automatically\n* Total encryption, including metadata. Cryptpad will be completely anonymous, since it will be primarily offline, we won't have access to information about your location or activity. We'll be handing this off to the NSA's best cryptanalysts and mathematicians.\n* Full text search on encryped data, using quantum homomorphic encryption. Find everything all the time, in real time, with friends or alone\n* We will slowly rewrite our codebase in Rust-lang over the next several months\n* We will offer a new service to recover lost pads. If you've ever sent the link to the pad in an email, the NSA will be able to access the pad for you\n* All of this is going to become available under the more permissive _MIT License_. It will continue to be open source, but we hope this will drive more adoption in the business sector, even among enterprises which adhere to the _proprietary software_ business model\n\nWe've been preparing this deal for some time, but we haven't been able to talk about it while it was still under negotiation.\nWith most of that out of the way, we're very happy to be able to finally share this news with you!\n\n\n","source":"_posts/Exciting-news.md","raw":"---\ntitle: Exciting news\ndate: 2017-04-01 00:03:49\nauthor: Aaron MacSween\ntags:\n  - lulz\n---\n\nHere in the research department of XWiki SAS, which you may know as _the CryptPad team_, we take our work very seriously.\nEach day of the week, we do our best to deliver features which will solve real problems for real users.\nFor a team of three full-time developers, that means covering a lot of ground.\n\n* we correspond with users who report issues, to track down bugs and identify usability issues\n* we write a lot, and not just code, but also documentation, technical reports for [our generous sponsors](http://open-paas.org/), and promotional materials so that more people can benefit from our software\n* we take risks every day, building systems which others might have dismissed as impossible...\n\n## Why we do it\n\nWe work to build new tools, because we recognize that the world around us is always changing.\nWe know that our users navigate new challenges all the time, and we want to be there to help.\nUltimately, we all share the same world, and we want to make the most of it.\n\nWe've put a lot of ourselves into this project, because we want to push the state of the art forward.\nWhile it's a very small team that develops CryptPad directly, we couldn't do it without the support of [XWiki SAS](http://xwiki.com), and their willingness to take the risk of developing new technologies.\nCurrently, our funding covers only 50% of our expenses, but we've been confident that it would lead to better things in the future.\n\nWhich brings us to what we'd like to announce...\n\n## Our new sponsors!\n\nWe've been offering up new features, which you've been noticing, and others have noticed that you've noticed.\nMajor industry players have taken an interest in what we've been doing, and they've decided to commit to _the Zero Knowledge Revolution_.\n\n## What this means\n\nOur hard work has paid off!\nWe're going to keep working on CryptPad, albeit with a little more stability.\n\nWe're really excited to be working with our new financiers who have historically had a somewhat \"tarnished\" image in the security community, but we feel that now is the time for us and the NSA to work together and make Zero Knowledge a household name.\n\nA high ranking official who must for the time being remain anonymous, has said that Zero Knowledge is the future and improving our algorithms to use more unbreakable AES cryptography is a high priority.\n\nOur team is going to expand from 3 full time developers, to 60.\nThis is also going to give us more time to polish up some features we've been waiting to announce:\n\n* New serverless architecture, all you need to do is connect to the internet and the NSA will collect your data automatically\n* Total encryption, including metadata. Cryptpad will be completely anonymous, since it will be primarily offline, we won't have access to information about your location or activity. We'll be handing this off to the NSA's best cryptanalysts and mathematicians.\n* Full text search on encryped data, using quantum homomorphic encryption. Find everything all the time, in real time, with friends or alone\n* We will slowly rewrite our codebase in Rust-lang over the next several months\n* We will offer a new service to recover lost pads. If you've ever sent the link to the pad in an email, the NSA will be able to access the pad for you\n* All of this is going to become available under the more permissive _MIT License_. It will continue to be open source, but we hope this will drive more adoption in the business sector, even among enterprises which adhere to the _proprietary software_ business model\n\nWe've been preparing this deal for some time, but we haven't been able to talk about it while it was still under negotiation.\nWith most of that out of the way, we're very happy to be able to finally share this news with you!\n\n\n","slug":"Exciting-news","published":1,"updated":"2018-06-15T10:06:34.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjjttvqzx00097ezfq09iy5ty","content":"<p>Here in the research department of XWiki SAS, which you may know as <em>the CryptPad team</em>, we take our work very seriously.\nEach day of the week, we do our best to deliver features which will solve real problems for real users.\nFor a team of three full-time developers, that means covering a lot of ground.</p>\n<ul>\n<li>we correspond with users who report issues, to track down bugs and identify usability issues</li>\n<li>we write a lot, and not just code, but also documentation, technical reports for <a href=\"http://open-paas.org/\" target=\"_blank\" rel=\"external\">our generous sponsors</a>, and promotional materials so that more people can benefit from our software</li>\n<li>we take risks every day, building systems which others might have dismissed as impossible…</li>\n</ul>\n<h2 id=\"Why-we-do-it\"><a href=\"#Why-we-do-it\" class=\"headerlink\" title=\"Why we do it\"></a>Why we do it</h2><p>We work to build new tools, because we recognize that the world around us is always changing.\nWe know that our users navigate new challenges all the time, and we want to be there to help.\nUltimately, we all share the same world, and we want to make the most of it.</p>\n<p>We’ve put a lot of ourselves into this project, because we want to push the state of the art forward.\nWhile it’s a very small team that develops CryptPad directly, we couldn’t do it without the support of <a href=\"http://xwiki.com\" target=\"_blank\" rel=\"external\">XWiki SAS</a>, and their willingness to take the risk of developing new technologies.\nCurrently, our funding covers only 50% of our expenses, but we’ve been confident that it would lead to better things in the future.</p>\n<p>Which brings us to what we’d like to announce…</p>\n<h2 id=\"Our-new-sponsors\"><a href=\"#Our-new-sponsors\" class=\"headerlink\" title=\"Our new sponsors!\"></a>Our new sponsors!</h2><p>We’ve been offering up new features, which you’ve been noticing, and others have noticed that you’ve noticed.\nMajor industry players have taken an interest in what we’ve been doing, and they’ve decided to commit to <em>the Zero Knowledge Revolution</em>.</p>\n<h2 id=\"What-this-means\"><a href=\"#What-this-means\" class=\"headerlink\" title=\"What this means\"></a>What this means</h2><p>Our hard work has paid off!\nWe’re going to keep working on CryptPad, albeit with a little more stability.</p>\n<p>We’re really excited to be working with our new financiers who have historically had a somewhat “tarnished” image in the security community, but we feel that now is the time for us and the NSA to work together and make Zero Knowledge a household name.</p>\n<p>A high ranking official who must for the time being remain anonymous, has said that Zero Knowledge is the future and improving our algorithms to use more unbreakable AES cryptography is a high priority.</p>\n<p>Our team is going to expand from 3 full time developers, to 60.\nThis is also going to give us more time to polish up some features we’ve been waiting to announce:</p>\n<ul>\n<li>New serverless architecture, all you need to do is connect to the internet and the NSA will collect your data automatically</li>\n<li>Total encryption, including metadata. Cryptpad will be completely anonymous, since it will be primarily offline, we won’t have access to information about your location or activity. We’ll be handing this off to the NSA’s best cryptanalysts and mathematicians.</li>\n<li>Full text search on encryped data, using quantum homomorphic encryption. Find everything all the time, in real time, with friends or alone</li>\n<li>We will slowly rewrite our codebase in Rust-lang over the next several months</li>\n<li>We will offer a new service to recover lost pads. If you’ve ever sent the link to the pad in an email, the NSA will be able to access the pad for you</li>\n<li>All of this is going to become available under the more permissive <em>MIT License</em>. It will continue to be open source, but we hope this will drive more adoption in the business sector, even among enterprises which adhere to the <em>proprietary software</em> business model</li>\n</ul>\n<p>We’ve been preparing this deal for some time, but we haven’t been able to talk about it while it was still under negotiation.\nWith most of that out of the way, we’re very happy to be able to finally share this news with you!</p>\n","excerpt":"","more":"<p>Here in the research department of XWiki SAS, which you may know as <em>the CryptPad team</em>, we take our work very seriously.\nEach day of the week, we do our best to deliver features which will solve real problems for real users.\nFor a team of three full-time developers, that means covering a lot of ground.</p>\n<ul>\n<li>we correspond with users who report issues, to track down bugs and identify usability issues</li>\n<li>we write a lot, and not just code, but also documentation, technical reports for <a href=\"http://open-paas.org/\">our generous sponsors</a>, and promotional materials so that more people can benefit from our software</li>\n<li>we take risks every day, building systems which others might have dismissed as impossible…</li>\n</ul>\n<h2 id=\"Why-we-do-it\"><a href=\"#Why-we-do-it\" class=\"headerlink\" title=\"Why we do it\"></a>Why we do it</h2><p>We work to build new tools, because we recognize that the world around us is always changing.\nWe know that our users navigate new challenges all the time, and we want to be there to help.\nUltimately, we all share the same world, and we want to make the most of it.</p>\n<p>We’ve put a lot of ourselves into this project, because we want to push the state of the art forward.\nWhile it’s a very small team that develops CryptPad directly, we couldn’t do it without the support of <a href=\"http://xwiki.com\">XWiki SAS</a>, and their willingness to take the risk of developing new technologies.\nCurrently, our funding covers only 50% of our expenses, but we’ve been confident that it would lead to better things in the future.</p>\n<p>Which brings us to what we’d like to announce…</p>\n<h2 id=\"Our-new-sponsors\"><a href=\"#Our-new-sponsors\" class=\"headerlink\" title=\"Our new sponsors!\"></a>Our new sponsors!</h2><p>We’ve been offering up new features, which you’ve been noticing, and others have noticed that you’ve noticed.\nMajor industry players have taken an interest in what we’ve been doing, and they’ve decided to commit to <em>the Zero Knowledge Revolution</em>.</p>\n<h2 id=\"What-this-means\"><a href=\"#What-this-means\" class=\"headerlink\" title=\"What this means\"></a>What this means</h2><p>Our hard work has paid off!\nWe’re going to keep working on CryptPad, albeit with a little more stability.</p>\n<p>We’re really excited to be working with our new financiers who have historically had a somewhat “tarnished” image in the security community, but we feel that now is the time for us and the NSA to work together and make Zero Knowledge a household name.</p>\n<p>A high ranking official who must for the time being remain anonymous, has said that Zero Knowledge is the future and improving our algorithms to use more unbreakable AES cryptography is a high priority.</p>\n<p>Our team is going to expand from 3 full time developers, to 60.\nThis is also going to give us more time to polish up some features we’ve been waiting to announce:</p>\n<ul>\n<li>New serverless architecture, all you need to do is connect to the internet and the NSA will collect your data automatically</li>\n<li>Total encryption, including metadata. Cryptpad will be completely anonymous, since it will be primarily offline, we won’t have access to information about your location or activity. We’ll be handing this off to the NSA’s best cryptanalysts and mathematicians.</li>\n<li>Full text search on encryped data, using quantum homomorphic encryption. Find everything all the time, in real time, with friends or alone</li>\n<li>We will slowly rewrite our codebase in Rust-lang over the next several months</li>\n<li>We will offer a new service to recover lost pads. If you’ve ever sent the link to the pad in an email, the NSA will be able to access the pad for you</li>\n<li>All of this is going to become available under the more permissive <em>MIT License</em>. It will continue to be open source, but we hope this will drive more adoption in the business sector, even among enterprises which adhere to the <em>proprietary software</em> business model</li>\n</ul>\n<p>We’ve been preparing this deal for some time, but we haven’t been able to talk about it while it was still under negotiation.\nWith most of that out of the way, we’re very happy to be able to finally share this news with you!</p>\n"},{"title":"CryptPad's new Secure Cross-Domain Iframe","date":"2017-08-30T14:53:00.000Z","author":"Caleb James DeLisle","_content":"\n<script src=\"https://cryptpad.fr/common/media-tag-nacl.min.js\"></script>\n\nCryptPad version 1.14 (Codename [Ouroboros](https://en.wikipedia.org/wiki/Ouroboros)) has been released and the most exciting new feature is one you cannot even see. As you may remember from the [Security Growing Pains](/2017/03/06/Security-growing-pains/) post, [Content Security Policy](https://en.wikipedia.org/wiki/Content_Security_Policy) is a significant part of CryptPad's security model, and it is unfortunately incompatible with [CKEditor](https://ckeditor.com/), the Open Source text editor used in CryptPad.\n\nWith this release, we have done a significant re-architecture of the CryptPad codebase. Starting with the /pad/ application, the CryptPad UI has begun a process of moving into an iframe which is hosted on a different domain: *sandbox.cryptpad.info*. Moving the visual content to a different domain means that even in the event of a [Cross-site scripting](https://en.wikipedia.org/wiki/Cross-site_scripting) security vulnerability, most of your private information such as the pads in your CryptDrive, will not be at risk.\n\nIn this version we updated only the /pad/ application to use the cross-domain iframe because it is the only app which requires *inline script*. This prevented us from using Content Security Policy to block the most significant vector for Cross Site Scripting attacks but now with the cross-domain iframe, such attacks are mitigated.\n\n<media-tag src=\"https://files.cryptpad.fr/blob/b5/b5cd676935a5b23c158f38a84b7f3dfd3dc96ab3aafddd62\" data-crypto-key=\"cryptpad:FBD19VUsNtgIxwjMGSOZcswciQzDixfuBY7dVWVwRG0=\" data-attr-width=\"50%\"></media-tag>\n\nGoing forward, we plan to implement a standardized CryptPad application API so that new applications can be developed, installed and used in CryptPad. Today, the CryptPad API which is exposed to apps such as /pad/ and /code/ is not standardized and there is no clear line between the apps themselves and the CryptPad internals. As we move toward the a standard app API, we will define a standard representation of a CryptPad application with such additional aspects as the app's color-scheme and icons.\n\nFundimentally, this unexciting change to CryptPad begins a new phase in development, we plan to move from a set of integrated prepackaged applications to an ecosystem of applications for collaborating on different types of content with the same encryption under the hood.\n\n## But Wait, There's more\n\nThe pictures in this blog post are not hosted on the blog, they are in fact Zero Knowledge files uploaded on CryptPad. They\ncan be seen on this blog because it is using the [Media Tag](https://github.com/UCF-project/media-tag) which was developed as part of the UCF Project with the support of [Systematic](http://www.systematic-paris-region.org/), [BPIFrance](https://www.bpifrance.fr/) and the [City of Paris](https://www.paris.fr/). \n\n<media-tag src=\"https://files.cryptpad.fr/blob/3c/3c9b5b3fb00b7dc35e15851606132585e8b69b06a51556eb\" data-crypto-key=\"cryptpad:VE4raHL5VFReAXxioTaFZwt6q2jpxX+bdFHAFeoivZQ=\" data-attr-width=\"40%\"></media-tag>\n\nMedia Tag allows files on CryptPad to be included in any website (such as this blog). All you have to do to include a file from CryptPad is simply include the Media Tag loader and then add a Media Tag to your document, just like the following:\n\n```html\n<!-- At the top of your HTML file -->\n<script src=\"https://cryptpad.fr/common/media-tag-nacl.min.js\"></script>\n\n<!-- Where you'd like the image to be located -->\n<media-tag src=\"https://files.cryptpad.fr/blob/3c/3c9b5b3fb00b7dc35e15851606132585e8b69b06a51556eb\" data-crypto-key=\"cryptpad:VE4raHL5VFReAXxioTaFZwt6q2jpxX+bdFHAFeoivZQ=\"></media-tag>\n```\n\nWith this you can embed files from your CryptDrive into any website you want.\n","source":"_posts/CryptPad-s-new-Secure-Cross-Domain-Iframe.md","raw":"---\ntitle: CryptPad's new Secure Cross-Domain Iframe\ndate: 2017-08-30 16:53:00\nauthor: Caleb James DeLisle\ntags:\n  - security\n  - appstore\n  - iframe\n  - media-tag\n---\n\n<script src=\"https://cryptpad.fr/common/media-tag-nacl.min.js\"></script>\n\nCryptPad version 1.14 (Codename [Ouroboros](https://en.wikipedia.org/wiki/Ouroboros)) has been released and the most exciting new feature is one you cannot even see. As you may remember from the [Security Growing Pains](/2017/03/06/Security-growing-pains/) post, [Content Security Policy](https://en.wikipedia.org/wiki/Content_Security_Policy) is a significant part of CryptPad's security model, and it is unfortunately incompatible with [CKEditor](https://ckeditor.com/), the Open Source text editor used in CryptPad.\n\nWith this release, we have done a significant re-architecture of the CryptPad codebase. Starting with the /pad/ application, the CryptPad UI has begun a process of moving into an iframe which is hosted on a different domain: *sandbox.cryptpad.info*. Moving the visual content to a different domain means that even in the event of a [Cross-site scripting](https://en.wikipedia.org/wiki/Cross-site_scripting) security vulnerability, most of your private information such as the pads in your CryptDrive, will not be at risk.\n\nIn this version we updated only the /pad/ application to use the cross-domain iframe because it is the only app which requires *inline script*. This prevented us from using Content Security Policy to block the most significant vector for Cross Site Scripting attacks but now with the cross-domain iframe, such attacks are mitigated.\n\n<media-tag src=\"https://files.cryptpad.fr/blob/b5/b5cd676935a5b23c158f38a84b7f3dfd3dc96ab3aafddd62\" data-crypto-key=\"cryptpad:FBD19VUsNtgIxwjMGSOZcswciQzDixfuBY7dVWVwRG0=\" data-attr-width=\"50%\"></media-tag>\n\nGoing forward, we plan to implement a standardized CryptPad application API so that new applications can be developed, installed and used in CryptPad. Today, the CryptPad API which is exposed to apps such as /pad/ and /code/ is not standardized and there is no clear line between the apps themselves and the CryptPad internals. As we move toward the a standard app API, we will define a standard representation of a CryptPad application with such additional aspects as the app's color-scheme and icons.\n\nFundimentally, this unexciting change to CryptPad begins a new phase in development, we plan to move from a set of integrated prepackaged applications to an ecosystem of applications for collaborating on different types of content with the same encryption under the hood.\n\n## But Wait, There's more\n\nThe pictures in this blog post are not hosted on the blog, they are in fact Zero Knowledge files uploaded on CryptPad. They\ncan be seen on this blog because it is using the [Media Tag](https://github.com/UCF-project/media-tag) which was developed as part of the UCF Project with the support of [Systematic](http://www.systematic-paris-region.org/), [BPIFrance](https://www.bpifrance.fr/) and the [City of Paris](https://www.paris.fr/). \n\n<media-tag src=\"https://files.cryptpad.fr/blob/3c/3c9b5b3fb00b7dc35e15851606132585e8b69b06a51556eb\" data-crypto-key=\"cryptpad:VE4raHL5VFReAXxioTaFZwt6q2jpxX+bdFHAFeoivZQ=\" data-attr-width=\"40%\"></media-tag>\n\nMedia Tag allows files on CryptPad to be included in any website (such as this blog). All you have to do to include a file from CryptPad is simply include the Media Tag loader and then add a Media Tag to your document, just like the following:\n\n```html\n<!-- At the top of your HTML file -->\n<script src=\"https://cryptpad.fr/common/media-tag-nacl.min.js\"></script>\n\n<!-- Where you'd like the image to be located -->\n<media-tag src=\"https://files.cryptpad.fr/blob/3c/3c9b5b3fb00b7dc35e15851606132585e8b69b06a51556eb\" data-crypto-key=\"cryptpad:VE4raHL5VFReAXxioTaFZwt6q2jpxX+bdFHAFeoivZQ=\"></media-tag>\n```\n\nWith this you can embed files from your CryptDrive into any website you want.\n","slug":"CryptPad-s-new-Secure-Cross-Domain-Iframe","published":1,"updated":"2018-06-15T10:06:34.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjjttvr01000b7ezf3p40tat8","content":"<script src=\"https://cryptpad.fr/common/media-tag-nacl.min.js\"></script>\n\n<p>CryptPad version 1.14 (Codename <a href=\"https://en.wikipedia.org/wiki/Ouroboros\" target=\"_blank\" rel=\"external\">Ouroboros</a>) has been released and the most exciting new feature is one you cannot even see. As you may remember from the <a href=\"/2017/03/06/Security-growing-pains/\">Security Growing Pains</a> post, <a href=\"https://en.wikipedia.org/wiki/Content_Security_Policy\" target=\"_blank\" rel=\"external\">Content Security Policy</a> is a significant part of CryptPad’s security model, and it is unfortunately incompatible with <a href=\"https://ckeditor.com/\" target=\"_blank\" rel=\"external\">CKEditor</a>, the Open Source text editor used in CryptPad.</p>\n<p>With this release, we have done a significant re-architecture of the CryptPad codebase. Starting with the /pad/ application, the CryptPad UI has begun a process of moving into an iframe which is hosted on a different domain: <em>sandbox.cryptpad.info</em>. Moving the visual content to a different domain means that even in the event of a <a href=\"https://en.wikipedia.org/wiki/Cross-site_scripting\" target=\"_blank\" rel=\"external\">Cross-site scripting</a> security vulnerability, most of your private information such as the pads in your CryptDrive, will not be at risk.</p>\n<p>In this version we updated only the /pad/ application to use the cross-domain iframe because it is the only app which requires <em>inline script</em>. This prevented us from using Content Security Policy to block the most significant vector for Cross Site Scripting attacks but now with the cross-domain iframe, such attacks are mitigated.</p>\n<p><media-tag src=\"https://files.cryptpad.fr/blob/b5/b5cd676935a5b23c158f38a84b7f3dfd3dc96ab3aafddd62\" data-crypto-key=\"cryptpad:FBD19VUsNtgIxwjMGSOZcswciQzDixfuBY7dVWVwRG0=\" data-attr-width=\"50%\"></media-tag></p>\n<p>Going forward, we plan to implement a standardized CryptPad application API so that new applications can be developed, installed and used in CryptPad. Today, the CryptPad API which is exposed to apps such as /pad/ and /code/ is not standardized and there is no clear line between the apps themselves and the CryptPad internals. As we move toward the a standard app API, we will define a standard representation of a CryptPad application with such additional aspects as the app’s color-scheme and icons.</p>\n<p>Fundimentally, this unexciting change to CryptPad begins a new phase in development, we plan to move from a set of integrated prepackaged applications to an ecosystem of applications for collaborating on different types of content with the same encryption under the hood.</p>\n<h2 id=\"But-Wait-There’s-more\"><a href=\"#But-Wait-There’s-more\" class=\"headerlink\" title=\"But Wait, There’s more\"></a>But Wait, There’s more</h2><p>The pictures in this blog post are not hosted on the blog, they are in fact Zero Knowledge files uploaded on CryptPad. They\ncan be seen on this blog because it is using the <a href=\"https://github.com/UCF-project/media-tag\" target=\"_blank\" rel=\"external\">Media Tag</a> which was developed as part of the UCF Project with the support of <a href=\"http://www.systematic-paris-region.org/\" target=\"_blank\" rel=\"external\">Systematic</a>, <a href=\"https://www.bpifrance.fr/\" target=\"_blank\" rel=\"external\">BPIFrance</a> and the <a href=\"https://www.paris.fr/\" target=\"_blank\" rel=\"external\">City of Paris</a>. </p>\n<p><media-tag src=\"https://files.cryptpad.fr/blob/3c/3c9b5b3fb00b7dc35e15851606132585e8b69b06a51556eb\" data-crypto-key=\"cryptpad:VE4raHL5VFReAXxioTaFZwt6q2jpxX+bdFHAFeoivZQ=\" data-attr-width=\"40%\"></media-tag></p>\n<p>Media Tag allows files on CryptPad to be included in any website (such as this blog). All you have to do to include a file from CryptPad is simply include the Media Tag loader and then add a Media Tag to your document, just like the following:</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">&lt;!-- At the top of your HTML file --&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">src</span>=<span class=\"string\">\"https://cryptpad.fr/common/media-tag-nacl.min.js\"</span>&gt;</span><span class=\"undefined\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">&lt;!-- Where you'd like the image to be located --&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">media-tag</span> <span class=\"attr\">src</span>=<span class=\"string\">\"https://files.cryptpad.fr/blob/3c/3c9b5b3fb00b7dc35e15851606132585e8b69b06a51556eb\"</span> <span class=\"attr\">data-crypto-key</span>=<span class=\"string\">\"cryptpad:VE4raHL5VFReAXxioTaFZwt6q2jpxX+bdFHAFeoivZQ=\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">media-tag</span>&gt;</span></div></pre></td></tr></table></figure>\n<p>With this you can embed files from your CryptDrive into any website you want.</p>\n","excerpt":"","more":"<script src=\"https://cryptpad.fr/common/media-tag-nacl.min.js\"></script>\n\n<p>CryptPad version 1.14 (Codename <a href=\"https://en.wikipedia.org/wiki/Ouroboros\">Ouroboros</a>) has been released and the most exciting new feature is one you cannot even see. As you may remember from the <a href=\"/2017/03/06/Security-growing-pains/\">Security Growing Pains</a> post, <a href=\"https://en.wikipedia.org/wiki/Content_Security_Policy\">Content Security Policy</a> is a significant part of CryptPad’s security model, and it is unfortunately incompatible with <a href=\"https://ckeditor.com/\">CKEditor</a>, the Open Source text editor used in CryptPad.</p>\n<p>With this release, we have done a significant re-architecture of the CryptPad codebase. Starting with the /pad/ application, the CryptPad UI has begun a process of moving into an iframe which is hosted on a different domain: <em>sandbox.cryptpad.info</em>. Moving the visual content to a different domain means that even in the event of a <a href=\"https://en.wikipedia.org/wiki/Cross-site_scripting\">Cross-site scripting</a> security vulnerability, most of your private information such as the pads in your CryptDrive, will not be at risk.</p>\n<p>In this version we updated only the /pad/ application to use the cross-domain iframe because it is the only app which requires <em>inline script</em>. This prevented us from using Content Security Policy to block the most significant vector for Cross Site Scripting attacks but now with the cross-domain iframe, such attacks are mitigated.</p>\n<p><media-tag src=\"https://files.cryptpad.fr/blob/b5/b5cd676935a5b23c158f38a84b7f3dfd3dc96ab3aafddd62\" data-crypto-key=\"cryptpad:FBD19VUsNtgIxwjMGSOZcswciQzDixfuBY7dVWVwRG0=\" data-attr-width=\"50%\"></media-tag></p>\n<p>Going forward, we plan to implement a standardized CryptPad application API so that new applications can be developed, installed and used in CryptPad. Today, the CryptPad API which is exposed to apps such as /pad/ and /code/ is not standardized and there is no clear line between the apps themselves and the CryptPad internals. As we move toward the a standard app API, we will define a standard representation of a CryptPad application with such additional aspects as the app’s color-scheme and icons.</p>\n<p>Fundimentally, this unexciting change to CryptPad begins a new phase in development, we plan to move from a set of integrated prepackaged applications to an ecosystem of applications for collaborating on different types of content with the same encryption under the hood.</p>\n<h2 id=\"But-Wait-There’s-more\"><a href=\"#But-Wait-There’s-more\" class=\"headerlink\" title=\"But Wait, There’s more\"></a>But Wait, There’s more</h2><p>The pictures in this blog post are not hosted on the blog, they are in fact Zero Knowledge files uploaded on CryptPad. They\ncan be seen on this blog because it is using the <a href=\"https://github.com/UCF-project/media-tag\">Media Tag</a> which was developed as part of the UCF Project with the support of <a href=\"http://www.systematic-paris-region.org/\">Systematic</a>, <a href=\"https://www.bpifrance.fr/\">BPIFrance</a> and the <a href=\"https://www.paris.fr/\">City of Paris</a>. </p>\n<p><media-tag src=\"https://files.cryptpad.fr/blob/3c/3c9b5b3fb00b7dc35e15851606132585e8b69b06a51556eb\" data-crypto-key=\"cryptpad:VE4raHL5VFReAXxioTaFZwt6q2jpxX+bdFHAFeoivZQ=\" data-attr-width=\"40%\"></media-tag></p>\n<p>Media Tag allows files on CryptPad to be included in any website (such as this blog). All you have to do to include a file from CryptPad is simply include the Media Tag loader and then add a Media Tag to your document, just like the following:</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">&lt;!-- At the top of your HTML file --&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">src</span>=<span class=\"string\">\"https://cryptpad.fr/common/media-tag-nacl.min.js\"</span>&gt;</span><span class=\"undefined\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">&lt;!-- Where you'd like the image to be located --&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">media-tag</span> <span class=\"attr\">src</span>=<span class=\"string\">\"https://files.cryptpad.fr/blob/3c/3c9b5b3fb00b7dc35e15851606132585e8b69b06a51556eb\"</span> <span class=\"attr\">data-crypto-key</span>=<span class=\"string\">\"cryptpad:VE4raHL5VFReAXxioTaFZwt6q2jpxX+bdFHAFeoivZQ=\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">media-tag</span>&gt;</span></div></pre></td></tr></table></figure>\n<p>With this you can embed files from your CryptDrive into any website you want.</p>\n"},{"title":"CryptPad - use it, love ❤️ it, support it","date":"2017-05-23T16:40:35.000Z","author":"Caleb James DeLisle","_content":"\nIt's been another release day in our little team. Today we released\n[CryptPad v1.7.0 (Hodag)](https://github.com/xwiki-labs/cryptpad/releases/tag/1.7.0). The biggest new feature in this version is that when you create a */code/* pad, the default highlighting is in markdown syntax and there it is rendered in realtime while you type. Try it out by making a pad at [cryptpad.fr/code](https://cryptpad.fr/code).\n\nIn this release we also completed something much more important and central to the future of CryptPad. We finished our first version of the payment server which allows you to take a subscription and help support the work that we do.\n\nStarting with this release we are now imposing a 50MB storage limit for our anonymous users and a 3 month expiration of pads which are not stored by a registered user. \n\nInstant collaboration is the vision of CryptPad and we are committed to continuing to provide that and even providing 50MB of persistent storage for anyone who is willing to sign up.\n\nFor people who are ready to take the next step, we are now providing subscriptions which will improve how you organize your information while helping CryptPad to grow and improve.\n\n## Plans\n\n1. Personal (5GB storage, 5€/month ex. VAT)\n\t* This is best for an individual using lots of pads for collaboration and note taking. For the price of a sandwich you can stay organized on all of your devices while also keeping your privacy private.\n2. Standard (20GB storage, 10€/month ex. VAT)\n\t* For the price of lunch, you can have 20GB of storage, enough for not only pads but also for the soon to launch File Upload which will allow Zero Knowledge storage of files such as pictures and PDF documents. With the Standard plan you can add one more friend for free.\n3. Team (50GB storage, 15€/month ex. VAT)\n\t* If you're ready to extend your usage of CryptPad to an entire team, we are ready to help you succeed. With a Team plan you get 50GB of data storage in CryptPad, plenty for files and pads. You also get to add **five** people to your plan and you get professional support available in English and French.\n\nOur goal is to make the best collaboration tool available while still being unable to sell or leak your content. Help us succeed, helping you stay organized and help show the world that Zero Knowledge Cloud is possible.\n\n## For Admins\n\nIf you're hosting your own instance of CryptPad, there are a few things you'll need to do when you upgrade to Hodag. The limits code is still somewhat of a mess and while we get it tied down, you'll need to do a bit of work to disable it.\n\nFirst there is a serverside per-user storage limit defined in `config.js` You'll want to set this to a big number like so:\n\n\tdefaultStorageLimit: Number.MAX_SAFE_INTEGER\n    \nThen there is `customize/application_config.js`. If you're not familiar with `/customize/`, you can create this directory and then copy `application_config.js` over from the `/customize.dist/` directory so it will not be overwritten. The server will try looking in `/customize/` first.\n\nInside of `application_config.js` you'll need to update the `enablePinLimit` line like so:\n\n    enablePinLimit = false;\n\nIf you're using your own CryptPad installation in a business context, please consider contacting [sales@cryptpad.fr](mailto:sales@cryptpad.fr) for an on-premises support contract. You'll get help with upgrades and early information about security issues.\n\n## What's Next\n\nIn the coming months, we're hoping to roll out text coloring based on the authors of the document as well as file upload for PDF and image embedding. Eventually we plan to add Zero Knowledge spreadsheets and workgroups for team collaboration.\n","source":"_posts/CryptPad-use-it-love-it-support-it.md","raw":"---\ntitle: 'CryptPad - use it, love ❤️ it, support it'\ndate: 2017-05-23 18:40:35\nauthor: Caleb James DeLisle\ntags:\n  - donate\n  - financing\n---\n\nIt's been another release day in our little team. Today we released\n[CryptPad v1.7.0 (Hodag)](https://github.com/xwiki-labs/cryptpad/releases/tag/1.7.0). The biggest new feature in this version is that when you create a */code/* pad, the default highlighting is in markdown syntax and there it is rendered in realtime while you type. Try it out by making a pad at [cryptpad.fr/code](https://cryptpad.fr/code).\n\nIn this release we also completed something much more important and central to the future of CryptPad. We finished our first version of the payment server which allows you to take a subscription and help support the work that we do.\n\nStarting with this release we are now imposing a 50MB storage limit for our anonymous users and a 3 month expiration of pads which are not stored by a registered user. \n\nInstant collaboration is the vision of CryptPad and we are committed to continuing to provide that and even providing 50MB of persistent storage for anyone who is willing to sign up.\n\nFor people who are ready to take the next step, we are now providing subscriptions which will improve how you organize your information while helping CryptPad to grow and improve.\n\n## Plans\n\n1. Personal (5GB storage, 5€/month ex. VAT)\n\t* This is best for an individual using lots of pads for collaboration and note taking. For the price of a sandwich you can stay organized on all of your devices while also keeping your privacy private.\n2. Standard (20GB storage, 10€/month ex. VAT)\n\t* For the price of lunch, you can have 20GB of storage, enough for not only pads but also for the soon to launch File Upload which will allow Zero Knowledge storage of files such as pictures and PDF documents. With the Standard plan you can add one more friend for free.\n3. Team (50GB storage, 15€/month ex. VAT)\n\t* If you're ready to extend your usage of CryptPad to an entire team, we are ready to help you succeed. With a Team plan you get 50GB of data storage in CryptPad, plenty for files and pads. You also get to add **five** people to your plan and you get professional support available in English and French.\n\nOur goal is to make the best collaboration tool available while still being unable to sell or leak your content. Help us succeed, helping you stay organized and help show the world that Zero Knowledge Cloud is possible.\n\n## For Admins\n\nIf you're hosting your own instance of CryptPad, there are a few things you'll need to do when you upgrade to Hodag. The limits code is still somewhat of a mess and while we get it tied down, you'll need to do a bit of work to disable it.\n\nFirst there is a serverside per-user storage limit defined in `config.js` You'll want to set this to a big number like so:\n\n\tdefaultStorageLimit: Number.MAX_SAFE_INTEGER\n    \nThen there is `customize/application_config.js`. If you're not familiar with `/customize/`, you can create this directory and then copy `application_config.js` over from the `/customize.dist/` directory so it will not be overwritten. The server will try looking in `/customize/` first.\n\nInside of `application_config.js` you'll need to update the `enablePinLimit` line like so:\n\n    enablePinLimit = false;\n\nIf you're using your own CryptPad installation in a business context, please consider contacting [sales@cryptpad.fr](mailto:sales@cryptpad.fr) for an on-premises support contract. You'll get help with upgrades and early information about security issues.\n\n## What's Next\n\nIn the coming months, we're hoping to roll out text coloring based on the authors of the document as well as file upload for PDF and image embedding. Eventually we plan to add Zero Knowledge spreadsheets and workgroups for team collaboration.\n","slug":"CryptPad-use-it-love-it-support-it","published":1,"updated":"2018-06-15T10:06:34.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjjttvr02000c7ezftehfwfsu","content":"<p>It’s been another release day in our little team. Today we released\n<a href=\"https://github.com/xwiki-labs/cryptpad/releases/tag/1.7.0\" target=\"_blank\" rel=\"external\">CryptPad v1.7.0 (Hodag)</a>. The biggest new feature in this version is that when you create a <em>/code/</em> pad, the default highlighting is in markdown syntax and there it is rendered in realtime while you type. Try it out by making a pad at <a href=\"https://cryptpad.fr/code\" target=\"_blank\" rel=\"external\">cryptpad.fr/code</a>.</p>\n<p>In this release we also completed something much more important and central to the future of CryptPad. We finished our first version of the payment server which allows you to take a subscription and help support the work that we do.</p>\n<p>Starting with this release we are now imposing a 50MB storage limit for our anonymous users and a 3 month expiration of pads which are not stored by a registered user. </p>\n<p>Instant collaboration is the vision of CryptPad and we are committed to continuing to provide that and even providing 50MB of persistent storage for anyone who is willing to sign up.</p>\n<p>For people who are ready to take the next step, we are now providing subscriptions which will improve how you organize your information while helping CryptPad to grow and improve.</p>\n<h2 id=\"Plans\"><a href=\"#Plans\" class=\"headerlink\" title=\"Plans\"></a>Plans</h2><ol>\n<li>Personal (5GB storage, 5€/month ex. VAT)<ul>\n<li>This is best for an individual using lots of pads for collaboration and note taking. For the price of a sandwich you can stay organized on all of your devices while also keeping your privacy private.</li>\n</ul>\n</li>\n<li>Standard (20GB storage, 10€/month ex. VAT)<ul>\n<li>For the price of lunch, you can have 20GB of storage, enough for not only pads but also for the soon to launch File Upload which will allow Zero Knowledge storage of files such as pictures and PDF documents. With the Standard plan you can add one more friend for free.</li>\n</ul>\n</li>\n<li>Team (50GB storage, 15€/month ex. VAT)<ul>\n<li>If you’re ready to extend your usage of CryptPad to an entire team, we are ready to help you succeed. With a Team plan you get 50GB of data storage in CryptPad, plenty for files and pads. You also get to add <strong>five</strong> people to your plan and you get professional support available in English and French.</li>\n</ul>\n</li>\n</ol>\n<p>Our goal is to make the best collaboration tool available while still being unable to sell or leak your content. Help us succeed, helping you stay organized and help show the world that Zero Knowledge Cloud is possible.</p>\n<h2 id=\"For-Admins\"><a href=\"#For-Admins\" class=\"headerlink\" title=\"For Admins\"></a>For Admins</h2><p>If you’re hosting your own instance of CryptPad, there are a few things you’ll need to do when you upgrade to Hodag. The limits code is still somewhat of a mess and while we get it tied down, you’ll need to do a bit of work to disable it.</p>\n<p>First there is a serverside per-user storage limit defined in <code>config.js</code> You’ll want to set this to a big number like so:</p>\n<pre><code>defaultStorageLimit: Number.MAX_SAFE_INTEGER\n</code></pre><p>Then there is <code>customize/application_config.js</code>. If you’re not familiar with <code>/customize/</code>, you can create this directory and then copy <code>application_config.js</code> over from the <code>/customize.dist/</code> directory so it will not be overwritten. The server will try looking in <code>/customize/</code> first.</p>\n<p>Inside of <code>application_config.js</code> you’ll need to update the <code>enablePinLimit</code> line like so:</p>\n<pre><code>enablePinLimit = false;\n</code></pre><p>If you’re using your own CryptPad installation in a business context, please consider contacting <a href=\"mailto:sales@cryptpad.fr\" target=\"_blank\" rel=\"external\">sales@cryptpad.fr</a> for an on-premises support contract. You’ll get help with upgrades and early information about security issues.</p>\n<h2 id=\"What’s-Next\"><a href=\"#What’s-Next\" class=\"headerlink\" title=\"What’s Next\"></a>What’s Next</h2><p>In the coming months, we’re hoping to roll out text coloring based on the authors of the document as well as file upload for PDF and image embedding. Eventually we plan to add Zero Knowledge spreadsheets and workgroups for team collaboration.</p>\n","excerpt":"","more":"<p>It’s been another release day in our little team. Today we released\n<a href=\"https://github.com/xwiki-labs/cryptpad/releases/tag/1.7.0\">CryptPad v1.7.0 (Hodag)</a>. The biggest new feature in this version is that when you create a <em>/code/</em> pad, the default highlighting is in markdown syntax and there it is rendered in realtime while you type. Try it out by making a pad at <a href=\"https://cryptpad.fr/code\">cryptpad.fr/code</a>.</p>\n<p>In this release we also completed something much more important and central to the future of CryptPad. We finished our first version of the payment server which allows you to take a subscription and help support the work that we do.</p>\n<p>Starting with this release we are now imposing a 50MB storage limit for our anonymous users and a 3 month expiration of pads which are not stored by a registered user. </p>\n<p>Instant collaboration is the vision of CryptPad and we are committed to continuing to provide that and even providing 50MB of persistent storage for anyone who is willing to sign up.</p>\n<p>For people who are ready to take the next step, we are now providing subscriptions which will improve how you organize your information while helping CryptPad to grow and improve.</p>\n<h2 id=\"Plans\"><a href=\"#Plans\" class=\"headerlink\" title=\"Plans\"></a>Plans</h2><ol>\n<li>Personal (5GB storage, 5€/month ex. VAT)<ul>\n<li>This is best for an individual using lots of pads for collaboration and note taking. For the price of a sandwich you can stay organized on all of your devices while also keeping your privacy private.</li>\n</ul>\n</li>\n<li>Standard (20GB storage, 10€/month ex. VAT)<ul>\n<li>For the price of lunch, you can have 20GB of storage, enough for not only pads but also for the soon to launch File Upload which will allow Zero Knowledge storage of files such as pictures and PDF documents. With the Standard plan you can add one more friend for free.</li>\n</ul>\n</li>\n<li>Team (50GB storage, 15€/month ex. VAT)<ul>\n<li>If you’re ready to extend your usage of CryptPad to an entire team, we are ready to help you succeed. With a Team plan you get 50GB of data storage in CryptPad, plenty for files and pads. You also get to add <strong>five</strong> people to your plan and you get professional support available in English and French.</li>\n</ul>\n</li>\n</ol>\n<p>Our goal is to make the best collaboration tool available while still being unable to sell or leak your content. Help us succeed, helping you stay organized and help show the world that Zero Knowledge Cloud is possible.</p>\n<h2 id=\"For-Admins\"><a href=\"#For-Admins\" class=\"headerlink\" title=\"For Admins\"></a>For Admins</h2><p>If you’re hosting your own instance of CryptPad, there are a few things you’ll need to do when you upgrade to Hodag. The limits code is still somewhat of a mess and while we get it tied down, you’ll need to do a bit of work to disable it.</p>\n<p>First there is a serverside per-user storage limit defined in <code>config.js</code> You’ll want to set this to a big number like so:</p>\n<pre><code>defaultStorageLimit: Number.MAX_SAFE_INTEGER\n</code></pre><p>Then there is <code>customize/application_config.js</code>. If you’re not familiar with <code>/customize/</code>, you can create this directory and then copy <code>application_config.js</code> over from the <code>/customize.dist/</code> directory so it will not be overwritten. The server will try looking in <code>/customize/</code> first.</p>\n<p>Inside of <code>application_config.js</code> you’ll need to update the <code>enablePinLimit</code> line like so:</p>\n<pre><code>enablePinLimit = false;\n</code></pre><p>If you’re using your own CryptPad installation in a business context, please consider contacting <a href=\"mailto:sales@cryptpad.fr\">sales@cryptpad.fr</a> for an on-premises support contract. You’ll get help with upgrades and early information about security issues.</p>\n<h2 id=\"What’s-Next\"><a href=\"#What’s-Next\" class=\"headerlink\" title=\"What’s Next\"></a>What’s Next</h2><p>In the coming months, we’re hoping to roll out text coloring based on the authors of the document as well as file upload for PDF and image embedding. Eventually we plan to add Zero Knowledge spreadsheets and workgroups for team collaboration.</p>\n"},{"title":"Faster loads with SharedWorker & ServiceWorker","date":"2018-06-22T19:21:58.000Z","author":"Caleb James DeLisle","_content":"\nWhen CryptPad was first created, the only thing to load was the CryptPad code itself and the pad which you were editing. Recently edited pads were remembered in the browser's [localStorage](https://developer.mozilla.org/en-US/docs/Web/API/Window/localStorage) which was not portable between computers but allowed some recent history to be kept.\n\nHowever, we wanted to allow people to login and manage their pads on all of their devices so we created the CryptDrive. Anyone who has used CryptPad but never logged in is encouraged to [register and login](https://cryptpad.fr/register) (it's free) and check out their drive. CryptDrive is basically just a realtime pad containing a JSON structure with links to all of your pads as well as their titles and other information. When you update the title of a pad, it changes the pad itself but it also changes your drive so that you can see the title of the pad in your drive. This is of course not perfect because if someone else changes the title of a pad, your drive will not be updated until you look at the pad again, but doing everything with the server completely blind to the content isn't easy, and this works reasonably well.\n\nHowever, CryptDrive causes an additional delay when loading CryptPad because whenever you load a document, you are actually loading two realtime instances. Since the drive is loaded over and over for every pad you view, it was obvious to us that we could make it more efficient using communication inside the browser.\n\n## First idea: Messages between tabs\n\nTabs (or windows) in a browser which are on the same website are able to [communicate using localStorage](http://krasimirtsonev.com/blog/article/Using-Local-Storage-as-a-communication-channel) and so it seemed like a good solution to just have one tab claim the role of managing the drive and then when another tab is opened, it would message the first. However, this seemingly easy solution becomes a nightmare when you consider what happens when that tab is closed. The drive that everyone is relying on goes away and all of the other tabs are without a drive so they need to [flip a coin](https://martin.kleppmann.com/2016/02/08/how-to-do-distributed-locking.html) to decide which tab should become the keeper of the drive, then that tab needs to download the drive before it can service events, all the while any of the buttons which affect the drive (for instance deleting the pad) cannot possibly function. This idea was soon scrapped...\n\n## Enter ServiceWorker\nRecently, the HTML5 working group created a new standard called [ServiceWorker](https://developer.mozilla.org/en-US/docs/Web/API/ServiceWorker) which for someone making a webapp seems like a dream come true. ServiceWorkers:\n\n* Are side-processes which are created one-per-website and live in the background.\n* Can intercept HTTP requests from your main javascript (excellent for caching!).\n* Is suspended when the last tab is closed, and re-launched when the user returns.\n* Are stored in suspended state even when the browser is turned off.\n* Supported by [every modern browser](https://caniuse.com/#search=serviceworker).\n\nWhen the website loads a worker, if the worker is already running it will not load and will instead defer to the existing worker. Communicating between workers and tabs which are on the website is possible via a [postMessage()](https://developer.mozilla.org/en-US/docs/Web/API/Client/postMessage) API and then the ServiceWorker can postMessage() which will reach all tabs that are navigated to the website.\n\nOne limitation of this design is versioning. Because the ServiceWorker would stay alive potentially forever, we needed to identify a way to upgrade it if a new version of CryptPad is released. This is quite important for CryptPad as version mismatches can lead to catastrophic conflicts between different browsers working on the same document.\n\nThough updating is non-trivial, we were able to solve it by sending version messages between different components of CryptPad and informing them whether they need to update (or even if they can *optionally* update). Since this seemed like a solvable problem, we tried creating an experimental implementatiton of ServiceWorkers in CryptPad, and then the fun started...\n\n### ServiceWorkers in Firefox\nSince Firefox 48, Firefox has begun following Chrome's model and running [different processes](https://developer.mozilla.org/en-US/Firefox/Multiprocess_Firefox) for rendering the different tabs in the browser. However, this isolation has a side-effect that when you attempt to launch a ServiceWorker, it [may launch even though one already exists for the same website](https://bugzilla.mozilla.org/show_bug.cgi?id=1438945), because the other one exists in a different tab which happens to be operating in a different process. However, the postMessage() requests from tabs go out to all of the ServiceWorkers so this bug can be worked around.\n\nUnfortunately we encountered some more issues with Firefox which we found not worth debugging. Our CryptDrive is a Javascript object which is represented in the encrypted realtime document as JSON and there is an ES6 [Proxy](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Proxy) object in order to allow every change to the drive to be propagated to the underlying realtime object. In Firefox the proxy did not work when used in a ServiceWorker and at times our ServiceWorker simply stopped running.\n\n### Reporting bugs in browsers\nOne might think these are great opportunities to report issues with Firefox, and when we find an [issue which we think will affect lots of people](https://bugzilla.mozilla.org/show_bug.cgi?id=1434278) especially if it is a regression, we don't hesitate to report it, but usually it is not clear how to reproduce the issue, whether there might be some error in our usage of the API which is being smoothed over by Chrome, or whether the component being reported on is a priority, in that case rather rain low quality bug reports down upon the poor browser developers, we spend our limited time trying to make CryptPad better. In the case of ServiceWorker in Firefox, our conclusion is that in effect the technology remains experimental and shouldn't be relied upon.\n\n## SharedWorker to the rescue\nFortunately there is another technology called [SharedWorker](https://developer.mozilla.org/en-US/docs/Web/API/SharedWorker) which is essentially identical to a plain vanilla WebWorker but can communicate with all tabs which are navigated to the site. Unfortunately this technology is only supported in [Chrome and Firefox](https://caniuse.com/#feat=sharedworkers), but the support for this technology, we found, really works!\n\nHowever, Firefox still has the [issue](https://bugzilla.mozilla.org/show_bug.cgi?id=1438945) with of multiple SharedWorkers being created for multiple tabs, but since this issue is fixable we were able to go ahead with it anyway. For browsers which have no SharedWorker, they would fallback to plain old WebWorker. Though this seems like it would be a problem, it is in fact quite fine because actions done in the drive by another WebWorker are the same as actions done in the drive by another device, they need to be encrypted and sent to the server in order to persist anyway.\n\n## Faster CryptPad\nComing in the release on Tuesday June 26, 2018, we will have a new SharedWorker based CryptPad instance, that means when you use Chrome or Firefox, the first time you open CryptPad, it will load your drive, but then every tab you open after that will communicate with the SharedWorker managing the drive and therefore pads will load nearly twice as fast.","source":"_posts/Faster-loads-with-SharedWorker-ServiceWorker.md","raw":"---\ntitle: Faster loads with SharedWorker & ServiceWorker\ndate: 2018-06-22 21:21:58\nauthor: Caleb James DeLisle\ntags:\n  - WebWorker\n  - SharedWorker\n  - Performance\n---\n\nWhen CryptPad was first created, the only thing to load was the CryptPad code itself and the pad which you were editing. Recently edited pads were remembered in the browser's [localStorage](https://developer.mozilla.org/en-US/docs/Web/API/Window/localStorage) which was not portable between computers but allowed some recent history to be kept.\n\nHowever, we wanted to allow people to login and manage their pads on all of their devices so we created the CryptDrive. Anyone who has used CryptPad but never logged in is encouraged to [register and login](https://cryptpad.fr/register) (it's free) and check out their drive. CryptDrive is basically just a realtime pad containing a JSON structure with links to all of your pads as well as their titles and other information. When you update the title of a pad, it changes the pad itself but it also changes your drive so that you can see the title of the pad in your drive. This is of course not perfect because if someone else changes the title of a pad, your drive will not be updated until you look at the pad again, but doing everything with the server completely blind to the content isn't easy, and this works reasonably well.\n\nHowever, CryptDrive causes an additional delay when loading CryptPad because whenever you load a document, you are actually loading two realtime instances. Since the drive is loaded over and over for every pad you view, it was obvious to us that we could make it more efficient using communication inside the browser.\n\n## First idea: Messages between tabs\n\nTabs (or windows) in a browser which are on the same website are able to [communicate using localStorage](http://krasimirtsonev.com/blog/article/Using-Local-Storage-as-a-communication-channel) and so it seemed like a good solution to just have one tab claim the role of managing the drive and then when another tab is opened, it would message the first. However, this seemingly easy solution becomes a nightmare when you consider what happens when that tab is closed. The drive that everyone is relying on goes away and all of the other tabs are without a drive so they need to [flip a coin](https://martin.kleppmann.com/2016/02/08/how-to-do-distributed-locking.html) to decide which tab should become the keeper of the drive, then that tab needs to download the drive before it can service events, all the while any of the buttons which affect the drive (for instance deleting the pad) cannot possibly function. This idea was soon scrapped...\n\n## Enter ServiceWorker\nRecently, the HTML5 working group created a new standard called [ServiceWorker](https://developer.mozilla.org/en-US/docs/Web/API/ServiceWorker) which for someone making a webapp seems like a dream come true. ServiceWorkers:\n\n* Are side-processes which are created one-per-website and live in the background.\n* Can intercept HTTP requests from your main javascript (excellent for caching!).\n* Is suspended when the last tab is closed, and re-launched when the user returns.\n* Are stored in suspended state even when the browser is turned off.\n* Supported by [every modern browser](https://caniuse.com/#search=serviceworker).\n\nWhen the website loads a worker, if the worker is already running it will not load and will instead defer to the existing worker. Communicating between workers and tabs which are on the website is possible via a [postMessage()](https://developer.mozilla.org/en-US/docs/Web/API/Client/postMessage) API and then the ServiceWorker can postMessage() which will reach all tabs that are navigated to the website.\n\nOne limitation of this design is versioning. Because the ServiceWorker would stay alive potentially forever, we needed to identify a way to upgrade it if a new version of CryptPad is released. This is quite important for CryptPad as version mismatches can lead to catastrophic conflicts between different browsers working on the same document.\n\nThough updating is non-trivial, we were able to solve it by sending version messages between different components of CryptPad and informing them whether they need to update (or even if they can *optionally* update). Since this seemed like a solvable problem, we tried creating an experimental implementatiton of ServiceWorkers in CryptPad, and then the fun started...\n\n### ServiceWorkers in Firefox\nSince Firefox 48, Firefox has begun following Chrome's model and running [different processes](https://developer.mozilla.org/en-US/Firefox/Multiprocess_Firefox) for rendering the different tabs in the browser. However, this isolation has a side-effect that when you attempt to launch a ServiceWorker, it [may launch even though one already exists for the same website](https://bugzilla.mozilla.org/show_bug.cgi?id=1438945), because the other one exists in a different tab which happens to be operating in a different process. However, the postMessage() requests from tabs go out to all of the ServiceWorkers so this bug can be worked around.\n\nUnfortunately we encountered some more issues with Firefox which we found not worth debugging. Our CryptDrive is a Javascript object which is represented in the encrypted realtime document as JSON and there is an ES6 [Proxy](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Proxy) object in order to allow every change to the drive to be propagated to the underlying realtime object. In Firefox the proxy did not work when used in a ServiceWorker and at times our ServiceWorker simply stopped running.\n\n### Reporting bugs in browsers\nOne might think these are great opportunities to report issues with Firefox, and when we find an [issue which we think will affect lots of people](https://bugzilla.mozilla.org/show_bug.cgi?id=1434278) especially if it is a regression, we don't hesitate to report it, but usually it is not clear how to reproduce the issue, whether there might be some error in our usage of the API which is being smoothed over by Chrome, or whether the component being reported on is a priority, in that case rather rain low quality bug reports down upon the poor browser developers, we spend our limited time trying to make CryptPad better. In the case of ServiceWorker in Firefox, our conclusion is that in effect the technology remains experimental and shouldn't be relied upon.\n\n## SharedWorker to the rescue\nFortunately there is another technology called [SharedWorker](https://developer.mozilla.org/en-US/docs/Web/API/SharedWorker) which is essentially identical to a plain vanilla WebWorker but can communicate with all tabs which are navigated to the site. Unfortunately this technology is only supported in [Chrome and Firefox](https://caniuse.com/#feat=sharedworkers), but the support for this technology, we found, really works!\n\nHowever, Firefox still has the [issue](https://bugzilla.mozilla.org/show_bug.cgi?id=1438945) with of multiple SharedWorkers being created for multiple tabs, but since this issue is fixable we were able to go ahead with it anyway. For browsers which have no SharedWorker, they would fallback to plain old WebWorker. Though this seems like it would be a problem, it is in fact quite fine because actions done in the drive by another WebWorker are the same as actions done in the drive by another device, they need to be encrypted and sent to the server in order to persist anyway.\n\n## Faster CryptPad\nComing in the release on Tuesday June 26, 2018, we will have a new SharedWorker based CryptPad instance, that means when you use Chrome or Firefox, the first time you open CryptPad, it will load your drive, but then every tab you open after that will communicate with the SharedWorker managing the drive and therefore pads will load nearly twice as fast.","slug":"Faster-loads-with-SharedWorker-ServiceWorker","published":1,"updated":"2018-06-22T19:33:24.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjjttvr03000e7ezfe87i0ii8","content":"<p>When CryptPad was first created, the only thing to load was the CryptPad code itself and the pad which you were editing. Recently edited pads were remembered in the browser’s <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Window/localStorage\" target=\"_blank\" rel=\"external\">localStorage</a> which was not portable between computers but allowed some recent history to be kept.</p>\n<p>However, we wanted to allow people to login and manage their pads on all of their devices so we created the CryptDrive. Anyone who has used CryptPad but never logged in is encouraged to <a href=\"https://cryptpad.fr/register\" target=\"_blank\" rel=\"external\">register and login</a> (it’s free) and check out their drive. CryptDrive is basically just a realtime pad containing a JSON structure with links to all of your pads as well as their titles and other information. When you update the title of a pad, it changes the pad itself but it also changes your drive so that you can see the title of the pad in your drive. This is of course not perfect because if someone else changes the title of a pad, your drive will not be updated until you look at the pad again, but doing everything with the server completely blind to the content isn’t easy, and this works reasonably well.</p>\n<p>However, CryptDrive causes an additional delay when loading CryptPad because whenever you load a document, you are actually loading two realtime instances. Since the drive is loaded over and over for every pad you view, it was obvious to us that we could make it more efficient using communication inside the browser.</p>\n<h2 id=\"First-idea-Messages-between-tabs\"><a href=\"#First-idea-Messages-between-tabs\" class=\"headerlink\" title=\"First idea: Messages between tabs\"></a>First idea: Messages between tabs</h2><p>Tabs (or windows) in a browser which are on the same website are able to <a href=\"http://krasimirtsonev.com/blog/article/Using-Local-Storage-as-a-communication-channel\" target=\"_blank\" rel=\"external\">communicate using localStorage</a> and so it seemed like a good solution to just have one tab claim the role of managing the drive and then when another tab is opened, it would message the first. However, this seemingly easy solution becomes a nightmare when you consider what happens when that tab is closed. The drive that everyone is relying on goes away and all of the other tabs are without a drive so they need to <a href=\"https://martin.kleppmann.com/2016/02/08/how-to-do-distributed-locking.html\" target=\"_blank\" rel=\"external\">flip a coin</a> to decide which tab should become the keeper of the drive, then that tab needs to download the drive before it can service events, all the while any of the buttons which affect the drive (for instance deleting the pad) cannot possibly function. This idea was soon scrapped…</p>\n<h2 id=\"Enter-ServiceWorker\"><a href=\"#Enter-ServiceWorker\" class=\"headerlink\" title=\"Enter ServiceWorker\"></a>Enter ServiceWorker</h2><p>Recently, the HTML5 working group created a new standard called <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/ServiceWorker\" target=\"_blank\" rel=\"external\">ServiceWorker</a> which for someone making a webapp seems like a dream come true. ServiceWorkers:</p>\n<ul>\n<li>Are side-processes which are created one-per-website and live in the background.</li>\n<li>Can intercept HTTP requests from your main javascript (excellent for caching!).</li>\n<li>Is suspended when the last tab is closed, and re-launched when the user returns.</li>\n<li>Are stored in suspended state even when the browser is turned off.</li>\n<li>Supported by <a href=\"https://caniuse.com/#search=serviceworker\" target=\"_blank\" rel=\"external\">every modern browser</a>.</li>\n</ul>\n<p>When the website loads a worker, if the worker is already running it will not load and will instead defer to the existing worker. Communicating between workers and tabs which are on the website is possible via a <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Client/postMessage\" target=\"_blank\" rel=\"external\">postMessage()</a> API and then the ServiceWorker can postMessage() which will reach all tabs that are navigated to the website.</p>\n<p>One limitation of this design is versioning. Because the ServiceWorker would stay alive potentially forever, we needed to identify a way to upgrade it if a new version of CryptPad is released. This is quite important for CryptPad as version mismatches can lead to catastrophic conflicts between different browsers working on the same document.</p>\n<p>Though updating is non-trivial, we were able to solve it by sending version messages between different components of CryptPad and informing them whether they need to update (or even if they can <em>optionally</em> update). Since this seemed like a solvable problem, we tried creating an experimental implementatiton of ServiceWorkers in CryptPad, and then the fun started…</p>\n<h3 id=\"ServiceWorkers-in-Firefox\"><a href=\"#ServiceWorkers-in-Firefox\" class=\"headerlink\" title=\"ServiceWorkers in Firefox\"></a>ServiceWorkers in Firefox</h3><p>Since Firefox 48, Firefox has begun following Chrome’s model and running <a href=\"https://developer.mozilla.org/en-US/Firefox/Multiprocess_Firefox\" target=\"_blank\" rel=\"external\">different processes</a> for rendering the different tabs in the browser. However, this isolation has a side-effect that when you attempt to launch a ServiceWorker, it <a href=\"https://bugzilla.mozilla.org/show_bug.cgi?id=1438945\" target=\"_blank\" rel=\"external\">may launch even though one already exists for the same website</a>, because the other one exists in a different tab which happens to be operating in a different process. However, the postMessage() requests from tabs go out to all of the ServiceWorkers so this bug can be worked around.</p>\n<p>Unfortunately we encountered some more issues with Firefox which we found not worth debugging. Our CryptDrive is a Javascript object which is represented in the encrypted realtime document as JSON and there is an ES6 <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Proxy\" target=\"_blank\" rel=\"external\">Proxy</a> object in order to allow every change to the drive to be propagated to the underlying realtime object. In Firefox the proxy did not work when used in a ServiceWorker and at times our ServiceWorker simply stopped running.</p>\n<h3 id=\"Reporting-bugs-in-browsers\"><a href=\"#Reporting-bugs-in-browsers\" class=\"headerlink\" title=\"Reporting bugs in browsers\"></a>Reporting bugs in browsers</h3><p>One might think these are great opportunities to report issues with Firefox, and when we find an <a href=\"https://bugzilla.mozilla.org/show_bug.cgi?id=1434278\" target=\"_blank\" rel=\"external\">issue which we think will affect lots of people</a> especially if it is a regression, we don’t hesitate to report it, but usually it is not clear how to reproduce the issue, whether there might be some error in our usage of the API which is being smoothed over by Chrome, or whether the component being reported on is a priority, in that case rather rain low quality bug reports down upon the poor browser developers, we spend our limited time trying to make CryptPad better. In the case of ServiceWorker in Firefox, our conclusion is that in effect the technology remains experimental and shouldn’t be relied upon.</p>\n<h2 id=\"SharedWorker-to-the-rescue\"><a href=\"#SharedWorker-to-the-rescue\" class=\"headerlink\" title=\"SharedWorker to the rescue\"></a>SharedWorker to the rescue</h2><p>Fortunately there is another technology called <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/SharedWorker\" target=\"_blank\" rel=\"external\">SharedWorker</a> which is essentially identical to a plain vanilla WebWorker but can communicate with all tabs which are navigated to the site. Unfortunately this technology is only supported in <a href=\"https://caniuse.com/#feat=sharedworkers\" target=\"_blank\" rel=\"external\">Chrome and Firefox</a>, but the support for this technology, we found, really works!</p>\n<p>However, Firefox still has the <a href=\"https://bugzilla.mozilla.org/show_bug.cgi?id=1438945\" target=\"_blank\" rel=\"external\">issue</a> with of multiple SharedWorkers being created for multiple tabs, but since this issue is fixable we were able to go ahead with it anyway. For browsers which have no SharedWorker, they would fallback to plain old WebWorker. Though this seems like it would be a problem, it is in fact quite fine because actions done in the drive by another WebWorker are the same as actions done in the drive by another device, they need to be encrypted and sent to the server in order to persist anyway.</p>\n<h2 id=\"Faster-CryptPad\"><a href=\"#Faster-CryptPad\" class=\"headerlink\" title=\"Faster CryptPad\"></a>Faster CryptPad</h2><p>Coming in the release on Tuesday June 26, 2018, we will have a new SharedWorker based CryptPad instance, that means when you use Chrome or Firefox, the first time you open CryptPad, it will load your drive, but then every tab you open after that will communicate with the SharedWorker managing the drive and therefore pads will load nearly twice as fast.</p>\n","excerpt":"","more":"<p>When CryptPad was first created, the only thing to load was the CryptPad code itself and the pad which you were editing. Recently edited pads were remembered in the browser’s <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Window/localStorage\">localStorage</a> which was not portable between computers but allowed some recent history to be kept.</p>\n<p>However, we wanted to allow people to login and manage their pads on all of their devices so we created the CryptDrive. Anyone who has used CryptPad but never logged in is encouraged to <a href=\"https://cryptpad.fr/register\">register and login</a> (it’s free) and check out their drive. CryptDrive is basically just a realtime pad containing a JSON structure with links to all of your pads as well as their titles and other information. When you update the title of a pad, it changes the pad itself but it also changes your drive so that you can see the title of the pad in your drive. This is of course not perfect because if someone else changes the title of a pad, your drive will not be updated until you look at the pad again, but doing everything with the server completely blind to the content isn’t easy, and this works reasonably well.</p>\n<p>However, CryptDrive causes an additional delay when loading CryptPad because whenever you load a document, you are actually loading two realtime instances. Since the drive is loaded over and over for every pad you view, it was obvious to us that we could make it more efficient using communication inside the browser.</p>\n<h2 id=\"First-idea-Messages-between-tabs\"><a href=\"#First-idea-Messages-between-tabs\" class=\"headerlink\" title=\"First idea: Messages between tabs\"></a>First idea: Messages between tabs</h2><p>Tabs (or windows) in a browser which are on the same website are able to <a href=\"http://krasimirtsonev.com/blog/article/Using-Local-Storage-as-a-communication-channel\">communicate using localStorage</a> and so it seemed like a good solution to just have one tab claim the role of managing the drive and then when another tab is opened, it would message the first. However, this seemingly easy solution becomes a nightmare when you consider what happens when that tab is closed. The drive that everyone is relying on goes away and all of the other tabs are without a drive so they need to <a href=\"https://martin.kleppmann.com/2016/02/08/how-to-do-distributed-locking.html\">flip a coin</a> to decide which tab should become the keeper of the drive, then that tab needs to download the drive before it can service events, all the while any of the buttons which affect the drive (for instance deleting the pad) cannot possibly function. This idea was soon scrapped…</p>\n<h2 id=\"Enter-ServiceWorker\"><a href=\"#Enter-ServiceWorker\" class=\"headerlink\" title=\"Enter ServiceWorker\"></a>Enter ServiceWorker</h2><p>Recently, the HTML5 working group created a new standard called <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/ServiceWorker\">ServiceWorker</a> which for someone making a webapp seems like a dream come true. ServiceWorkers:</p>\n<ul>\n<li>Are side-processes which are created one-per-website and live in the background.</li>\n<li>Can intercept HTTP requests from your main javascript (excellent for caching!).</li>\n<li>Is suspended when the last tab is closed, and re-launched when the user returns.</li>\n<li>Are stored in suspended state even when the browser is turned off.</li>\n<li>Supported by <a href=\"https://caniuse.com/#search=serviceworker\">every modern browser</a>.</li>\n</ul>\n<p>When the website loads a worker, if the worker is already running it will not load and will instead defer to the existing worker. Communicating between workers and tabs which are on the website is possible via a <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Client/postMessage\">postMessage()</a> API and then the ServiceWorker can postMessage() which will reach all tabs that are navigated to the website.</p>\n<p>One limitation of this design is versioning. Because the ServiceWorker would stay alive potentially forever, we needed to identify a way to upgrade it if a new version of CryptPad is released. This is quite important for CryptPad as version mismatches can lead to catastrophic conflicts between different browsers working on the same document.</p>\n<p>Though updating is non-trivial, we were able to solve it by sending version messages between different components of CryptPad and informing them whether they need to update (or even if they can <em>optionally</em> update). Since this seemed like a solvable problem, we tried creating an experimental implementatiton of ServiceWorkers in CryptPad, and then the fun started…</p>\n<h3 id=\"ServiceWorkers-in-Firefox\"><a href=\"#ServiceWorkers-in-Firefox\" class=\"headerlink\" title=\"ServiceWorkers in Firefox\"></a>ServiceWorkers in Firefox</h3><p>Since Firefox 48, Firefox has begun following Chrome’s model and running <a href=\"https://developer.mozilla.org/en-US/Firefox/Multiprocess_Firefox\">different processes</a> for rendering the different tabs in the browser. However, this isolation has a side-effect that when you attempt to launch a ServiceWorker, it <a href=\"https://bugzilla.mozilla.org/show_bug.cgi?id=1438945\">may launch even though one already exists for the same website</a>, because the other one exists in a different tab which happens to be operating in a different process. However, the postMessage() requests from tabs go out to all of the ServiceWorkers so this bug can be worked around.</p>\n<p>Unfortunately we encountered some more issues with Firefox which we found not worth debugging. Our CryptDrive is a Javascript object which is represented in the encrypted realtime document as JSON and there is an ES6 <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Proxy\">Proxy</a> object in order to allow every change to the drive to be propagated to the underlying realtime object. In Firefox the proxy did not work when used in a ServiceWorker and at times our ServiceWorker simply stopped running.</p>\n<h3 id=\"Reporting-bugs-in-browsers\"><a href=\"#Reporting-bugs-in-browsers\" class=\"headerlink\" title=\"Reporting bugs in browsers\"></a>Reporting bugs in browsers</h3><p>One might think these are great opportunities to report issues with Firefox, and when we find an <a href=\"https://bugzilla.mozilla.org/show_bug.cgi?id=1434278\">issue which we think will affect lots of people</a> especially if it is a regression, we don’t hesitate to report it, but usually it is not clear how to reproduce the issue, whether there might be some error in our usage of the API which is being smoothed over by Chrome, or whether the component being reported on is a priority, in that case rather rain low quality bug reports down upon the poor browser developers, we spend our limited time trying to make CryptPad better. In the case of ServiceWorker in Firefox, our conclusion is that in effect the technology remains experimental and shouldn’t be relied upon.</p>\n<h2 id=\"SharedWorker-to-the-rescue\"><a href=\"#SharedWorker-to-the-rescue\" class=\"headerlink\" title=\"SharedWorker to the rescue\"></a>SharedWorker to the rescue</h2><p>Fortunately there is another technology called <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/SharedWorker\">SharedWorker</a> which is essentially identical to a plain vanilla WebWorker but can communicate with all tabs which are navigated to the site. Unfortunately this technology is only supported in <a href=\"https://caniuse.com/#feat=sharedworkers\">Chrome and Firefox</a>, but the support for this technology, we found, really works!</p>\n<p>However, Firefox still has the <a href=\"https://bugzilla.mozilla.org/show_bug.cgi?id=1438945\">issue</a> with of multiple SharedWorkers being created for multiple tabs, but since this issue is fixable we were able to go ahead with it anyway. For browsers which have no SharedWorker, they would fallback to plain old WebWorker. Though this seems like it would be a problem, it is in fact quite fine because actions done in the drive by another WebWorker are the same as actions done in the drive by another device, they need to be encrypted and sent to the server in order to persist anyway.</p>\n<h2 id=\"Faster-CryptPad\"><a href=\"#Faster-CryptPad\" class=\"headerlink\" title=\"Faster CryptPad\"></a>Faster CryptPad</h2><p>Coming in the release on Tuesday June 26, 2018, we will have a new SharedWorker based CryptPad instance, that means when you use Chrome or Firefox, the first time you open CryptPad, it will load your drive, but then every tab you open after that will communicate with the SharedWorker managing the drive and therefore pads will load nearly twice as fast.</p>\n"},{"title":"Funding CryptPad","date":"2017-04-20T10:15:09.000Z","author":"Aaron MacSween","_content":"\nCryptPad started as a novel idea:\n\n> provide a means for people to collaborate on the web, without their data being exposed to the server that connects them\n\nSince its conception as one developer's hobby project, this idea has grown organically into a team of core developers, a community of contributors, and a growing number of people who collaborate with CryptPad every day.\n\n## How we're able to do this work\n\nCryptPad is a part of the OpenPaaS-NG project, which is funded by [BPIFrance](http://www.bpifrance.fr/).\nAs mentioned in [our April 1st post](https://blog.cryptpad.fr/2017/04/01/Exciting-news/), this funding only applies to 50% of our expenses.\nI joked that the other 50% was being covered by our new partners (the _**NSA**_), but in fact, the remainder is still covered entirely by [XWiki SAS](http://xwiki.com).\n\nWe have a fair amount of autonomy when it comes to deciding what features we will develop.\nWith that in mind, however, there are some long term goals that come as a part of OpenPaaS, some that stem from XWiki, and some that come from feedback from our userbase.\n\nWe recognize that however people's goals may differ, ultimately everyone with an interest in the project would like to see it continue to receive attention.\n\nBy operating as part of an established company that has a history of building open source software, we're able to leverage experience and resources that would not be as readily available if we were to attempt to build the same thing in our free time.\nOur ability to solicit research funding means that individuals who wish to see the project prosper are not solely responsible for its livelihood.\n\nSince the [OpenPaaS-NG project](https://open-paas.org/) is only funded until 2019, we've been searching for other means of funding.\nUntil 2019, any additional revenue would serve to ease the load on our employer.\nWe hope that by the time the project finishes, we will have solidified a stream of income which is stable enough to make CryptPad entirely self-sustaining.\n\n## Our new funding strategies\n\nMany of the largest web companies operate by offering free services to anyone who wants to use them.\nThey offset the costs of these services by selling user data to whoever will buy it, or by selling ad space to anyone who wants to sell to their market.\n\nWe've chosen not to pursue either of these options.\nInstead, we want to appeal to those who value the work we're doing, and provide options for supporting it, so that we can continue to improve CryptPad.\nWe're willing to bet on a trend that other privacy-conscious enterprises have demonstrated, that people are _willing to pay not to be a product themselves_.\n\nTo be perfectly clear, we will continue to develop our code in the open.\nAnybody who wants to install CryptPad for themselves will still be able to do so.\nAdditionally, the features CryptPad now offers will continue to be available under the current terms.\nGoing forward, however, we will offer certain additional functionality as premium features.\n\n### Paid hosting\n\n[CryptPad.fr](https://cryptpad.fr) hosts an ever-increasing amount of data.\nSo far, this hasn't been a concern, but as more people take interest in the project this won't be something that we can sustain.\n\nIn many cases, people create a pad as a test of the software, and forget about it once they understand how things work.\nIn other situations, people use CryptPad to collaborate on reports, code, or presentations.\nAt some point, those projects are finished, and those documents are forgotten.\n\nTo address this problem, we've implemented **pinning**, which is a way of telling the server that you want a pad to continue to be available.\nAnonymous pads, that is, _those which aren't pinned by a registered user_, are liable to be removed after 90 days of not having been read or modified.\nWe believe this time is sufficient to distinguish valuable information from that which is safe to remove.\n\n* Pinning will only be available to registered users.\n* Pinning will take effect following our next release, on April 25th, 2017\n* Everything that is in your drive will be automatically pinned.\n  * new files will be pinned once you add them to your drive\n  * removing a file from your drive's trash will unpin it\n* Unpinned files which have not been accessed for at least 90 days will be removed\n  * effective July 24th, 2017 (90 days from April 25th)\n* Registration is free, but we plan to offer users a limited amount of storage space for pinning.\n* For additional storage, you'll have the option of paying a modest fee for an increased quota.\n* We'll have more information about pricing soon.\n\n### Support contracts for private installations\n\nIf you've decided to host CryptPad yourself, we fully understand.\nLike you, we use free software, and know the benefits of taking responsibility for your own infrastructure.\n\nIf you're using CryptPad to host critical information, however, you might consider purchasing a support contract.\nWe're still figuring out the details of our support contracts, however, this approach has proven to be of valuable to XWiki's many customers in the past.\nYou can see an example of XWiki's pricing [here](http://www.xwiki.com/en/products/pricing-onpremise).\n\nIf you plan to use CryptPad for your business, consider that it might be more time and cost effective to have us install and configure everything than to learn to administrate it on your own.\nOtherwise, if you find that you're comfortable setting everything up in a basic configuration, but you'd like help configuring your server to behave in a special way, we'll be there to help.\n\n### Sponsored development of open source features\n\nIf there's a particular feature you'd like to see implemented within CryptPad, we're able to dedicate development time to build it into the software in the best way possible.\n\nSponsored development allows us to build features to suit particular users' needs.\nBy integrating those features into the official, open source version of CryptPad, we ensure that they will be used by as many people as possible.\nThis helps us refine those features to be even more useful for you, and ensures that they will continue to be supported well into the future.\n\n## What's next\n\nSince we announced our [bi-weekly release schedule](https://blog.cryptpad.fr/2017/02/24/Announcing-biweekly-releases/), we've tried to make sure that each release contains an exciting feature.\nThis time around, we've had to set some time aside to implement pinning, as well as code for reporting the size used by any one user's drive.\nWe realize this isn't especially interesting for most of you, but it will be necessary for some more advanced features which we hope to share with you soon.\n\nBy providing a quota system for our registered users, we will be able to offer encrypted file upload capabilities.\nYou'll be able to upload images, and embed them in presentations and pads, a process which has been somewhat difficult so far.\nOur decision to limit users' upload capacity is intended less to make a profit, and more to limit abuse.\n\nWe recognize that disk space is getting cheaper all the time, and that cloud hosting services will be able to offer more competitive pricing.\nOur aim isn't to compete with the giants in the cloud industry, but simply to finance our ongoing research into privacy-friendly collaboration.\nThere is still much to do, but working together, we can accomplish great things.\n\n","source":"_posts/Funding-CryptPad.md","raw":"---\ntitle: Funding CryptPad\ndate: 2017-04-20 12:15:09\nauthor: Aaron MacSween\ntags:\n  - research\n  - financing\n---\n\nCryptPad started as a novel idea:\n\n> provide a means for people to collaborate on the web, without their data being exposed to the server that connects them\n\nSince its conception as one developer's hobby project, this idea has grown organically into a team of core developers, a community of contributors, and a growing number of people who collaborate with CryptPad every day.\n\n## How we're able to do this work\n\nCryptPad is a part of the OpenPaaS-NG project, which is funded by [BPIFrance](http://www.bpifrance.fr/).\nAs mentioned in [our April 1st post](https://blog.cryptpad.fr/2017/04/01/Exciting-news/), this funding only applies to 50% of our expenses.\nI joked that the other 50% was being covered by our new partners (the _**NSA**_), but in fact, the remainder is still covered entirely by [XWiki SAS](http://xwiki.com).\n\nWe have a fair amount of autonomy when it comes to deciding what features we will develop.\nWith that in mind, however, there are some long term goals that come as a part of OpenPaaS, some that stem from XWiki, and some that come from feedback from our userbase.\n\nWe recognize that however people's goals may differ, ultimately everyone with an interest in the project would like to see it continue to receive attention.\n\nBy operating as part of an established company that has a history of building open source software, we're able to leverage experience and resources that would not be as readily available if we were to attempt to build the same thing in our free time.\nOur ability to solicit research funding means that individuals who wish to see the project prosper are not solely responsible for its livelihood.\n\nSince the [OpenPaaS-NG project](https://open-paas.org/) is only funded until 2019, we've been searching for other means of funding.\nUntil 2019, any additional revenue would serve to ease the load on our employer.\nWe hope that by the time the project finishes, we will have solidified a stream of income which is stable enough to make CryptPad entirely self-sustaining.\n\n## Our new funding strategies\n\nMany of the largest web companies operate by offering free services to anyone who wants to use them.\nThey offset the costs of these services by selling user data to whoever will buy it, or by selling ad space to anyone who wants to sell to their market.\n\nWe've chosen not to pursue either of these options.\nInstead, we want to appeal to those who value the work we're doing, and provide options for supporting it, so that we can continue to improve CryptPad.\nWe're willing to bet on a trend that other privacy-conscious enterprises have demonstrated, that people are _willing to pay not to be a product themselves_.\n\nTo be perfectly clear, we will continue to develop our code in the open.\nAnybody who wants to install CryptPad for themselves will still be able to do so.\nAdditionally, the features CryptPad now offers will continue to be available under the current terms.\nGoing forward, however, we will offer certain additional functionality as premium features.\n\n### Paid hosting\n\n[CryptPad.fr](https://cryptpad.fr) hosts an ever-increasing amount of data.\nSo far, this hasn't been a concern, but as more people take interest in the project this won't be something that we can sustain.\n\nIn many cases, people create a pad as a test of the software, and forget about it once they understand how things work.\nIn other situations, people use CryptPad to collaborate on reports, code, or presentations.\nAt some point, those projects are finished, and those documents are forgotten.\n\nTo address this problem, we've implemented **pinning**, which is a way of telling the server that you want a pad to continue to be available.\nAnonymous pads, that is, _those which aren't pinned by a registered user_, are liable to be removed after 90 days of not having been read or modified.\nWe believe this time is sufficient to distinguish valuable information from that which is safe to remove.\n\n* Pinning will only be available to registered users.\n* Pinning will take effect following our next release, on April 25th, 2017\n* Everything that is in your drive will be automatically pinned.\n  * new files will be pinned once you add them to your drive\n  * removing a file from your drive's trash will unpin it\n* Unpinned files which have not been accessed for at least 90 days will be removed\n  * effective July 24th, 2017 (90 days from April 25th)\n* Registration is free, but we plan to offer users a limited amount of storage space for pinning.\n* For additional storage, you'll have the option of paying a modest fee for an increased quota.\n* We'll have more information about pricing soon.\n\n### Support contracts for private installations\n\nIf you've decided to host CryptPad yourself, we fully understand.\nLike you, we use free software, and know the benefits of taking responsibility for your own infrastructure.\n\nIf you're using CryptPad to host critical information, however, you might consider purchasing a support contract.\nWe're still figuring out the details of our support contracts, however, this approach has proven to be of valuable to XWiki's many customers in the past.\nYou can see an example of XWiki's pricing [here](http://www.xwiki.com/en/products/pricing-onpremise).\n\nIf you plan to use CryptPad for your business, consider that it might be more time and cost effective to have us install and configure everything than to learn to administrate it on your own.\nOtherwise, if you find that you're comfortable setting everything up in a basic configuration, but you'd like help configuring your server to behave in a special way, we'll be there to help.\n\n### Sponsored development of open source features\n\nIf there's a particular feature you'd like to see implemented within CryptPad, we're able to dedicate development time to build it into the software in the best way possible.\n\nSponsored development allows us to build features to suit particular users' needs.\nBy integrating those features into the official, open source version of CryptPad, we ensure that they will be used by as many people as possible.\nThis helps us refine those features to be even more useful for you, and ensures that they will continue to be supported well into the future.\n\n## What's next\n\nSince we announced our [bi-weekly release schedule](https://blog.cryptpad.fr/2017/02/24/Announcing-biweekly-releases/), we've tried to make sure that each release contains an exciting feature.\nThis time around, we've had to set some time aside to implement pinning, as well as code for reporting the size used by any one user's drive.\nWe realize this isn't especially interesting for most of you, but it will be necessary for some more advanced features which we hope to share with you soon.\n\nBy providing a quota system for our registered users, we will be able to offer encrypted file upload capabilities.\nYou'll be able to upload images, and embed them in presentations and pads, a process which has been somewhat difficult so far.\nOur decision to limit users' upload capacity is intended less to make a profit, and more to limit abuse.\n\nWe recognize that disk space is getting cheaper all the time, and that cloud hosting services will be able to offer more competitive pricing.\nOur aim isn't to compete with the giants in the cloud industry, but simply to finance our ongoing research into privacy-friendly collaboration.\nThere is still much to do, but working together, we can accomplish great things.\n\n","slug":"Funding-CryptPad","published":1,"updated":"2018-06-15T10:06:34.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjjttvr04000f7ezfwi718rxu","content":"<p>CryptPad started as a novel idea:</p>\n<blockquote>\n<p>provide a means for people to collaborate on the web, without their data being exposed to the server that connects them</p>\n</blockquote>\n<p>Since its conception as one developer’s hobby project, this idea has grown organically into a team of core developers, a community of contributors, and a growing number of people who collaborate with CryptPad every day.</p>\n<h2 id=\"How-we’re-able-to-do-this-work\"><a href=\"#How-we’re-able-to-do-this-work\" class=\"headerlink\" title=\"How we’re able to do this work\"></a>How we’re able to do this work</h2><p>CryptPad is a part of the OpenPaaS-NG project, which is funded by <a href=\"http://www.bpifrance.fr/\" target=\"_blank\" rel=\"external\">BPIFrance</a>.\nAs mentioned in <a href=\"https://blog.cryptpad.fr/2017/04/01/Exciting-news/\">our April 1st post</a>, this funding only applies to 50% of our expenses.\nI joked that the other 50% was being covered by our new partners (the <em><strong>NSA</strong></em>), but in fact, the remainder is still covered entirely by <a href=\"http://xwiki.com\" target=\"_blank\" rel=\"external\">XWiki SAS</a>.</p>\n<p>We have a fair amount of autonomy when it comes to deciding what features we will develop.\nWith that in mind, however, there are some long term goals that come as a part of OpenPaaS, some that stem from XWiki, and some that come from feedback from our userbase.</p>\n<p>We recognize that however people’s goals may differ, ultimately everyone with an interest in the project would like to see it continue to receive attention.</p>\n<p>By operating as part of an established company that has a history of building open source software, we’re able to leverage experience and resources that would not be as readily available if we were to attempt to build the same thing in our free time.\nOur ability to solicit research funding means that individuals who wish to see the project prosper are not solely responsible for its livelihood.</p>\n<p>Since the <a href=\"https://open-paas.org/\" target=\"_blank\" rel=\"external\">OpenPaaS-NG project</a> is only funded until 2019, we’ve been searching for other means of funding.\nUntil 2019, any additional revenue would serve to ease the load on our employer.\nWe hope that by the time the project finishes, we will have solidified a stream of income which is stable enough to make CryptPad entirely self-sustaining.</p>\n<h2 id=\"Our-new-funding-strategies\"><a href=\"#Our-new-funding-strategies\" class=\"headerlink\" title=\"Our new funding strategies\"></a>Our new funding strategies</h2><p>Many of the largest web companies operate by offering free services to anyone who wants to use them.\nThey offset the costs of these services by selling user data to whoever will buy it, or by selling ad space to anyone who wants to sell to their market.</p>\n<p>We’ve chosen not to pursue either of these options.\nInstead, we want to appeal to those who value the work we’re doing, and provide options for supporting it, so that we can continue to improve CryptPad.\nWe’re willing to bet on a trend that other privacy-conscious enterprises have demonstrated, that people are <em>willing to pay not to be a product themselves</em>.</p>\n<p>To be perfectly clear, we will continue to develop our code in the open.\nAnybody who wants to install CryptPad for themselves will still be able to do so.\nAdditionally, the features CryptPad now offers will continue to be available under the current terms.\nGoing forward, however, we will offer certain additional functionality as premium features.</p>\n<h3 id=\"Paid-hosting\"><a href=\"#Paid-hosting\" class=\"headerlink\" title=\"Paid hosting\"></a>Paid hosting</h3><p><a href=\"https://cryptpad.fr\" target=\"_blank\" rel=\"external\">CryptPad.fr</a> hosts an ever-increasing amount of data.\nSo far, this hasn’t been a concern, but as more people take interest in the project this won’t be something that we can sustain.</p>\n<p>In many cases, people create a pad as a test of the software, and forget about it once they understand how things work.\nIn other situations, people use CryptPad to collaborate on reports, code, or presentations.\nAt some point, those projects are finished, and those documents are forgotten.</p>\n<p>To address this problem, we’ve implemented <strong>pinning</strong>, which is a way of telling the server that you want a pad to continue to be available.\nAnonymous pads, that is, <em>those which aren’t pinned by a registered user</em>, are liable to be removed after 90 days of not having been read or modified.\nWe believe this time is sufficient to distinguish valuable information from that which is safe to remove.</p>\n<ul>\n<li>Pinning will only be available to registered users.</li>\n<li>Pinning will take effect following our next release, on April 25th, 2017</li>\n<li>Everything that is in your drive will be automatically pinned.<ul>\n<li>new files will be pinned once you add them to your drive</li>\n<li>removing a file from your drive’s trash will unpin it</li>\n</ul>\n</li>\n<li>Unpinned files which have not been accessed for at least 90 days will be removed<ul>\n<li>effective July 24th, 2017 (90 days from April 25th)</li>\n</ul>\n</li>\n<li>Registration is free, but we plan to offer users a limited amount of storage space for pinning.</li>\n<li>For additional storage, you’ll have the option of paying a modest fee for an increased quota.</li>\n<li>We’ll have more information about pricing soon.</li>\n</ul>\n<h3 id=\"Support-contracts-for-private-installations\"><a href=\"#Support-contracts-for-private-installations\" class=\"headerlink\" title=\"Support contracts for private installations\"></a>Support contracts for private installations</h3><p>If you’ve decided to host CryptPad yourself, we fully understand.\nLike you, we use free software, and know the benefits of taking responsibility for your own infrastructure.</p>\n<p>If you’re using CryptPad to host critical information, however, you might consider purchasing a support contract.\nWe’re still figuring out the details of our support contracts, however, this approach has proven to be of valuable to XWiki’s many customers in the past.\nYou can see an example of XWiki’s pricing <a href=\"http://www.xwiki.com/en/products/pricing-onpremise\" target=\"_blank\" rel=\"external\">here</a>.</p>\n<p>If you plan to use CryptPad for your business, consider that it might be more time and cost effective to have us install and configure everything than to learn to administrate it on your own.\nOtherwise, if you find that you’re comfortable setting everything up in a basic configuration, but you’d like help configuring your server to behave in a special way, we’ll be there to help.</p>\n<h3 id=\"Sponsored-development-of-open-source-features\"><a href=\"#Sponsored-development-of-open-source-features\" class=\"headerlink\" title=\"Sponsored development of open source features\"></a>Sponsored development of open source features</h3><p>If there’s a particular feature you’d like to see implemented within CryptPad, we’re able to dedicate development time to build it into the software in the best way possible.</p>\n<p>Sponsored development allows us to build features to suit particular users’ needs.\nBy integrating those features into the official, open source version of CryptPad, we ensure that they will be used by as many people as possible.\nThis helps us refine those features to be even more useful for you, and ensures that they will continue to be supported well into the future.</p>\n<h2 id=\"What’s-next\"><a href=\"#What’s-next\" class=\"headerlink\" title=\"What’s next\"></a>What’s next</h2><p>Since we announced our <a href=\"https://blog.cryptpad.fr/2017/02/24/Announcing-biweekly-releases/\">bi-weekly release schedule</a>, we’ve tried to make sure that each release contains an exciting feature.\nThis time around, we’ve had to set some time aside to implement pinning, as well as code for reporting the size used by any one user’s drive.\nWe realize this isn’t especially interesting for most of you, but it will be necessary for some more advanced features which we hope to share with you soon.</p>\n<p>By providing a quota system for our registered users, we will be able to offer encrypted file upload capabilities.\nYou’ll be able to upload images, and embed them in presentations and pads, a process which has been somewhat difficult so far.\nOur decision to limit users’ upload capacity is intended less to make a profit, and more to limit abuse.</p>\n<p>We recognize that disk space is getting cheaper all the time, and that cloud hosting services will be able to offer more competitive pricing.\nOur aim isn’t to compete with the giants in the cloud industry, but simply to finance our ongoing research into privacy-friendly collaboration.\nThere is still much to do, but working together, we can accomplish great things.</p>\n","excerpt":"","more":"<p>CryptPad started as a novel idea:</p>\n<blockquote>\n<p>provide a means for people to collaborate on the web, without their data being exposed to the server that connects them</p>\n</blockquote>\n<p>Since its conception as one developer’s hobby project, this idea has grown organically into a team of core developers, a community of contributors, and a growing number of people who collaborate with CryptPad every day.</p>\n<h2 id=\"How-we’re-able-to-do-this-work\"><a href=\"#How-we’re-able-to-do-this-work\" class=\"headerlink\" title=\"How we’re able to do this work\"></a>How we’re able to do this work</h2><p>CryptPad is a part of the OpenPaaS-NG project, which is funded by <a href=\"http://www.bpifrance.fr/\">BPIFrance</a>.\nAs mentioned in <a href=\"https://blog.cryptpad.fr/2017/04/01/Exciting-news/\">our April 1st post</a>, this funding only applies to 50% of our expenses.\nI joked that the other 50% was being covered by our new partners (the <em><strong>NSA</strong></em>), but in fact, the remainder is still covered entirely by <a href=\"http://xwiki.com\">XWiki SAS</a>.</p>\n<p>We have a fair amount of autonomy when it comes to deciding what features we will develop.\nWith that in mind, however, there are some long term goals that come as a part of OpenPaaS, some that stem from XWiki, and some that come from feedback from our userbase.</p>\n<p>We recognize that however people’s goals may differ, ultimately everyone with an interest in the project would like to see it continue to receive attention.</p>\n<p>By operating as part of an established company that has a history of building open source software, we’re able to leverage experience and resources that would not be as readily available if we were to attempt to build the same thing in our free time.\nOur ability to solicit research funding means that individuals who wish to see the project prosper are not solely responsible for its livelihood.</p>\n<p>Since the <a href=\"https://open-paas.org/\">OpenPaaS-NG project</a> is only funded until 2019, we’ve been searching for other means of funding.\nUntil 2019, any additional revenue would serve to ease the load on our employer.\nWe hope that by the time the project finishes, we will have solidified a stream of income which is stable enough to make CryptPad entirely self-sustaining.</p>\n<h2 id=\"Our-new-funding-strategies\"><a href=\"#Our-new-funding-strategies\" class=\"headerlink\" title=\"Our new funding strategies\"></a>Our new funding strategies</h2><p>Many of the largest web companies operate by offering free services to anyone who wants to use them.\nThey offset the costs of these services by selling user data to whoever will buy it, or by selling ad space to anyone who wants to sell to their market.</p>\n<p>We’ve chosen not to pursue either of these options.\nInstead, we want to appeal to those who value the work we’re doing, and provide options for supporting it, so that we can continue to improve CryptPad.\nWe’re willing to bet on a trend that other privacy-conscious enterprises have demonstrated, that people are <em>willing to pay not to be a product themselves</em>.</p>\n<p>To be perfectly clear, we will continue to develop our code in the open.\nAnybody who wants to install CryptPad for themselves will still be able to do so.\nAdditionally, the features CryptPad now offers will continue to be available under the current terms.\nGoing forward, however, we will offer certain additional functionality as premium features.</p>\n<h3 id=\"Paid-hosting\"><a href=\"#Paid-hosting\" class=\"headerlink\" title=\"Paid hosting\"></a>Paid hosting</h3><p><a href=\"https://cryptpad.fr\">CryptPad.fr</a> hosts an ever-increasing amount of data.\nSo far, this hasn’t been a concern, but as more people take interest in the project this won’t be something that we can sustain.</p>\n<p>In many cases, people create a pad as a test of the software, and forget about it once they understand how things work.\nIn other situations, people use CryptPad to collaborate on reports, code, or presentations.\nAt some point, those projects are finished, and those documents are forgotten.</p>\n<p>To address this problem, we’ve implemented <strong>pinning</strong>, which is a way of telling the server that you want a pad to continue to be available.\nAnonymous pads, that is, <em>those which aren’t pinned by a registered user</em>, are liable to be removed after 90 days of not having been read or modified.\nWe believe this time is sufficient to distinguish valuable information from that which is safe to remove.</p>\n<ul>\n<li>Pinning will only be available to registered users.</li>\n<li>Pinning will take effect following our next release, on April 25th, 2017</li>\n<li>Everything that is in your drive will be automatically pinned.<ul>\n<li>new files will be pinned once you add them to your drive</li>\n<li>removing a file from your drive’s trash will unpin it</li>\n</ul>\n</li>\n<li>Unpinned files which have not been accessed for at least 90 days will be removed<ul>\n<li>effective July 24th, 2017 (90 days from April 25th)</li>\n</ul>\n</li>\n<li>Registration is free, but we plan to offer users a limited amount of storage space for pinning.</li>\n<li>For additional storage, you’ll have the option of paying a modest fee for an increased quota.</li>\n<li>We’ll have more information about pricing soon.</li>\n</ul>\n<h3 id=\"Support-contracts-for-private-installations\"><a href=\"#Support-contracts-for-private-installations\" class=\"headerlink\" title=\"Support contracts for private installations\"></a>Support contracts for private installations</h3><p>If you’ve decided to host CryptPad yourself, we fully understand.\nLike you, we use free software, and know the benefits of taking responsibility for your own infrastructure.</p>\n<p>If you’re using CryptPad to host critical information, however, you might consider purchasing a support contract.\nWe’re still figuring out the details of our support contracts, however, this approach has proven to be of valuable to XWiki’s many customers in the past.\nYou can see an example of XWiki’s pricing <a href=\"http://www.xwiki.com/en/products/pricing-onpremise\">here</a>.</p>\n<p>If you plan to use CryptPad for your business, consider that it might be more time and cost effective to have us install and configure everything than to learn to administrate it on your own.\nOtherwise, if you find that you’re comfortable setting everything up in a basic configuration, but you’d like help configuring your server to behave in a special way, we’ll be there to help.</p>\n<h3 id=\"Sponsored-development-of-open-source-features\"><a href=\"#Sponsored-development-of-open-source-features\" class=\"headerlink\" title=\"Sponsored development of open source features\"></a>Sponsored development of open source features</h3><p>If there’s a particular feature you’d like to see implemented within CryptPad, we’re able to dedicate development time to build it into the software in the best way possible.</p>\n<p>Sponsored development allows us to build features to suit particular users’ needs.\nBy integrating those features into the official, open source version of CryptPad, we ensure that they will be used by as many people as possible.\nThis helps us refine those features to be even more useful for you, and ensures that they will continue to be supported well into the future.</p>\n<h2 id=\"What’s-next\"><a href=\"#What’s-next\" class=\"headerlink\" title=\"What’s next\"></a>What’s next</h2><p>Since we announced our <a href=\"https://blog.cryptpad.fr/2017/02/24/Announcing-biweekly-releases/\">bi-weekly release schedule</a>, we’ve tried to make sure that each release contains an exciting feature.\nThis time around, we’ve had to set some time aside to implement pinning, as well as code for reporting the size used by any one user’s drive.\nWe realize this isn’t especially interesting for most of you, but it will be necessary for some more advanced features which we hope to share with you soon.</p>\n<p>By providing a quota system for our registered users, we will be able to offer encrypted file upload capabilities.\nYou’ll be able to upload images, and embed them in presentations and pads, a process which has been somewhat difficult so far.\nOur decision to limit users’ upload capacity is intended less to make a profit, and more to limit abuse.</p>\n<p>We recognize that disk space is getting cheaper all the time, and that cloud hosting services will be able to offer more competitive pricing.\nOur aim isn’t to compete with the giants in the cloud industry, but simply to finance our ongoing research into privacy-friendly collaboration.\nThere is still much to do, but working together, we can accomplish great things.</p>\n"},{"title":"Making CryptPad CSS 3 times faster, by loading it twice","date":"2018-07-20T10:00:59.000Z","author":null,"_content":"\n<script src=\"https://cryptpad.fr/common/media-tag-nacl.min.js\"></script>\n\nIn CryptPad development, we have always tried to push the limits of the technology. As you might know, we don't minify any of our javascript code and we have no build system, yet CryptPad is still faster than many similar projects which do. In recent profiling, we determined that the biggest cause of slow loading was compilng of less stylesheets.\n\nAll of the styles for CryptPad are written in [Less](http://lesscss.org/) CSS templating language and because we don't have a build system, when you load a page on CryptPad, it downloads the less compiler and runs it in your browser. When the less has been compiled the first time, it is cached in the browser's [localStorage](https://developer.mozilla.org/en-US/docs/Web/API/Window/localStorage) so that it doesn't need to be compiled again (until next release). Unfortunately, the way we structured CryptPad Less code led to this taking a long time.\n\nCSS by its nature is very much like object inheritence, a design pattern popular in the 1990s which has [since](https://link.springer.com/chapter/10.1007/1-85233-856-3_23) [been](https://codeburst.io/inheritance-is-evil-stop-using-it-6c4f1caf5117) [discredited](http://neethack.com/2017/04/Why-inheritance-is-bad/). In a bid to keep our styles under control, we decided to make heavy use of Less [mixins](http://lesscss.org/features/#mixins-feature). The idea was that we didn't want our CSS code to \"speak until it was spoken to\".\n\nSomething like the following would be very problematic if it were dumped on the global scope, but it is never output until it is called:\n\n```\n.example_header() {\n    a {\n        color: red;\n    }\n}\n```\n\n\nSo then the code which uses it can invoke it only in the exact place where it ought to be used.\n\n```\n@include \"example.less\";\n.cp-app-pad {\n    .cp-padheader {\n        .cp-padheader-left {\n            .example_header();\n        }\n    }\n}\n```\n\nIf you're a CSS purist, you're probably pulling your hair out now, because *the right way* is to use html classes. The thing is, we do, but because CryptPad is made up of many different pieces of open source software, we cannot control all of the HTML and sometimes things [aren't so simple](https://github.com/xwiki-labs/cryptpad/blob/2.4.0/customize.dist/src/less2/include/ckeditor-fix.less). Using mixins gave us an extra layer of safety and allowed us to write CSS feeling quite confident that it would not end up changing things where it wasn't supposed to.\n\n<img src=\"/images/Strip-CSS-respect-650-finalenglish1.jpg\">\n\n<center data-yeah-i-know-a-center-tag=\"so sue me\">*Cascading works great, until you include one CSS file that was written by this guy.*</center>\n\n## Parameterized mixins\n\nAn excellent feature of Less is parameterized mixins, that is, templates with arguments. One of our biggest templates is called `.toolbar_main()` and this builds the toolbar at the top of CryptPad as well as the user-list on the lefthand side. In order to make the customizable colors with the same HTML structure, we opted to use a parameterized mixin like this:\n\n```\n.toolbar_main (\n    @color: @colortheme_default-color, // Color of the text for the toolbar\n    @bg-color: @colortheme_default-bg, // color of the toolbar background\n    @warn-color: @colortheme_default-warn, // color of the warning text in the toolbar\n    @barWidth: 600px // width of the toolbar\n) {\n/// a lot of code here, using colors based on the parameters,\n/// but lightened or darkened using less functions.\n};\n```\n\nThen each app would call `.toolbar_main()` with its own color parameters, and get a nice toolbar, customized to that app's color theme. Again, this is not the only way to do it, but having the ability to generate CSS with highly specific color rules proved to be extremely useful for overriding leaked styles coming from the software that we integrate.\n\n## State explosion\n\nWhat we didn't think about at that time was the effect that the proliferation of CryptPad Apps would have on the amount of CSS being generated. We started with just a few styles and just a few apps to apply those styles on.\n\n<media-tag src=\"https://files.cryptpad.fr/blob/ba/baf60fc13e35117c60337bbd93ee1dd43ede9280fe5aa583\" data-crypto-key=\"cryptpad:9nEx58X4nrmTYmi5i8K8bb6DvTRemmYubZbU1J1dDa0=\"></media-tag>\n\nBut as we added more and more CryptPad apps, the same CSS was being generated and applied over and over...\n\n<media-tag src=\"https://files.cryptpad.fr/blob/1b/1b5e6189a55efb7ea30ff1cc128597ce76b158fd659d6f45\" data-crypto-key=\"cryptpad:tvxTuU3P5nqqQ75TMRsjehvOjljlkSGzpZTgrfhgGSg=\"></media-tag>\n\nThen as our styles become more complex, the CSS which was being copy/pasted by less compiler became bigger and bigger\n\n<media-tag src=\"https://files.cryptpad.fr/blob/83/8398106a4ee0109630793846cabfdecaa8ee80313cca7e37\" data-crypto-key=\"cryptpad:qy+1nKYU8sQiQR88IgqyxAfspxZiEN8Q3NkBI2qpPOA=\"></media-tag>\n\nThe total of all our less code in the entire project was only 235k, and it was compiling to over **1.3 megabytes of CSS**. We cache the compiled CSS by placing it in [localStorage](https://developer.mozilla.org/en/docs/Web/API/Window/localStorage), but still, every time a new version of CryptPad was released, the CSS needed to be recompiled and this was dominating the loading time.\n\n## Building a Linker for CSS\n\nIf you have experience with C/C++, you might recognize this problem. It is as if there was no linker and the only way to reuse code was to use preprocessor `#include` over and over again.\n\nSince by this point, we had a significant amount of Less which was designed this way, rewriting it was not an option, so we started looking for ways to *link* it rather than copy/pasting it over and over again. Fortunately most of the bigger mixins only applied rules to specific classes, so moving them up to the root level would not cause trouble, though to be safe, we wanted to only load the styles that were necessary.\n\nIf we would indicate to the javascript code which loaded the Less that a particular Less file was needed, it could be compiled, cached and included *separately*, and thus it could be reused across apps. In order to keep the Less API as close to the same as possible, we decided to put that indication inside of the `.<filename>_main()` mixin.\n\nSo `.dropdown_main()` went from this:\n\n```\n.dropdown_main () {\n    // all the code here\n}\n```\n\nTo this:\n\n```\n.dropdown_main () {\n    --LessLoader_require: LessLoader_currentFile();\n};\n& {\n    // all the code here\n}\n```\n\nTwo important things to note: firstly `LessLoader_currentFile()` is a function which we created (as the name implies, it's defined in `LessLoader.js`), it simply expands to the current function name. Secondly, when a less file is included with the `reference` flag (e.g. `@include (reference) \"./dropdown.less\";`) the content is not output but the mixins are made available, so moving the code down to the bottom of `dropdown.less` would cause it not to end up in the compilation of `app-pad.less`.\n\nThe resulting CSS from this contains something like this:\n\n```\n--LessLoader_require: \"/customize/src/less/include/dropdown.less\";\n```\n\nLessLoader would then simply scan for `--LessLoader_require:` and trigger loading of those files, which are still parsed by Less, but are the same for every CryptPad app.\n\n### Parameters with CSS variables\n\nIn this example, I intentionally left out the parameterized mixins. Solving this was slightly more complicated and in order to do it, we made use of a reasonably new feature in web browsers: [CSS variables](https://developer.mozilla.org/en-US/docs/Web/CSS/Using_CSS_variables). \n\nToday, one can write in CSS the following:\n\n```\n:root {\n    --color-should-be: brown;\n}\n\n// potentially much later...\n.element {\n    color: var(--color-should-be);\n}\n```\n\nand the element text will be brown. Discovering this was a breakthrough because it meant that the arguments could be turned into variables in `app-pad.less` and then made use of in `toolbar.less`. However, there are limitations to what you can do with CSS variables. For example, this doesn't work:\n\n```\n:root {\n    --hack-boolean: 1;\n}\n\n// later on...\n\n@media screen and (max-width: calc(var(--hack-boolean) * 100000000)) {\n    // HAHAHA I MADE AN IF STATEMENT\n    :root { --lets-define-another-variable: \"lol\"; }\n}\n```\n<center>*If this worked, I'd probably be using it*</center>\n\n<br>\n\n#### Scoped CSS variables\n\nWhat does work, however, is specifying different values of the same variable at different scopes, so this does work:\n\n```\n.my-button { --button-color: red; }\n.my-popup-window .my-button { --button-color: blue; }\n\n// later on...\n\n.my-button {\n    background-color: var(--button-color);\n}\n```\n\nBut possible uses/abuses of this feature were not investigated.\n\n#### Making it work\n\nFollowing the general principle of [keeping the variable definition close to the usage](https://www.joelonsoftware.com/2005/05/11/making-wrong-code-look-wrong/), we put the variable definitions inside of the `.<filename>_main()` mixin and the usages below in the same file. In order to avoid namespace collisons, we prefixed all variables with the name of the file. A simplified version of avatar.less looks like this:\n\n```\n.avatar_main(@width) {\n    --LessLoader_require: LessLoader_currentFile();\n    --avatar-width: @width;\n}\n& {\n    &.cp-avatar {\n        ...\n        .cp-avatar-default, media-tag {\n            width: var(--avatar-width);\n```\n\nIn some cases, we needed to introduce additional variables because of the use of Less functions such as [lighten() and darken()](http://lesscss.org/functions/#color-operations), which obviously cannot work on CSS variables. So we used the following pattern in many places:\n\n```\n.help_main (@color, @bg-color) {\n    --LessLoader_require: LessLoader_currentFile();\n    @help-bg-color-l15: lighten(@bg-color, 15%);\n    @help-text-color: contrast(@help-bg-color-l15, #fff, #000); //@color;\n    @help-link-color: contrast(@help-bg-color-l15, lighten(spin(@bg-color, 180), 10%), darken(spin(@bg-color, 180), 10%));\n\n    --help-bg-color-l15: @help-bg-color-l15;\n    --help-text-color: @help-text-color;\n    --help-link-color: @help-link-color;\n};\n```\n\n### Results\n\nAfter carefully planning and studying solutions, we managed a fairly non-invasive refactoring of the styles which took Less compile time down from almost 3 seconds to around 900ms. For simplistic pages like the front page, the number dropped to around 200ms.\n\nThe key result is that a person who has never seen CryptPad before will see the main page right away instead of waiting 3 or more seconds to compile all the less for the entire project.\n\n## But wait, what about Internet Explorer ?\n\nThis question is the bane of many web developers' existance. In this case, the problem is that [Internet Explorer has no CSS variables](https://developer.microsoft.com/en-us/microsoft-edge/platform/status/csscustompropertiesakacssvariables/). Last week we changed CryptPad so that when you use it, your browser will let us know if it doesn't support CSS variables. This is done using the [feedback mechanism](https://blog.cryptpad.fr/2017/07/07/cryptpad-analytics-what-we-cant-know-what-we-must-know-what-we-want-to-know/#What-we-collect-because-we-want-to-know) which is an opt-out collection of information such as how often particular features are used and whether certain things are supported by the browsers of people using CryptPad.\n\nWhat we found is that in the past week, we saw about 50 unique users who are running browsers which don't support CSS variables. With our approximately 4500 unique users per week, this is a little over 1%.\n\n### Making an acceptable fallback\n\nThe One Percent jokes asside, it's hard to justify making CryptPad 300% slower for everyone who tries it for the first time, just to satisfy about 1% of the userbase. But at the same time, it's sad to drop support for a browser which at the current moment does work with CryptPad.\n\nThe solution we devised was to specify default values and then override them.\n\nFor example:\n\n```\n    .cp-markdown-toolbar {\n        ...\n        button {\n            // IE sees this (variable compiled by less)\n            color: @toolbar-color;\n            \n            // everyone else sees this\n            color: var(--toolbar-color);\n```\n\nThe only question remaining was how to specify the defaults in a way that was simple for us when we worked on the less files. Most of our `.<filemane>_main()` parameterized mixins already had default values in case they were called without parameters, so we already knew what sane defaults would be. What we decided to do was create a new mixin called `.<filename>_vars()`, which would assign a set of Less variables based on the arguments.\n\nThe final result looked like this:\n\n```\n.help_vars (\n    @color: @colortheme_default-color,\n    @bg-color: @colortheme_default-bg\n) {\n    @help-bg-color-l15: lighten(@bg-color, 15%);\n    @help-text-color: contrast(@help-bg-color-l15, #fff, #000); //@color;\n    @help-link-color: contrast(@help-bg-color-l15, lighten(spin(@bg-color, 180), 10%), darken(spin(@bg-color, 180), 10%));\n}\n.help_main (@color, @bg-color) {\n    --LessLoader_require: LessLoader_currentFile();\n    .help_vars(@color, @bg-color);\n    --help-bg-color-l15: @help-bg-color-l15;\n    --help-text-color: @help-text-color;\n    --help-link-color: @help-link-color;\n};\n& {\n    .help_vars();\n    .cp-help-container {\n\n        position: relative;\n        background-color: @help-bg-color-l15;\n        background-color: var(--help-bg-color-l15);\n```\n\nGoing through it step-by-step, the `.help_vars()` mixin takes parameters but it defines default values, then it creates some Less variables which are accessed after it is used. `.help_main()` calls `.help_vars()` and passes it arguments, then takes it's results and assigns them to CSS variables. Then the main block of the Less file also calls `.help_vars()` but without any arguments, so the defaults are used. Then in the main block, each usage of a CSS variable also has the usage of the less variable. The less variable provides the default value, the one which IE will see, and then the CSS variable provides the specified value, the one which will be different per CryptPad application.\n\n## There you have it\n\nEvery Less file now gets loaded twice, first it is loaded by the `@include (reference)` call, where it is parsed in order to expose the `.<filename>_main()` mixin, then it is loaded a second time as an independent file. Importantly, however, once it is compiled it is stored into localStorage and the toolbar CSS which is compiled when you go to the Rich Text app is the exact same CSS which will be used when you go to the Code/Markdown app. This feature is available in the `staging` branch of the CryptPad project and will be on CryptPad.fr in the next release.\n\nWe could make it even faster, by separating the main content of the Less files from the `.<filename>_vars()` and `.<filename>_main()` mixins, essentially making header files, in C/C++ parlance. And if we find in future profiling that less compiling remains a signficant performance penalty, there's a good chance that we will.","source":"_posts/Making-CryptPad-CSS-3-times-faster-by-loading-it-twice.md","raw":"---\ntitle: 'Making CryptPad CSS 3 times faster, by loading it twice'\ndate: 2018-07-20 12:00:59\nauthor:\ntags:\n---\n\n<script src=\"https://cryptpad.fr/common/media-tag-nacl.min.js\"></script>\n\nIn CryptPad development, we have always tried to push the limits of the technology. As you might know, we don't minify any of our javascript code and we have no build system, yet CryptPad is still faster than many similar projects which do. In recent profiling, we determined that the biggest cause of slow loading was compilng of less stylesheets.\n\nAll of the styles for CryptPad are written in [Less](http://lesscss.org/) CSS templating language and because we don't have a build system, when you load a page on CryptPad, it downloads the less compiler and runs it in your browser. When the less has been compiled the first time, it is cached in the browser's [localStorage](https://developer.mozilla.org/en-US/docs/Web/API/Window/localStorage) so that it doesn't need to be compiled again (until next release). Unfortunately, the way we structured CryptPad Less code led to this taking a long time.\n\nCSS by its nature is very much like object inheritence, a design pattern popular in the 1990s which has [since](https://link.springer.com/chapter/10.1007/1-85233-856-3_23) [been](https://codeburst.io/inheritance-is-evil-stop-using-it-6c4f1caf5117) [discredited](http://neethack.com/2017/04/Why-inheritance-is-bad/). In a bid to keep our styles under control, we decided to make heavy use of Less [mixins](http://lesscss.org/features/#mixins-feature). The idea was that we didn't want our CSS code to \"speak until it was spoken to\".\n\nSomething like the following would be very problematic if it were dumped on the global scope, but it is never output until it is called:\n\n```\n.example_header() {\n    a {\n        color: red;\n    }\n}\n```\n\n\nSo then the code which uses it can invoke it only in the exact place where it ought to be used.\n\n```\n@include \"example.less\";\n.cp-app-pad {\n    .cp-padheader {\n        .cp-padheader-left {\n            .example_header();\n        }\n    }\n}\n```\n\nIf you're a CSS purist, you're probably pulling your hair out now, because *the right way* is to use html classes. The thing is, we do, but because CryptPad is made up of many different pieces of open source software, we cannot control all of the HTML and sometimes things [aren't so simple](https://github.com/xwiki-labs/cryptpad/blob/2.4.0/customize.dist/src/less2/include/ckeditor-fix.less). Using mixins gave us an extra layer of safety and allowed us to write CSS feeling quite confident that it would not end up changing things where it wasn't supposed to.\n\n<img src=\"/images/Strip-CSS-respect-650-finalenglish1.jpg\">\n\n<center data-yeah-i-know-a-center-tag=\"so sue me\">*Cascading works great, until you include one CSS file that was written by this guy.*</center>\n\n## Parameterized mixins\n\nAn excellent feature of Less is parameterized mixins, that is, templates with arguments. One of our biggest templates is called `.toolbar_main()` and this builds the toolbar at the top of CryptPad as well as the user-list on the lefthand side. In order to make the customizable colors with the same HTML structure, we opted to use a parameterized mixin like this:\n\n```\n.toolbar_main (\n    @color: @colortheme_default-color, // Color of the text for the toolbar\n    @bg-color: @colortheme_default-bg, // color of the toolbar background\n    @warn-color: @colortheme_default-warn, // color of the warning text in the toolbar\n    @barWidth: 600px // width of the toolbar\n) {\n/// a lot of code here, using colors based on the parameters,\n/// but lightened or darkened using less functions.\n};\n```\n\nThen each app would call `.toolbar_main()` with its own color parameters, and get a nice toolbar, customized to that app's color theme. Again, this is not the only way to do it, but having the ability to generate CSS with highly specific color rules proved to be extremely useful for overriding leaked styles coming from the software that we integrate.\n\n## State explosion\n\nWhat we didn't think about at that time was the effect that the proliferation of CryptPad Apps would have on the amount of CSS being generated. We started with just a few styles and just a few apps to apply those styles on.\n\n<media-tag src=\"https://files.cryptpad.fr/blob/ba/baf60fc13e35117c60337bbd93ee1dd43ede9280fe5aa583\" data-crypto-key=\"cryptpad:9nEx58X4nrmTYmi5i8K8bb6DvTRemmYubZbU1J1dDa0=\"></media-tag>\n\nBut as we added more and more CryptPad apps, the same CSS was being generated and applied over and over...\n\n<media-tag src=\"https://files.cryptpad.fr/blob/1b/1b5e6189a55efb7ea30ff1cc128597ce76b158fd659d6f45\" data-crypto-key=\"cryptpad:tvxTuU3P5nqqQ75TMRsjehvOjljlkSGzpZTgrfhgGSg=\"></media-tag>\n\nThen as our styles become more complex, the CSS which was being copy/pasted by less compiler became bigger and bigger\n\n<media-tag src=\"https://files.cryptpad.fr/blob/83/8398106a4ee0109630793846cabfdecaa8ee80313cca7e37\" data-crypto-key=\"cryptpad:qy+1nKYU8sQiQR88IgqyxAfspxZiEN8Q3NkBI2qpPOA=\"></media-tag>\n\nThe total of all our less code in the entire project was only 235k, and it was compiling to over **1.3 megabytes of CSS**. We cache the compiled CSS by placing it in [localStorage](https://developer.mozilla.org/en/docs/Web/API/Window/localStorage), but still, every time a new version of CryptPad was released, the CSS needed to be recompiled and this was dominating the loading time.\n\n## Building a Linker for CSS\n\nIf you have experience with C/C++, you might recognize this problem. It is as if there was no linker and the only way to reuse code was to use preprocessor `#include` over and over again.\n\nSince by this point, we had a significant amount of Less which was designed this way, rewriting it was not an option, so we started looking for ways to *link* it rather than copy/pasting it over and over again. Fortunately most of the bigger mixins only applied rules to specific classes, so moving them up to the root level would not cause trouble, though to be safe, we wanted to only load the styles that were necessary.\n\nIf we would indicate to the javascript code which loaded the Less that a particular Less file was needed, it could be compiled, cached and included *separately*, and thus it could be reused across apps. In order to keep the Less API as close to the same as possible, we decided to put that indication inside of the `.<filename>_main()` mixin.\n\nSo `.dropdown_main()` went from this:\n\n```\n.dropdown_main () {\n    // all the code here\n}\n```\n\nTo this:\n\n```\n.dropdown_main () {\n    --LessLoader_require: LessLoader_currentFile();\n};\n& {\n    // all the code here\n}\n```\n\nTwo important things to note: firstly `LessLoader_currentFile()` is a function which we created (as the name implies, it's defined in `LessLoader.js`), it simply expands to the current function name. Secondly, when a less file is included with the `reference` flag (e.g. `@include (reference) \"./dropdown.less\";`) the content is not output but the mixins are made available, so moving the code down to the bottom of `dropdown.less` would cause it not to end up in the compilation of `app-pad.less`.\n\nThe resulting CSS from this contains something like this:\n\n```\n--LessLoader_require: \"/customize/src/less/include/dropdown.less\";\n```\n\nLessLoader would then simply scan for `--LessLoader_require:` and trigger loading of those files, which are still parsed by Less, but are the same for every CryptPad app.\n\n### Parameters with CSS variables\n\nIn this example, I intentionally left out the parameterized mixins. Solving this was slightly more complicated and in order to do it, we made use of a reasonably new feature in web browsers: [CSS variables](https://developer.mozilla.org/en-US/docs/Web/CSS/Using_CSS_variables). \n\nToday, one can write in CSS the following:\n\n```\n:root {\n    --color-should-be: brown;\n}\n\n// potentially much later...\n.element {\n    color: var(--color-should-be);\n}\n```\n\nand the element text will be brown. Discovering this was a breakthrough because it meant that the arguments could be turned into variables in `app-pad.less` and then made use of in `toolbar.less`. However, there are limitations to what you can do with CSS variables. For example, this doesn't work:\n\n```\n:root {\n    --hack-boolean: 1;\n}\n\n// later on...\n\n@media screen and (max-width: calc(var(--hack-boolean) * 100000000)) {\n    // HAHAHA I MADE AN IF STATEMENT\n    :root { --lets-define-another-variable: \"lol\"; }\n}\n```\n<center>*If this worked, I'd probably be using it*</center>\n\n<br>\n\n#### Scoped CSS variables\n\nWhat does work, however, is specifying different values of the same variable at different scopes, so this does work:\n\n```\n.my-button { --button-color: red; }\n.my-popup-window .my-button { --button-color: blue; }\n\n// later on...\n\n.my-button {\n    background-color: var(--button-color);\n}\n```\n\nBut possible uses/abuses of this feature were not investigated.\n\n#### Making it work\n\nFollowing the general principle of [keeping the variable definition close to the usage](https://www.joelonsoftware.com/2005/05/11/making-wrong-code-look-wrong/), we put the variable definitions inside of the `.<filename>_main()` mixin and the usages below in the same file. In order to avoid namespace collisons, we prefixed all variables with the name of the file. A simplified version of avatar.less looks like this:\n\n```\n.avatar_main(@width) {\n    --LessLoader_require: LessLoader_currentFile();\n    --avatar-width: @width;\n}\n& {\n    &.cp-avatar {\n        ...\n        .cp-avatar-default, media-tag {\n            width: var(--avatar-width);\n```\n\nIn some cases, we needed to introduce additional variables because of the use of Less functions such as [lighten() and darken()](http://lesscss.org/functions/#color-operations), which obviously cannot work on CSS variables. So we used the following pattern in many places:\n\n```\n.help_main (@color, @bg-color) {\n    --LessLoader_require: LessLoader_currentFile();\n    @help-bg-color-l15: lighten(@bg-color, 15%);\n    @help-text-color: contrast(@help-bg-color-l15, #fff, #000); //@color;\n    @help-link-color: contrast(@help-bg-color-l15, lighten(spin(@bg-color, 180), 10%), darken(spin(@bg-color, 180), 10%));\n\n    --help-bg-color-l15: @help-bg-color-l15;\n    --help-text-color: @help-text-color;\n    --help-link-color: @help-link-color;\n};\n```\n\n### Results\n\nAfter carefully planning and studying solutions, we managed a fairly non-invasive refactoring of the styles which took Less compile time down from almost 3 seconds to around 900ms. For simplistic pages like the front page, the number dropped to around 200ms.\n\nThe key result is that a person who has never seen CryptPad before will see the main page right away instead of waiting 3 or more seconds to compile all the less for the entire project.\n\n## But wait, what about Internet Explorer ?\n\nThis question is the bane of many web developers' existance. In this case, the problem is that [Internet Explorer has no CSS variables](https://developer.microsoft.com/en-us/microsoft-edge/platform/status/csscustompropertiesakacssvariables/). Last week we changed CryptPad so that when you use it, your browser will let us know if it doesn't support CSS variables. This is done using the [feedback mechanism](https://blog.cryptpad.fr/2017/07/07/cryptpad-analytics-what-we-cant-know-what-we-must-know-what-we-want-to-know/#What-we-collect-because-we-want-to-know) which is an opt-out collection of information such as how often particular features are used and whether certain things are supported by the browsers of people using CryptPad.\n\nWhat we found is that in the past week, we saw about 50 unique users who are running browsers which don't support CSS variables. With our approximately 4500 unique users per week, this is a little over 1%.\n\n### Making an acceptable fallback\n\nThe One Percent jokes asside, it's hard to justify making CryptPad 300% slower for everyone who tries it for the first time, just to satisfy about 1% of the userbase. But at the same time, it's sad to drop support for a browser which at the current moment does work with CryptPad.\n\nThe solution we devised was to specify default values and then override them.\n\nFor example:\n\n```\n    .cp-markdown-toolbar {\n        ...\n        button {\n            // IE sees this (variable compiled by less)\n            color: @toolbar-color;\n            \n            // everyone else sees this\n            color: var(--toolbar-color);\n```\n\nThe only question remaining was how to specify the defaults in a way that was simple for us when we worked on the less files. Most of our `.<filemane>_main()` parameterized mixins already had default values in case they were called without parameters, so we already knew what sane defaults would be. What we decided to do was create a new mixin called `.<filename>_vars()`, which would assign a set of Less variables based on the arguments.\n\nThe final result looked like this:\n\n```\n.help_vars (\n    @color: @colortheme_default-color,\n    @bg-color: @colortheme_default-bg\n) {\n    @help-bg-color-l15: lighten(@bg-color, 15%);\n    @help-text-color: contrast(@help-bg-color-l15, #fff, #000); //@color;\n    @help-link-color: contrast(@help-bg-color-l15, lighten(spin(@bg-color, 180), 10%), darken(spin(@bg-color, 180), 10%));\n}\n.help_main (@color, @bg-color) {\n    --LessLoader_require: LessLoader_currentFile();\n    .help_vars(@color, @bg-color);\n    --help-bg-color-l15: @help-bg-color-l15;\n    --help-text-color: @help-text-color;\n    --help-link-color: @help-link-color;\n};\n& {\n    .help_vars();\n    .cp-help-container {\n\n        position: relative;\n        background-color: @help-bg-color-l15;\n        background-color: var(--help-bg-color-l15);\n```\n\nGoing through it step-by-step, the `.help_vars()` mixin takes parameters but it defines default values, then it creates some Less variables which are accessed after it is used. `.help_main()` calls `.help_vars()` and passes it arguments, then takes it's results and assigns them to CSS variables. Then the main block of the Less file also calls `.help_vars()` but without any arguments, so the defaults are used. Then in the main block, each usage of a CSS variable also has the usage of the less variable. The less variable provides the default value, the one which IE will see, and then the CSS variable provides the specified value, the one which will be different per CryptPad application.\n\n## There you have it\n\nEvery Less file now gets loaded twice, first it is loaded by the `@include (reference)` call, where it is parsed in order to expose the `.<filename>_main()` mixin, then it is loaded a second time as an independent file. Importantly, however, once it is compiled it is stored into localStorage and the toolbar CSS which is compiled when you go to the Rich Text app is the exact same CSS which will be used when you go to the Code/Markdown app. This feature is available in the `staging` branch of the CryptPad project and will be on CryptPad.fr in the next release.\n\nWe could make it even faster, by separating the main content of the Less files from the `.<filename>_vars()` and `.<filename>_main()` mixins, essentially making header files, in C/C++ parlance. And if we find in future profiling that less compiling remains a signficant performance penalty, there's a good chance that we will.","slug":"Making-CryptPad-CSS-3-times-faster-by-loading-it-twice","published":1,"updated":"2018-07-20T10:27:12.000Z","_id":"cjjttvr07000h7ezfo6pjpsk7","comments":1,"layout":"post","photos":[],"link":"","content":"<script src=\"https://cryptpad.fr/common/media-tag-nacl.min.js\"></script>\n\n<p>In CryptPad development, we have always tried to push the limits of the technology. As you might know, we don’t minify any of our javascript code and we have no build system, yet CryptPad is still faster than many similar projects which do. In recent profiling, we determined that the biggest cause of slow loading was compilng of less stylesheets.</p>\n<p>All of the styles for CryptPad are written in <a href=\"http://lesscss.org/\" target=\"_blank\" rel=\"external\">Less</a> CSS templating language and because we don’t have a build system, when you load a page on CryptPad, it downloads the less compiler and runs it in your browser. When the less has been compiled the first time, it is cached in the browser’s <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Window/localStorage\" target=\"_blank\" rel=\"external\">localStorage</a> so that it doesn’t need to be compiled again (until next release). Unfortunately, the way we structured CryptPad Less code led to this taking a long time.</p>\n<p>CSS by its nature is very much like object inheritence, a design pattern popular in the 1990s which has <a href=\"https://link.springer.com/chapter/10.1007/1-85233-856-3_23\" target=\"_blank\" rel=\"external\">since</a> <a href=\"https://codeburst.io/inheritance-is-evil-stop-using-it-6c4f1caf5117\" target=\"_blank\" rel=\"external\">been</a> <a href=\"http://neethack.com/2017/04/Why-inheritance-is-bad/\" target=\"_blank\" rel=\"external\">discredited</a>. In a bid to keep our styles under control, we decided to make heavy use of Less <a href=\"http://lesscss.org/features/#mixins-feature\" target=\"_blank\" rel=\"external\">mixins</a>. The idea was that we didn’t want our CSS code to “speak until it was spoken to”.</p>\n<p>Something like the following would be very problematic if it were dumped on the global scope, but it is never output until it is called:</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\">.example_header() &#123;</div><div class=\"line\">    a &#123;</div><div class=\"line\">        color: red;</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<p>So then the code which uses it can invoke it only in the exact place where it ought to be used.</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div></pre></td><td class=\"code\"><pre><div class=\"line\">@include &quot;example.less&quot;;</div><div class=\"line\">.cp-app-pad &#123;</div><div class=\"line\">    .cp-padheader &#123;</div><div class=\"line\">        .cp-padheader-left &#123;</div><div class=\"line\">            .example_header();</div><div class=\"line\">        &#125;</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<p>If you’re a CSS purist, you’re probably pulling your hair out now, because <em>the right way</em> is to use html classes. The thing is, we do, but because CryptPad is made up of many different pieces of open source software, we cannot control all of the HTML and sometimes things <a href=\"https://github.com/xwiki-labs/cryptpad/blob/2.4.0/customize.dist/src/less2/include/ckeditor-fix.less\" target=\"_blank\" rel=\"external\">aren’t so simple</a>. Using mixins gave us an extra layer of safety and allowed us to write CSS feeling quite confident that it would not end up changing things where it wasn’t supposed to.</p>\n<p><img src=\"/images/Strip-CSS-respect-650-finalenglish1.jpg\"></p>\n<center data-yeah-i-know-a-center-tag=\"so sue me\"><em>Cascading works great, until you include one CSS file that was written by this guy.</em></center>\n\n<h2 id=\"Parameterized-mixins\"><a href=\"#Parameterized-mixins\" class=\"headerlink\" title=\"Parameterized mixins\"></a>Parameterized mixins</h2><p>An excellent feature of Less is parameterized mixins, that is, templates with arguments. One of our biggest templates is called <code>.toolbar_main()</code> and this builds the toolbar at the top of CryptPad as well as the user-list on the lefthand side. In order to make the customizable colors with the same HTML structure, we opted to use a parameterized mixin like this:</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div></pre></td><td class=\"code\"><pre><div class=\"line\">.toolbar_main (</div><div class=\"line\">    @color: @colortheme_default-color, // Color of the text for the toolbar</div><div class=\"line\">    @bg-color: @colortheme_default-bg, // color of the toolbar background</div><div class=\"line\">    @warn-color: @colortheme_default-warn, // color of the warning text in the toolbar</div><div class=\"line\">    @barWidth: 600px // width of the toolbar</div><div class=\"line\">) &#123;</div><div class=\"line\">/// a lot of code here, using colors based on the parameters,</div><div class=\"line\">/// but lightened or darkened using less functions.</div><div class=\"line\">&#125;;</div></pre></td></tr></table></figure>\n<p>Then each app would call <code>.toolbar_main()</code> with its own color parameters, and get a nice toolbar, customized to that app’s color theme. Again, this is not the only way to do it, but having the ability to generate CSS with highly specific color rules proved to be extremely useful for overriding leaked styles coming from the software that we integrate.</p>\n<h2 id=\"State-explosion\"><a href=\"#State-explosion\" class=\"headerlink\" title=\"State explosion\"></a>State explosion</h2><p>What we didn’t think about at that time was the effect that the proliferation of CryptPad Apps would have on the amount of CSS being generated. We started with just a few styles and just a few apps to apply those styles on.</p>\n<p><media-tag src=\"https://files.cryptpad.fr/blob/ba/baf60fc13e35117c60337bbd93ee1dd43ede9280fe5aa583\" data-crypto-key=\"cryptpad:9nEx58X4nrmTYmi5i8K8bb6DvTRemmYubZbU1J1dDa0=\"></media-tag></p>\n<p>But as we added more and more CryptPad apps, the same CSS was being generated and applied over and over…</p>\n<p><media-tag src=\"https://files.cryptpad.fr/blob/1b/1b5e6189a55efb7ea30ff1cc128597ce76b158fd659d6f45\" data-crypto-key=\"cryptpad:tvxTuU3P5nqqQ75TMRsjehvOjljlkSGzpZTgrfhgGSg=\"></media-tag></p>\n<p>Then as our styles become more complex, the CSS which was being copy/pasted by less compiler became bigger and bigger</p>\n<p><media-tag src=\"https://files.cryptpad.fr/blob/83/8398106a4ee0109630793846cabfdecaa8ee80313cca7e37\" data-crypto-key=\"cryptpad:qy+1nKYU8sQiQR88IgqyxAfspxZiEN8Q3NkBI2qpPOA=\"></media-tag></p>\n<p>The total of all our less code in the entire project was only 235k, and it was compiling to over <strong>1.3 megabytes of CSS</strong>. We cache the compiled CSS by placing it in <a href=\"https://developer.mozilla.org/en/docs/Web/API/Window/localStorage\" target=\"_blank\" rel=\"external\">localStorage</a>, but still, every time a new version of CryptPad was released, the CSS needed to be recompiled and this was dominating the loading time.</p>\n<h2 id=\"Building-a-Linker-for-CSS\"><a href=\"#Building-a-Linker-for-CSS\" class=\"headerlink\" title=\"Building a Linker for CSS\"></a>Building a Linker for CSS</h2><p>If you have experience with C/C++, you might recognize this problem. It is as if there was no linker and the only way to reuse code was to use preprocessor <code>#include</code> over and over again.</p>\n<p>Since by this point, we had a significant amount of Less which was designed this way, rewriting it was not an option, so we started looking for ways to <em>link</em> it rather than copy/pasting it over and over again. Fortunately most of the bigger mixins only applied rules to specific classes, so moving them up to the root level would not cause trouble, though to be safe, we wanted to only load the styles that were necessary.</p>\n<p>If we would indicate to the javascript code which loaded the Less that a particular Less file was needed, it could be compiled, cached and included <em>separately</em>, and thus it could be reused across apps. In order to keep the Less API as close to the same as possible, we decided to put that indication inside of the <code>.&lt;filename&gt;_main()</code> mixin.</p>\n<p>So <code>.dropdown_main()</code> went from this:</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\">.dropdown_main () &#123;</div><div class=\"line\">    // all the code here</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<p>To this:</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div></pre></td><td class=\"code\"><pre><div class=\"line\">.dropdown_main () &#123;</div><div class=\"line\">    --LessLoader_require: LessLoader_currentFile();</div><div class=\"line\">&#125;;</div><div class=\"line\">&amp; &#123;</div><div class=\"line\">    // all the code here</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<p>Two important things to note: firstly <code>LessLoader_currentFile()</code> is a function which we created (as the name implies, it’s defined in <code>LessLoader.js</code>), it simply expands to the current function name. Secondly, when a less file is included with the <code>reference</code> flag (e.g. <code>@include (reference) &quot;./dropdown.less&quot;;</code>) the content is not output but the mixins are made available, so moving the code down to the bottom of <code>dropdown.less</code> would cause it not to end up in the compilation of <code>app-pad.less</code>.</p>\n<p>The resulting CSS from this contains something like this:</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">--LessLoader_require: &quot;/customize/src/less/include/dropdown.less&quot;;</div></pre></td></tr></table></figure>\n<p>LessLoader would then simply scan for <code>--LessLoader_require:</code> and trigger loading of those files, which are still parsed by Less, but are the same for every CryptPad app.</p>\n<h3 id=\"Parameters-with-CSS-variables\"><a href=\"#Parameters-with-CSS-variables\" class=\"headerlink\" title=\"Parameters with CSS variables\"></a>Parameters with CSS variables</h3><p>In this example, I intentionally left out the parameterized mixins. Solving this was slightly more complicated and in order to do it, we made use of a reasonably new feature in web browsers: <a href=\"https://developer.mozilla.org/en-US/docs/Web/CSS/Using_CSS_variables\" target=\"_blank\" rel=\"external\">CSS variables</a>. </p>\n<p>Today, one can write in CSS the following:</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div></pre></td><td class=\"code\"><pre><div class=\"line\">:root &#123;</div><div class=\"line\">    --color-should-be: brown;</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\">// potentially much later...</div><div class=\"line\">.element &#123;</div><div class=\"line\">    color: var(--color-should-be);</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<p>and the element text will be brown. Discovering this was a breakthrough because it meant that the arguments could be turned into variables in <code>app-pad.less</code> and then made use of in <code>toolbar.less</code>. However, there are limitations to what you can do with CSS variables. For example, this doesn’t work:</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div></pre></td><td class=\"code\"><pre><div class=\"line\">:root &#123;</div><div class=\"line\">    --hack-boolean: 1;</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\">// later on...</div><div class=\"line\"></div><div class=\"line\">@media screen and (max-width: calc(var(--hack-boolean) * 100000000)) &#123;</div><div class=\"line\">    // HAHAHA I MADE AN IF STATEMENT</div><div class=\"line\">    :root &#123; --lets-define-another-variable: &quot;lol&quot;; &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<center><em>If this worked, I’d probably be using it</em></center>\n\n<p><br></p>\n<h4 id=\"Scoped-CSS-variables\"><a href=\"#Scoped-CSS-variables\" class=\"headerlink\" title=\"Scoped CSS variables\"></a>Scoped CSS variables</h4><p>What does work, however, is specifying different values of the same variable at different scopes, so this does work:</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div></pre></td><td class=\"code\"><pre><div class=\"line\">.my-button &#123; --button-color: red; &#125;</div><div class=\"line\">.my-popup-window .my-button &#123; --button-color: blue; &#125;</div><div class=\"line\"></div><div class=\"line\">// later on...</div><div class=\"line\"></div><div class=\"line\">.my-button &#123;</div><div class=\"line\">    background-color: var(--button-color);</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<p>But possible uses/abuses of this feature were not investigated.</p>\n<h4 id=\"Making-it-work\"><a href=\"#Making-it-work\" class=\"headerlink\" title=\"Making it work\"></a>Making it work</h4><p>Following the general principle of <a href=\"https://www.joelonsoftware.com/2005/05/11/making-wrong-code-look-wrong/\" target=\"_blank\" rel=\"external\">keeping the variable definition close to the usage</a>, we put the variable definitions inside of the <code>.&lt;filename&gt;_main()</code> mixin and the usages below in the same file. In order to avoid namespace collisons, we prefixed all variables with the name of the file. A simplified version of avatar.less looks like this:</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div></pre></td><td class=\"code\"><pre><div class=\"line\">.avatar_main(@width) &#123;</div><div class=\"line\">    --LessLoader_require: LessLoader_currentFile();</div><div class=\"line\">    --avatar-width: @width;</div><div class=\"line\">&#125;</div><div class=\"line\">&amp; &#123;</div><div class=\"line\">    &amp;.cp-avatar &#123;</div><div class=\"line\">        ...</div><div class=\"line\">        .cp-avatar-default, media-tag &#123;</div><div class=\"line\">            width: var(--avatar-width);</div></pre></td></tr></table></figure>\n<p>In some cases, we needed to introduce additional variables because of the use of Less functions such as <a href=\"http://lesscss.org/functions/#color-operations\" target=\"_blank\" rel=\"external\">lighten() and darken()</a>, which obviously cannot work on CSS variables. So we used the following pattern in many places:</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div></pre></td><td class=\"code\"><pre><div class=\"line\">.help_main (@color, @bg-color) &#123;</div><div class=\"line\">    --LessLoader_require: LessLoader_currentFile();</div><div class=\"line\">    @help-bg-color-l15: lighten(@bg-color, 15%);</div><div class=\"line\">    @help-text-color: contrast(@help-bg-color-l15, #fff, #000); //@color;</div><div class=\"line\">    @help-link-color: contrast(@help-bg-color-l15, lighten(spin(@bg-color, 180), 10%), darken(spin(@bg-color, 180), 10%));</div><div class=\"line\"></div><div class=\"line\">    --help-bg-color-l15: @help-bg-color-l15;</div><div class=\"line\">    --help-text-color: @help-text-color;</div><div class=\"line\">    --help-link-color: @help-link-color;</div><div class=\"line\">&#125;;</div></pre></td></tr></table></figure>\n<h3 id=\"Results\"><a href=\"#Results\" class=\"headerlink\" title=\"Results\"></a>Results</h3><p>After carefully planning and studying solutions, we managed a fairly non-invasive refactoring of the styles which took Less compile time down from almost 3 seconds to around 900ms. For simplistic pages like the front page, the number dropped to around 200ms.</p>\n<p>The key result is that a person who has never seen CryptPad before will see the main page right away instead of waiting 3 or more seconds to compile all the less for the entire project.</p>\n<h2 id=\"But-wait-what-about-Internet-Explorer\"><a href=\"#But-wait-what-about-Internet-Explorer\" class=\"headerlink\" title=\"But wait, what about Internet Explorer ?\"></a>But wait, what about Internet Explorer ?</h2><p>This question is the bane of many web developers’ existance. In this case, the problem is that <a href=\"https://developer.microsoft.com/en-us/microsoft-edge/platform/status/csscustompropertiesakacssvariables/\" target=\"_blank\" rel=\"external\">Internet Explorer has no CSS variables</a>. Last week we changed CryptPad so that when you use it, your browser will let us know if it doesn’t support CSS variables. This is done using the <a href=\"https://blog.cryptpad.fr/2017/07/07/cryptpad-analytics-what-we-cant-know-what-we-must-know-what-we-want-to-know/#What-we-collect-because-we-want-to-know\">feedback mechanism</a> which is an opt-out collection of information such as how often particular features are used and whether certain things are supported by the browsers of people using CryptPad.</p>\n<p>What we found is that in the past week, we saw about 50 unique users who are running browsers which don’t support CSS variables. With our approximately 4500 unique users per week, this is a little over 1%.</p>\n<h3 id=\"Making-an-acceptable-fallback\"><a href=\"#Making-an-acceptable-fallback\" class=\"headerlink\" title=\"Making an acceptable fallback\"></a>Making an acceptable fallback</h3><p>The One Percent jokes asside, it’s hard to justify making CryptPad 300% slower for everyone who tries it for the first time, just to satisfy about 1% of the userbase. But at the same time, it’s sad to drop support for a browser which at the current moment does work with CryptPad.</p>\n<p>The solution we devised was to specify default values and then override them.</p>\n<p>For example:</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div></pre></td><td class=\"code\"><pre><div class=\"line\">.cp-markdown-toolbar &#123;</div><div class=\"line\">    ...</div><div class=\"line\">    button &#123;</div><div class=\"line\">        // IE sees this (variable compiled by less)</div><div class=\"line\">        color: @toolbar-color;</div><div class=\"line\">        </div><div class=\"line\">        // everyone else sees this</div><div class=\"line\">        color: var(--toolbar-color);</div></pre></td></tr></table></figure>\n<p>The only question remaining was how to specify the defaults in a way that was simple for us when we worked on the less files. Most of our <code>.&lt;filemane&gt;_main()</code> parameterized mixins already had default values in case they were called without parameters, so we already knew what sane defaults would be. What we decided to do was create a new mixin called <code>.&lt;filename&gt;_vars()</code>, which would assign a set of Less variables based on the arguments.</p>\n<p>The final result looked like this:</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div></pre></td><td class=\"code\"><pre><div class=\"line\">.help_vars (</div><div class=\"line\">    @color: @colortheme_default-color,</div><div class=\"line\">    @bg-color: @colortheme_default-bg</div><div class=\"line\">) &#123;</div><div class=\"line\">    @help-bg-color-l15: lighten(@bg-color, 15%);</div><div class=\"line\">    @help-text-color: contrast(@help-bg-color-l15, #fff, #000); //@color;</div><div class=\"line\">    @help-link-color: contrast(@help-bg-color-l15, lighten(spin(@bg-color, 180), 10%), darken(spin(@bg-color, 180), 10%));</div><div class=\"line\">&#125;</div><div class=\"line\">.help_main (@color, @bg-color) &#123;</div><div class=\"line\">    --LessLoader_require: LessLoader_currentFile();</div><div class=\"line\">    .help_vars(@color, @bg-color);</div><div class=\"line\">    --help-bg-color-l15: @help-bg-color-l15;</div><div class=\"line\">    --help-text-color: @help-text-color;</div><div class=\"line\">    --help-link-color: @help-link-color;</div><div class=\"line\">&#125;;</div><div class=\"line\">&amp; &#123;</div><div class=\"line\">    .help_vars();</div><div class=\"line\">    .cp-help-container &#123;</div><div class=\"line\"></div><div class=\"line\">        position: relative;</div><div class=\"line\">        background-color: @help-bg-color-l15;</div><div class=\"line\">        background-color: var(--help-bg-color-l15);</div></pre></td></tr></table></figure>\n<p>Going through it step-by-step, the <code>.help_vars()</code> mixin takes parameters but it defines default values, then it creates some Less variables which are accessed after it is used. <code>.help_main()</code> calls <code>.help_vars()</code> and passes it arguments, then takes it’s results and assigns them to CSS variables. Then the main block of the Less file also calls <code>.help_vars()</code> but without any arguments, so the defaults are used. Then in the main block, each usage of a CSS variable also has the usage of the less variable. The less variable provides the default value, the one which IE will see, and then the CSS variable provides the specified value, the one which will be different per CryptPad application.</p>\n<h2 id=\"There-you-have-it\"><a href=\"#There-you-have-it\" class=\"headerlink\" title=\"There you have it\"></a>There you have it</h2><p>Every Less file now gets loaded twice, first it is loaded by the <code>@include (reference)</code> call, where it is parsed in order to expose the <code>.&lt;filename&gt;_main()</code> mixin, then it is loaded a second time as an independent file. Importantly, however, once it is compiled it is stored into localStorage and the toolbar CSS which is compiled when you go to the Rich Text app is the exact same CSS which will be used when you go to the Code/Markdown app. This feature is available in the <code>staging</code> branch of the CryptPad project and will be on CryptPad.fr in the next release.</p>\n<p>We could make it even faster, by separating the main content of the Less files from the <code>.&lt;filename&gt;_vars()</code> and <code>.&lt;filename&gt;_main()</code> mixins, essentially making header files, in C/C++ parlance. And if we find in future profiling that less compiling remains a signficant performance penalty, there’s a good chance that we will.</p>\n","excerpt":"","more":"<script src=\"https://cryptpad.fr/common/media-tag-nacl.min.js\"></script>\n\n<p>In CryptPad development, we have always tried to push the limits of the technology. As you might know, we don’t minify any of our javascript code and we have no build system, yet CryptPad is still faster than many similar projects which do. In recent profiling, we determined that the biggest cause of slow loading was compilng of less stylesheets.</p>\n<p>All of the styles for CryptPad are written in <a href=\"http://lesscss.org/\">Less</a> CSS templating language and because we don’t have a build system, when you load a page on CryptPad, it downloads the less compiler and runs it in your browser. When the less has been compiled the first time, it is cached in the browser’s <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Window/localStorage\">localStorage</a> so that it doesn’t need to be compiled again (until next release). Unfortunately, the way we structured CryptPad Less code led to this taking a long time.</p>\n<p>CSS by its nature is very much like object inheritence, a design pattern popular in the 1990s which has <a href=\"https://link.springer.com/chapter/10.1007/1-85233-856-3_23\">since</a> <a href=\"https://codeburst.io/inheritance-is-evil-stop-using-it-6c4f1caf5117\">been</a> <a href=\"http://neethack.com/2017/04/Why-inheritance-is-bad/\">discredited</a>. In a bid to keep our styles under control, we decided to make heavy use of Less <a href=\"http://lesscss.org/features/#mixins-feature\">mixins</a>. The idea was that we didn’t want our CSS code to “speak until it was spoken to”.</p>\n<p>Something like the following would be very problematic if it were dumped on the global scope, but it is never output until it is called:</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\">.example_header() &#123;</div><div class=\"line\">    a &#123;</div><div class=\"line\">        color: red;</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<p>So then the code which uses it can invoke it only in the exact place where it ought to be used.</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div></pre></td><td class=\"code\"><pre><div class=\"line\">@include &quot;example.less&quot;;</div><div class=\"line\">.cp-app-pad &#123;</div><div class=\"line\">    .cp-padheader &#123;</div><div class=\"line\">        .cp-padheader-left &#123;</div><div class=\"line\">            .example_header();</div><div class=\"line\">        &#125;</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<p>If you’re a CSS purist, you’re probably pulling your hair out now, because <em>the right way</em> is to use html classes. The thing is, we do, but because CryptPad is made up of many different pieces of open source software, we cannot control all of the HTML and sometimes things <a href=\"https://github.com/xwiki-labs/cryptpad/blob/2.4.0/customize.dist/src/less2/include/ckeditor-fix.less\">aren’t so simple</a>. Using mixins gave us an extra layer of safety and allowed us to write CSS feeling quite confident that it would not end up changing things where it wasn’t supposed to.</p>\n<p><img src=\"/images/Strip-CSS-respect-650-finalenglish1.jpg\"></p>\n<center data-yeah-i-know-a-center-tag=\"so sue me\"><em>Cascading works great, until you include one CSS file that was written by this guy.</em></center>\n\n<h2 id=\"Parameterized-mixins\"><a href=\"#Parameterized-mixins\" class=\"headerlink\" title=\"Parameterized mixins\"></a>Parameterized mixins</h2><p>An excellent feature of Less is parameterized mixins, that is, templates with arguments. One of our biggest templates is called <code>.toolbar_main()</code> and this builds the toolbar at the top of CryptPad as well as the user-list on the lefthand side. In order to make the customizable colors with the same HTML structure, we opted to use a parameterized mixin like this:</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div></pre></td><td class=\"code\"><pre><div class=\"line\">.toolbar_main (</div><div class=\"line\">    @color: @colortheme_default-color, // Color of the text for the toolbar</div><div class=\"line\">    @bg-color: @colortheme_default-bg, // color of the toolbar background</div><div class=\"line\">    @warn-color: @colortheme_default-warn, // color of the warning text in the toolbar</div><div class=\"line\">    @barWidth: 600px // width of the toolbar</div><div class=\"line\">) &#123;</div><div class=\"line\">/// a lot of code here, using colors based on the parameters,</div><div class=\"line\">/// but lightened or darkened using less functions.</div><div class=\"line\">&#125;;</div></pre></td></tr></table></figure>\n<p>Then each app would call <code>.toolbar_main()</code> with its own color parameters, and get a nice toolbar, customized to that app’s color theme. Again, this is not the only way to do it, but having the ability to generate CSS with highly specific color rules proved to be extremely useful for overriding leaked styles coming from the software that we integrate.</p>\n<h2 id=\"State-explosion\"><a href=\"#State-explosion\" class=\"headerlink\" title=\"State explosion\"></a>State explosion</h2><p>What we didn’t think about at that time was the effect that the proliferation of CryptPad Apps would have on the amount of CSS being generated. We started with just a few styles and just a few apps to apply those styles on.</p>\n<p><media-tag src=\"https://files.cryptpad.fr/blob/ba/baf60fc13e35117c60337bbd93ee1dd43ede9280fe5aa583\" data-crypto-key=\"cryptpad:9nEx58X4nrmTYmi5i8K8bb6DvTRemmYubZbU1J1dDa0=\"></media-tag></p>\n<p>But as we added more and more CryptPad apps, the same CSS was being generated and applied over and over…</p>\n<p><media-tag src=\"https://files.cryptpad.fr/blob/1b/1b5e6189a55efb7ea30ff1cc128597ce76b158fd659d6f45\" data-crypto-key=\"cryptpad:tvxTuU3P5nqqQ75TMRsjehvOjljlkSGzpZTgrfhgGSg=\"></media-tag></p>\n<p>Then as our styles become more complex, the CSS which was being copy/pasted by less compiler became bigger and bigger</p>\n<p><media-tag src=\"https://files.cryptpad.fr/blob/83/8398106a4ee0109630793846cabfdecaa8ee80313cca7e37\" data-crypto-key=\"cryptpad:qy+1nKYU8sQiQR88IgqyxAfspxZiEN8Q3NkBI2qpPOA=\"></media-tag></p>\n<p>The total of all our less code in the entire project was only 235k, and it was compiling to over <strong>1.3 megabytes of CSS</strong>. We cache the compiled CSS by placing it in <a href=\"https://developer.mozilla.org/en/docs/Web/API/Window/localStorage\">localStorage</a>, but still, every time a new version of CryptPad was released, the CSS needed to be recompiled and this was dominating the loading time.</p>\n<h2 id=\"Building-a-Linker-for-CSS\"><a href=\"#Building-a-Linker-for-CSS\" class=\"headerlink\" title=\"Building a Linker for CSS\"></a>Building a Linker for CSS</h2><p>If you have experience with C/C++, you might recognize this problem. It is as if there was no linker and the only way to reuse code was to use preprocessor <code>#include</code> over and over again.</p>\n<p>Since by this point, we had a significant amount of Less which was designed this way, rewriting it was not an option, so we started looking for ways to <em>link</em> it rather than copy/pasting it over and over again. Fortunately most of the bigger mixins only applied rules to specific classes, so moving them up to the root level would not cause trouble, though to be safe, we wanted to only load the styles that were necessary.</p>\n<p>If we would indicate to the javascript code which loaded the Less that a particular Less file was needed, it could be compiled, cached and included <em>separately</em>, and thus it could be reused across apps. In order to keep the Less API as close to the same as possible, we decided to put that indication inside of the <code>.&lt;filename&gt;_main()</code> mixin.</p>\n<p>So <code>.dropdown_main()</code> went from this:</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\">.dropdown_main () &#123;</div><div class=\"line\">    // all the code here</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<p>To this:</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div></pre></td><td class=\"code\"><pre><div class=\"line\">.dropdown_main () &#123;</div><div class=\"line\">    --LessLoader_require: LessLoader_currentFile();</div><div class=\"line\">&#125;;</div><div class=\"line\">&amp; &#123;</div><div class=\"line\">    // all the code here</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<p>Two important things to note: firstly <code>LessLoader_currentFile()</code> is a function which we created (as the name implies, it’s defined in <code>LessLoader.js</code>), it simply expands to the current function name. Secondly, when a less file is included with the <code>reference</code> flag (e.g. <code>@include (reference) &quot;./dropdown.less&quot;;</code>) the content is not output but the mixins are made available, so moving the code down to the bottom of <code>dropdown.less</code> would cause it not to end up in the compilation of <code>app-pad.less</code>.</p>\n<p>The resulting CSS from this contains something like this:</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">--LessLoader_require: &quot;/customize/src/less/include/dropdown.less&quot;;</div></pre></td></tr></table></figure>\n<p>LessLoader would then simply scan for <code>--LessLoader_require:</code> and trigger loading of those files, which are still parsed by Less, but are the same for every CryptPad app.</p>\n<h3 id=\"Parameters-with-CSS-variables\"><a href=\"#Parameters-with-CSS-variables\" class=\"headerlink\" title=\"Parameters with CSS variables\"></a>Parameters with CSS variables</h3><p>In this example, I intentionally left out the parameterized mixins. Solving this was slightly more complicated and in order to do it, we made use of a reasonably new feature in web browsers: <a href=\"https://developer.mozilla.org/en-US/docs/Web/CSS/Using_CSS_variables\">CSS variables</a>. </p>\n<p>Today, one can write in CSS the following:</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div></pre></td><td class=\"code\"><pre><div class=\"line\">:root &#123;</div><div class=\"line\">    --color-should-be: brown;</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\">// potentially much later...</div><div class=\"line\">.element &#123;</div><div class=\"line\">    color: var(--color-should-be);</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<p>and the element text will be brown. Discovering this was a breakthrough because it meant that the arguments could be turned into variables in <code>app-pad.less</code> and then made use of in <code>toolbar.less</code>. However, there are limitations to what you can do with CSS variables. For example, this doesn’t work:</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div></pre></td><td class=\"code\"><pre><div class=\"line\">:root &#123;</div><div class=\"line\">    --hack-boolean: 1;</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\">// later on...</div><div class=\"line\"></div><div class=\"line\">@media screen and (max-width: calc(var(--hack-boolean) * 100000000)) &#123;</div><div class=\"line\">    // HAHAHA I MADE AN IF STATEMENT</div><div class=\"line\">    :root &#123; --lets-define-another-variable: &quot;lol&quot;; &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<center><em>If this worked, I’d probably be using it</em></center>\n\n<p><br></p>\n<h4 id=\"Scoped-CSS-variables\"><a href=\"#Scoped-CSS-variables\" class=\"headerlink\" title=\"Scoped CSS variables\"></a>Scoped CSS variables</h4><p>What does work, however, is specifying different values of the same variable at different scopes, so this does work:</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div></pre></td><td class=\"code\"><pre><div class=\"line\">.my-button &#123; --button-color: red; &#125;</div><div class=\"line\">.my-popup-window .my-button &#123; --button-color: blue; &#125;</div><div class=\"line\"></div><div class=\"line\">// later on...</div><div class=\"line\"></div><div class=\"line\">.my-button &#123;</div><div class=\"line\">    background-color: var(--button-color);</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<p>But possible uses/abuses of this feature were not investigated.</p>\n<h4 id=\"Making-it-work\"><a href=\"#Making-it-work\" class=\"headerlink\" title=\"Making it work\"></a>Making it work</h4><p>Following the general principle of <a href=\"https://www.joelonsoftware.com/2005/05/11/making-wrong-code-look-wrong/\">keeping the variable definition close to the usage</a>, we put the variable definitions inside of the <code>.&lt;filename&gt;_main()</code> mixin and the usages below in the same file. In order to avoid namespace collisons, we prefixed all variables with the name of the file. A simplified version of avatar.less looks like this:</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div></pre></td><td class=\"code\"><pre><div class=\"line\">.avatar_main(@width) &#123;</div><div class=\"line\">    --LessLoader_require: LessLoader_currentFile();</div><div class=\"line\">    --avatar-width: @width;</div><div class=\"line\">&#125;</div><div class=\"line\">&amp; &#123;</div><div class=\"line\">    &amp;.cp-avatar &#123;</div><div class=\"line\">        ...</div><div class=\"line\">        .cp-avatar-default, media-tag &#123;</div><div class=\"line\">            width: var(--avatar-width);</div></pre></td></tr></table></figure>\n<p>In some cases, we needed to introduce additional variables because of the use of Less functions such as <a href=\"http://lesscss.org/functions/#color-operations\">lighten() and darken()</a>, which obviously cannot work on CSS variables. So we used the following pattern in many places:</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div></pre></td><td class=\"code\"><pre><div class=\"line\">.help_main (@color, @bg-color) &#123;</div><div class=\"line\">    --LessLoader_require: LessLoader_currentFile();</div><div class=\"line\">    @help-bg-color-l15: lighten(@bg-color, 15%);</div><div class=\"line\">    @help-text-color: contrast(@help-bg-color-l15, #fff, #000); //@color;</div><div class=\"line\">    @help-link-color: contrast(@help-bg-color-l15, lighten(spin(@bg-color, 180), 10%), darken(spin(@bg-color, 180), 10%));</div><div class=\"line\"></div><div class=\"line\">    --help-bg-color-l15: @help-bg-color-l15;</div><div class=\"line\">    --help-text-color: @help-text-color;</div><div class=\"line\">    --help-link-color: @help-link-color;</div><div class=\"line\">&#125;;</div></pre></td></tr></table></figure>\n<h3 id=\"Results\"><a href=\"#Results\" class=\"headerlink\" title=\"Results\"></a>Results</h3><p>After carefully planning and studying solutions, we managed a fairly non-invasive refactoring of the styles which took Less compile time down from almost 3 seconds to around 900ms. For simplistic pages like the front page, the number dropped to around 200ms.</p>\n<p>The key result is that a person who has never seen CryptPad before will see the main page right away instead of waiting 3 or more seconds to compile all the less for the entire project.</p>\n<h2 id=\"But-wait-what-about-Internet-Explorer\"><a href=\"#But-wait-what-about-Internet-Explorer\" class=\"headerlink\" title=\"But wait, what about Internet Explorer ?\"></a>But wait, what about Internet Explorer ?</h2><p>This question is the bane of many web developers’ existance. In this case, the problem is that <a href=\"https://developer.microsoft.com/en-us/microsoft-edge/platform/status/csscustompropertiesakacssvariables/\">Internet Explorer has no CSS variables</a>. Last week we changed CryptPad so that when you use it, your browser will let us know if it doesn’t support CSS variables. This is done using the <a href=\"https://blog.cryptpad.fr/2017/07/07/cryptpad-analytics-what-we-cant-know-what-we-must-know-what-we-want-to-know/#What-we-collect-because-we-want-to-know\">feedback mechanism</a> which is an opt-out collection of information such as how often particular features are used and whether certain things are supported by the browsers of people using CryptPad.</p>\n<p>What we found is that in the past week, we saw about 50 unique users who are running browsers which don’t support CSS variables. With our approximately 4500 unique users per week, this is a little over 1%.</p>\n<h3 id=\"Making-an-acceptable-fallback\"><a href=\"#Making-an-acceptable-fallback\" class=\"headerlink\" title=\"Making an acceptable fallback\"></a>Making an acceptable fallback</h3><p>The One Percent jokes asside, it’s hard to justify making CryptPad 300% slower for everyone who tries it for the first time, just to satisfy about 1% of the userbase. But at the same time, it’s sad to drop support for a browser which at the current moment does work with CryptPad.</p>\n<p>The solution we devised was to specify default values and then override them.</p>\n<p>For example:</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div></pre></td><td class=\"code\"><pre><div class=\"line\">.cp-markdown-toolbar &#123;</div><div class=\"line\">    ...</div><div class=\"line\">    button &#123;</div><div class=\"line\">        // IE sees this (variable compiled by less)</div><div class=\"line\">        color: @toolbar-color;</div><div class=\"line\">        </div><div class=\"line\">        // everyone else sees this</div><div class=\"line\">        color: var(--toolbar-color);</div></pre></td></tr></table></figure>\n<p>The only question remaining was how to specify the defaults in a way that was simple for us when we worked on the less files. Most of our <code>.&lt;filemane&gt;_main()</code> parameterized mixins already had default values in case they were called without parameters, so we already knew what sane defaults would be. What we decided to do was create a new mixin called <code>.&lt;filename&gt;_vars()</code>, which would assign a set of Less variables based on the arguments.</p>\n<p>The final result looked like this:</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div></pre></td><td class=\"code\"><pre><div class=\"line\">.help_vars (</div><div class=\"line\">    @color: @colortheme_default-color,</div><div class=\"line\">    @bg-color: @colortheme_default-bg</div><div class=\"line\">) &#123;</div><div class=\"line\">    @help-bg-color-l15: lighten(@bg-color, 15%);</div><div class=\"line\">    @help-text-color: contrast(@help-bg-color-l15, #fff, #000); //@color;</div><div class=\"line\">    @help-link-color: contrast(@help-bg-color-l15, lighten(spin(@bg-color, 180), 10%), darken(spin(@bg-color, 180), 10%));</div><div class=\"line\">&#125;</div><div class=\"line\">.help_main (@color, @bg-color) &#123;</div><div class=\"line\">    --LessLoader_require: LessLoader_currentFile();</div><div class=\"line\">    .help_vars(@color, @bg-color);</div><div class=\"line\">    --help-bg-color-l15: @help-bg-color-l15;</div><div class=\"line\">    --help-text-color: @help-text-color;</div><div class=\"line\">    --help-link-color: @help-link-color;</div><div class=\"line\">&#125;;</div><div class=\"line\">&amp; &#123;</div><div class=\"line\">    .help_vars();</div><div class=\"line\">    .cp-help-container &#123;</div><div class=\"line\"></div><div class=\"line\">        position: relative;</div><div class=\"line\">        background-color: @help-bg-color-l15;</div><div class=\"line\">        background-color: var(--help-bg-color-l15);</div></pre></td></tr></table></figure>\n<p>Going through it step-by-step, the <code>.help_vars()</code> mixin takes parameters but it defines default values, then it creates some Less variables which are accessed after it is used. <code>.help_main()</code> calls <code>.help_vars()</code> and passes it arguments, then takes it’s results and assigns them to CSS variables. Then the main block of the Less file also calls <code>.help_vars()</code> but without any arguments, so the defaults are used. Then in the main block, each usage of a CSS variable also has the usage of the less variable. The less variable provides the default value, the one which IE will see, and then the CSS variable provides the specified value, the one which will be different per CryptPad application.</p>\n<h2 id=\"There-you-have-it\"><a href=\"#There-you-have-it\" class=\"headerlink\" title=\"There you have it\"></a>There you have it</h2><p>Every Less file now gets loaded twice, first it is loaded by the <code>@include (reference)</code> call, where it is parsed in order to expose the <code>.&lt;filename&gt;_main()</code> mixin, then it is loaded a second time as an independent file. Importantly, however, once it is compiled it is stored into localStorage and the toolbar CSS which is compiled when you go to the Rich Text app is the exact same CSS which will be used when you go to the Code/Markdown app. This feature is available in the <code>staging</code> branch of the CryptPad project and will be on CryptPad.fr in the next release.</p>\n<p>We could make it even faster, by separating the main content of the Less files from the <code>.&lt;filename&gt;_vars()</code> and <code>.&lt;filename&gt;_main()</code> mixins, essentially making header files, in C/C++ parlance. And if we find in future profiling that less compiling remains a signficant performance penalty, there’s a good chance that we will.</p>\n"},{"title":"One year of biweekly releases","date":"2018-02-23T13:37:15.000Z","author":"Aaron MacSween","_content":"\nApproximately one year ago, we published an article about our intention to follow a [biweekly release schedule](/2017/02/24/Announcing-biweekly-releases/).\nSince then, we've thought of every second Tuesday as _release day_.\nStarting with [the letter A](https://github.com/xwiki-labs/cryptpad/releases/tag/1.0.0) on February 21st, 2017 and ending with [the letter Z](https://github.com/xwiki-labs/cryptpad/releases/tag/1.25.0) on January 30th, 2018, we went through the whole latin alphabet.\n\nThroughout this self-imposed regimen, we managed to meet each deadline, though on occasion we had to stay at the office later than usual.\nAny time a release was more difficult than expected, we considered what went wrong and added a counter-measure to our release checklist (in CryptPad, naturally).\nEach release became easier than the one before, but even so, we found there were some drawbacks to this rigid schedule.\n\n## Changing our pace\n\nHaving a regular rhythm for our releases trained us to break up complex features into components that could be implemented within a two week period.\nWith that in mind, not all tasks fit neatly within two weeks, and those larger tasks have had a tendency to get pushed to the next release.\nSo, now that we've finished one full year of releases, we've started to look more closely at those larger features which we've inadvertently neglected.\nThe tendency to procrastinate on especially difficult features is just another challenge to approach, but it's been one which is somewhat more difficult to summarize within a _to do_ list.\n\nAs of CryptPad v1.26.0, we're no longer following the strict biweekly schedule.\nTo be clear, this doesn't mean we're slowing down development.\nWe're still _working on CryptPad consistently_.\nWe still plan to _deliver features to users_ as soon as they are stable.\nWe still plan to _deploy on Tuesdays_, since it's as early in the week as possible without falling on a Monday and deploying on a Friday is a _terrible idea_.\n\n<img src=\"/images/iamdevloper_deploy_on_friday.jpeg\" alt=\"Should I release on a Friday?\" style=\"width:50%;\" />\n\nSome releases might happen in a single week.\nOthers might take stretch to three weeks or a full month, but we'll do our best not to take any longer than that.\nWe try to be as transparent as possible with our plans, and so users should expect each release to also specify the projected date for the following release.\n\n## What's coming next...\n\nIn the last year, we tried to find a balance between improving user security through the use of our [sandboxing techniques](2017/08/30/CryptPad-s-new-Secure-Cross-Domain-Iframe/), and implementing the productivity features necessary for people to consider the security improvements an _added bonus_ rather than an impractical ideology.\nThe core of our philosophy is that _security_ and _ease of use_ must be packaged together in order for tools like CryptPad to benefit users.\n\nWhile CryptPad is considerably more than a _proof-of-concept_, we don't consider it anywhere close to being finished.\nAs heavy users of CryptPad ourselves, we are aware of its rough edges.\nOur community has been very supportive with our continued development, though, so we're excited to be able to improve the following areas!\n\n### Sharing\n\nWe spend a lot of time passing links between each other when collaborating on a project.\nIn order to do so _privately_, the sender and the receiver must both use an encrypted messenger, or else the message could be intercepted by a malicious third-party.\nThe necessity of having to use a second tool makes it so that CryptPad must always be used as _part of the solution_, rather than solving a user's problem outright.\n\nWe'd like to approach this problem with two improvements:\n\n1. integrate our existing encrypted messenger better with the rest of CryptPad's functionality (as per [this issue](https://github.com/xwiki-labs/cryptpad/issues/79))\n2. develop a method of sharing entire folder structures from a users drive, so that sharing can scale to support large-scale projects, a feature we call _Workgroups_\n\n### Layered protection\n\nEven if the link for a pad is shared securely, there is the possibility that somebody discovers that link through other (possibly malicious) means.\nWe're interested in developing CryptPad's basic two-tier permission system (edit/view) to address such concerns.\nThis could be accomplished in very different ways:\n\n* add the ability to protect a pad with a password, so that anyone who finds the link must also know a secret value in order to retrieve the pad's history from the server\n* add the ability to encrypt messages such that only a designated set of users can decrypt them using public-key cryptography\n\nSo far CryptPad only features a very limited set of cryptographic techniques.\nGoing forward, we hope to find ways to implement a more granular permission system which does not rely on the server behaving correctly.\nSome of these features are more in the realm of _applied-cryptography research_ than _web application development_, so it's very likely they'll be implemented later, but we're excited about them nevertheless.\n\n### Increased trustworthiness\n\nEven though CryptPad performs its encryption in your browser, there is always the possibility that a compromised server could send malicious code to the browser which would cause it to reveal its secrets.\nWe're interested in developing features which would mitigate these kinds of attacks against users, through a combination of modern browser features like [sub-resource integrity](https://developer.mozilla.org/en-US/docs/Web/Security/Subresource_Integrity), and perhaps a registry of verified code signatures signed by us, the developers.\n\nIt's very difficult to make a web application secure against those responsible for delivering its source to your browser.\nWe're actively searching for any kind of technique for securing that makes CryptPad a more robust platform for storing your data privately, even against ourselves.\n\n### Password usability\n\nCryptPad's login system looks quite conventional at first glance, since it has a field for a _user-name_ and _password_ like most other web applications.\nUnlike those other applications, we never learn your user-name and password.\nInstead, your browser uses those fields to generate a unique secret value which you use to encrypt your drive, and accomplish a range of other tasks.\nThe downside of this approach is that if a user forgets their username or password, we can't help them gain access to their documents.\nIf we could, we'd be able to access their documents ourselves.\n\nFortunately, we're not the only team building web applications that use cryptography, and so there has been some research into how to improve password-based workflows without revealing secrets data to the server's host (us).\nWe've already received emails from users who've inadvertently locked themselves out of their accounts with no way to recover their data, and that's a situation we'd like to help people avoid, so this is a feature we're looking forward to offering.\n\n### More applications\n\nLots of users have requested that we add a few more applications to CryptPad, and we've been listening!\nWe plan to add support for spreadsheets, and possibly other applications so that people don't have to fall back to using an unencrypted CryptPad alternative.\n\n### Scalability\n\nOne advantage CryptPad has over other conventional collaboration platforms is that a lot of the difficult computation is run in the users' browsers, rather than on our server.\nThis means that we can support a very large number of clients without a noticeable decrease in performance.\nEven so, the number of people using _CryptPad.fr_ and the amount they use it has increased dramatically.\n\nThough excessive popularity is a wonderful problem to have, we'd like to avoid a situation where users have difficulty accessing our service, so improved scalability is something we'd like to work on.\n\n## Conclusion\n\nWe haven't yet decided how long we intend for this release cycle to last, and we don't have a set list of the exact goals we'd like to accomplish.\nWe're taking a step back to decide where we'd like to go next.\n\nWe recognize that CryptPad's growth over the last year was driven largely by word of mouth between friends and colleagues who care about privacy.\nBy moving towards a more flexible schedule, we hope to make it easier to adapt to the frequent feedback we receive from people using CryptPad to help them accomplish a multitude of goals.\n\nWe're very interested in hearing what you think about this change.\nFeel free to reach out to us through any of the methods listed on [our contact page](https://cryptpad.fr/contact.html).\n","source":"_posts/One-year-of-biweekly-releases.md","raw":"---\ntitle: One year of biweekly releases\ndate: 2018-02-23 14:37:15\nauthor: Aaron MacSween\ntags:\n  - release\n  - security\n  - roadmap\n---\n\nApproximately one year ago, we published an article about our intention to follow a [biweekly release schedule](/2017/02/24/Announcing-biweekly-releases/).\nSince then, we've thought of every second Tuesday as _release day_.\nStarting with [the letter A](https://github.com/xwiki-labs/cryptpad/releases/tag/1.0.0) on February 21st, 2017 and ending with [the letter Z](https://github.com/xwiki-labs/cryptpad/releases/tag/1.25.0) on January 30th, 2018, we went through the whole latin alphabet.\n\nThroughout this self-imposed regimen, we managed to meet each deadline, though on occasion we had to stay at the office later than usual.\nAny time a release was more difficult than expected, we considered what went wrong and added a counter-measure to our release checklist (in CryptPad, naturally).\nEach release became easier than the one before, but even so, we found there were some drawbacks to this rigid schedule.\n\n## Changing our pace\n\nHaving a regular rhythm for our releases trained us to break up complex features into components that could be implemented within a two week period.\nWith that in mind, not all tasks fit neatly within two weeks, and those larger tasks have had a tendency to get pushed to the next release.\nSo, now that we've finished one full year of releases, we've started to look more closely at those larger features which we've inadvertently neglected.\nThe tendency to procrastinate on especially difficult features is just another challenge to approach, but it's been one which is somewhat more difficult to summarize within a _to do_ list.\n\nAs of CryptPad v1.26.0, we're no longer following the strict biweekly schedule.\nTo be clear, this doesn't mean we're slowing down development.\nWe're still _working on CryptPad consistently_.\nWe still plan to _deliver features to users_ as soon as they are stable.\nWe still plan to _deploy on Tuesdays_, since it's as early in the week as possible without falling on a Monday and deploying on a Friday is a _terrible idea_.\n\n<img src=\"/images/iamdevloper_deploy_on_friday.jpeg\" alt=\"Should I release on a Friday?\" style=\"width:50%;\" />\n\nSome releases might happen in a single week.\nOthers might take stretch to three weeks or a full month, but we'll do our best not to take any longer than that.\nWe try to be as transparent as possible with our plans, and so users should expect each release to also specify the projected date for the following release.\n\n## What's coming next...\n\nIn the last year, we tried to find a balance between improving user security through the use of our [sandboxing techniques](2017/08/30/CryptPad-s-new-Secure-Cross-Domain-Iframe/), and implementing the productivity features necessary for people to consider the security improvements an _added bonus_ rather than an impractical ideology.\nThe core of our philosophy is that _security_ and _ease of use_ must be packaged together in order for tools like CryptPad to benefit users.\n\nWhile CryptPad is considerably more than a _proof-of-concept_, we don't consider it anywhere close to being finished.\nAs heavy users of CryptPad ourselves, we are aware of its rough edges.\nOur community has been very supportive with our continued development, though, so we're excited to be able to improve the following areas!\n\n### Sharing\n\nWe spend a lot of time passing links between each other when collaborating on a project.\nIn order to do so _privately_, the sender and the receiver must both use an encrypted messenger, or else the message could be intercepted by a malicious third-party.\nThe necessity of having to use a second tool makes it so that CryptPad must always be used as _part of the solution_, rather than solving a user's problem outright.\n\nWe'd like to approach this problem with two improvements:\n\n1. integrate our existing encrypted messenger better with the rest of CryptPad's functionality (as per [this issue](https://github.com/xwiki-labs/cryptpad/issues/79))\n2. develop a method of sharing entire folder structures from a users drive, so that sharing can scale to support large-scale projects, a feature we call _Workgroups_\n\n### Layered protection\n\nEven if the link for a pad is shared securely, there is the possibility that somebody discovers that link through other (possibly malicious) means.\nWe're interested in developing CryptPad's basic two-tier permission system (edit/view) to address such concerns.\nThis could be accomplished in very different ways:\n\n* add the ability to protect a pad with a password, so that anyone who finds the link must also know a secret value in order to retrieve the pad's history from the server\n* add the ability to encrypt messages such that only a designated set of users can decrypt them using public-key cryptography\n\nSo far CryptPad only features a very limited set of cryptographic techniques.\nGoing forward, we hope to find ways to implement a more granular permission system which does not rely on the server behaving correctly.\nSome of these features are more in the realm of _applied-cryptography research_ than _web application development_, so it's very likely they'll be implemented later, but we're excited about them nevertheless.\n\n### Increased trustworthiness\n\nEven though CryptPad performs its encryption in your browser, there is always the possibility that a compromised server could send malicious code to the browser which would cause it to reveal its secrets.\nWe're interested in developing features which would mitigate these kinds of attacks against users, through a combination of modern browser features like [sub-resource integrity](https://developer.mozilla.org/en-US/docs/Web/Security/Subresource_Integrity), and perhaps a registry of verified code signatures signed by us, the developers.\n\nIt's very difficult to make a web application secure against those responsible for delivering its source to your browser.\nWe're actively searching for any kind of technique for securing that makes CryptPad a more robust platform for storing your data privately, even against ourselves.\n\n### Password usability\n\nCryptPad's login system looks quite conventional at first glance, since it has a field for a _user-name_ and _password_ like most other web applications.\nUnlike those other applications, we never learn your user-name and password.\nInstead, your browser uses those fields to generate a unique secret value which you use to encrypt your drive, and accomplish a range of other tasks.\nThe downside of this approach is that if a user forgets their username or password, we can't help them gain access to their documents.\nIf we could, we'd be able to access their documents ourselves.\n\nFortunately, we're not the only team building web applications that use cryptography, and so there has been some research into how to improve password-based workflows without revealing secrets data to the server's host (us).\nWe've already received emails from users who've inadvertently locked themselves out of their accounts with no way to recover their data, and that's a situation we'd like to help people avoid, so this is a feature we're looking forward to offering.\n\n### More applications\n\nLots of users have requested that we add a few more applications to CryptPad, and we've been listening!\nWe plan to add support for spreadsheets, and possibly other applications so that people don't have to fall back to using an unencrypted CryptPad alternative.\n\n### Scalability\n\nOne advantage CryptPad has over other conventional collaboration platforms is that a lot of the difficult computation is run in the users' browsers, rather than on our server.\nThis means that we can support a very large number of clients without a noticeable decrease in performance.\nEven so, the number of people using _CryptPad.fr_ and the amount they use it has increased dramatically.\n\nThough excessive popularity is a wonderful problem to have, we'd like to avoid a situation where users have difficulty accessing our service, so improved scalability is something we'd like to work on.\n\n## Conclusion\n\nWe haven't yet decided how long we intend for this release cycle to last, and we don't have a set list of the exact goals we'd like to accomplish.\nWe're taking a step back to decide where we'd like to go next.\n\nWe recognize that CryptPad's growth over the last year was driven largely by word of mouth between friends and colleagues who care about privacy.\nBy moving towards a more flexible schedule, we hope to make it easier to adapt to the frequent feedback we receive from people using CryptPad to help them accomplish a multitude of goals.\n\nWe're very interested in hearing what you think about this change.\nFeel free to reach out to us through any of the methods listed on [our contact page](https://cryptpad.fr/contact.html).\n","slug":"One-year-of-biweekly-releases","published":1,"updated":"2018-06-15T10:06:34.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjjttvr09000j7ezffe0zq51w","content":"<p>Approximately one year ago, we published an article about our intention to follow a <a href=\"/2017/02/24/Announcing-biweekly-releases/\">biweekly release schedule</a>.\nSince then, we’ve thought of every second Tuesday as <em>release day</em>.\nStarting with <a href=\"https://github.com/xwiki-labs/cryptpad/releases/tag/1.0.0\" target=\"_blank\" rel=\"external\">the letter A</a> on February 21st, 2017 and ending with <a href=\"https://github.com/xwiki-labs/cryptpad/releases/tag/1.25.0\" target=\"_blank\" rel=\"external\">the letter Z</a> on January 30th, 2018, we went through the whole latin alphabet.</p>\n<p>Throughout this self-imposed regimen, we managed to meet each deadline, though on occasion we had to stay at the office later than usual.\nAny time a release was more difficult than expected, we considered what went wrong and added a counter-measure to our release checklist (in CryptPad, naturally).\nEach release became easier than the one before, but even so, we found there were some drawbacks to this rigid schedule.</p>\n<h2 id=\"Changing-our-pace\"><a href=\"#Changing-our-pace\" class=\"headerlink\" title=\"Changing our pace\"></a>Changing our pace</h2><p>Having a regular rhythm for our releases trained us to break up complex features into components that could be implemented within a two week period.\nWith that in mind, not all tasks fit neatly within two weeks, and those larger tasks have had a tendency to get pushed to the next release.\nSo, now that we’ve finished one full year of releases, we’ve started to look more closely at those larger features which we’ve inadvertently neglected.\nThe tendency to procrastinate on especially difficult features is just another challenge to approach, but it’s been one which is somewhat more difficult to summarize within a <em>to do</em> list.</p>\n<p>As of CryptPad v1.26.0, we’re no longer following the strict biweekly schedule.\nTo be clear, this doesn’t mean we’re slowing down development.\nWe’re still <em>working on CryptPad consistently</em>.\nWe still plan to <em>deliver features to users</em> as soon as they are stable.\nWe still plan to <em>deploy on Tuesdays</em>, since it’s as early in the week as possible without falling on a Monday and deploying on a Friday is a <em>terrible idea</em>.</p>\n<p><img src=\"/images/iamdevloper_deploy_on_friday.jpeg\" alt=\"Should I release on a Friday?\" style=\"width:50%;\"></p>\n<p>Some releases might happen in a single week.\nOthers might take stretch to three weeks or a full month, but we’ll do our best not to take any longer than that.\nWe try to be as transparent as possible with our plans, and so users should expect each release to also specify the projected date for the following release.</p>\n<h2 id=\"What’s-coming-next…\"><a href=\"#What’s-coming-next…\" class=\"headerlink\" title=\"What’s coming next…\"></a>What’s coming next…</h2><p>In the last year, we tried to find a balance between improving user security through the use of our <a href=\"2017/08/30/CryptPad-s-new-Secure-Cross-Domain-Iframe/\">sandboxing techniques</a>, and implementing the productivity features necessary for people to consider the security improvements an <em>added bonus</em> rather than an impractical ideology.\nThe core of our philosophy is that <em>security</em> and <em>ease of use</em> must be packaged together in order for tools like CryptPad to benefit users.</p>\n<p>While CryptPad is considerably more than a <em>proof-of-concept</em>, we don’t consider it anywhere close to being finished.\nAs heavy users of CryptPad ourselves, we are aware of its rough edges.\nOur community has been very supportive with our continued development, though, so we’re excited to be able to improve the following areas!</p>\n<h3 id=\"Sharing\"><a href=\"#Sharing\" class=\"headerlink\" title=\"Sharing\"></a>Sharing</h3><p>We spend a lot of time passing links between each other when collaborating on a project.\nIn order to do so <em>privately</em>, the sender and the receiver must both use an encrypted messenger, or else the message could be intercepted by a malicious third-party.\nThe necessity of having to use a second tool makes it so that CryptPad must always be used as <em>part of the solution</em>, rather than solving a user’s problem outright.</p>\n<p>We’d like to approach this problem with two improvements:</p>\n<ol>\n<li>integrate our existing encrypted messenger better with the rest of CryptPad’s functionality (as per <a href=\"https://github.com/xwiki-labs/cryptpad/issues/79\" target=\"_blank\" rel=\"external\">this issue</a>)</li>\n<li>develop a method of sharing entire folder structures from a users drive, so that sharing can scale to support large-scale projects, a feature we call <em>Workgroups</em></li>\n</ol>\n<h3 id=\"Layered-protection\"><a href=\"#Layered-protection\" class=\"headerlink\" title=\"Layered protection\"></a>Layered protection</h3><p>Even if the link for a pad is shared securely, there is the possibility that somebody discovers that link through other (possibly malicious) means.\nWe’re interested in developing CryptPad’s basic two-tier permission system (edit/view) to address such concerns.\nThis could be accomplished in very different ways:</p>\n<ul>\n<li>add the ability to protect a pad with a password, so that anyone who finds the link must also know a secret value in order to retrieve the pad’s history from the server</li>\n<li>add the ability to encrypt messages such that only a designated set of users can decrypt them using public-key cryptography</li>\n</ul>\n<p>So far CryptPad only features a very limited set of cryptographic techniques.\nGoing forward, we hope to find ways to implement a more granular permission system which does not rely on the server behaving correctly.\nSome of these features are more in the realm of <em>applied-cryptography research</em> than <em>web application development</em>, so it’s very likely they’ll be implemented later, but we’re excited about them nevertheless.</p>\n<h3 id=\"Increased-trustworthiness\"><a href=\"#Increased-trustworthiness\" class=\"headerlink\" title=\"Increased trustworthiness\"></a>Increased trustworthiness</h3><p>Even though CryptPad performs its encryption in your browser, there is always the possibility that a compromised server could send malicious code to the browser which would cause it to reveal its secrets.\nWe’re interested in developing features which would mitigate these kinds of attacks against users, through a combination of modern browser features like <a href=\"https://developer.mozilla.org/en-US/docs/Web/Security/Subresource_Integrity\" target=\"_blank\" rel=\"external\">sub-resource integrity</a>, and perhaps a registry of verified code signatures signed by us, the developers.</p>\n<p>It’s very difficult to make a web application secure against those responsible for delivering its source to your browser.\nWe’re actively searching for any kind of technique for securing that makes CryptPad a more robust platform for storing your data privately, even against ourselves.</p>\n<h3 id=\"Password-usability\"><a href=\"#Password-usability\" class=\"headerlink\" title=\"Password usability\"></a>Password usability</h3><p>CryptPad’s login system looks quite conventional at first glance, since it has a field for a <em>user-name</em> and <em>password</em> like most other web applications.\nUnlike those other applications, we never learn your user-name and password.\nInstead, your browser uses those fields to generate a unique secret value which you use to encrypt your drive, and accomplish a range of other tasks.\nThe downside of this approach is that if a user forgets their username or password, we can’t help them gain access to their documents.\nIf we could, we’d be able to access their documents ourselves.</p>\n<p>Fortunately, we’re not the only team building web applications that use cryptography, and so there has been some research into how to improve password-based workflows without revealing secrets data to the server’s host (us).\nWe’ve already received emails from users who’ve inadvertently locked themselves out of their accounts with no way to recover their data, and that’s a situation we’d like to help people avoid, so this is a feature we’re looking forward to offering.</p>\n<h3 id=\"More-applications\"><a href=\"#More-applications\" class=\"headerlink\" title=\"More applications\"></a>More applications</h3><p>Lots of users have requested that we add a few more applications to CryptPad, and we’ve been listening!\nWe plan to add support for spreadsheets, and possibly other applications so that people don’t have to fall back to using an unencrypted CryptPad alternative.</p>\n<h3 id=\"Scalability\"><a href=\"#Scalability\" class=\"headerlink\" title=\"Scalability\"></a>Scalability</h3><p>One advantage CryptPad has over other conventional collaboration platforms is that a lot of the difficult computation is run in the users’ browsers, rather than on our server.\nThis means that we can support a very large number of clients without a noticeable decrease in performance.\nEven so, the number of people using <em>CryptPad.fr</em> and the amount they use it has increased dramatically.</p>\n<p>Though excessive popularity is a wonderful problem to have, we’d like to avoid a situation where users have difficulty accessing our service, so improved scalability is something we’d like to work on.</p>\n<h2 id=\"Conclusion\"><a href=\"#Conclusion\" class=\"headerlink\" title=\"Conclusion\"></a>Conclusion</h2><p>We haven’t yet decided how long we intend for this release cycle to last, and we don’t have a set list of the exact goals we’d like to accomplish.\nWe’re taking a step back to decide where we’d like to go next.</p>\n<p>We recognize that CryptPad’s growth over the last year was driven largely by word of mouth between friends and colleagues who care about privacy.\nBy moving towards a more flexible schedule, we hope to make it easier to adapt to the frequent feedback we receive from people using CryptPad to help them accomplish a multitude of goals.</p>\n<p>We’re very interested in hearing what you think about this change.\nFeel free to reach out to us through any of the methods listed on <a href=\"https://cryptpad.fr/contact.html\" target=\"_blank\" rel=\"external\">our contact page</a>.</p>\n","excerpt":"","more":"<p>Approximately one year ago, we published an article about our intention to follow a <a href=\"/2017/02/24/Announcing-biweekly-releases/\">biweekly release schedule</a>.\nSince then, we’ve thought of every second Tuesday as <em>release day</em>.\nStarting with <a href=\"https://github.com/xwiki-labs/cryptpad/releases/tag/1.0.0\">the letter A</a> on February 21st, 2017 and ending with <a href=\"https://github.com/xwiki-labs/cryptpad/releases/tag/1.25.0\">the letter Z</a> on January 30th, 2018, we went through the whole latin alphabet.</p>\n<p>Throughout this self-imposed regimen, we managed to meet each deadline, though on occasion we had to stay at the office later than usual.\nAny time a release was more difficult than expected, we considered what went wrong and added a counter-measure to our release checklist (in CryptPad, naturally).\nEach release became easier than the one before, but even so, we found there were some drawbacks to this rigid schedule.</p>\n<h2 id=\"Changing-our-pace\"><a href=\"#Changing-our-pace\" class=\"headerlink\" title=\"Changing our pace\"></a>Changing our pace</h2><p>Having a regular rhythm for our releases trained us to break up complex features into components that could be implemented within a two week period.\nWith that in mind, not all tasks fit neatly within two weeks, and those larger tasks have had a tendency to get pushed to the next release.\nSo, now that we’ve finished one full year of releases, we’ve started to look more closely at those larger features which we’ve inadvertently neglected.\nThe tendency to procrastinate on especially difficult features is just another challenge to approach, but it’s been one which is somewhat more difficult to summarize within a <em>to do</em> list.</p>\n<p>As of CryptPad v1.26.0, we’re no longer following the strict biweekly schedule.\nTo be clear, this doesn’t mean we’re slowing down development.\nWe’re still <em>working on CryptPad consistently</em>.\nWe still plan to <em>deliver features to users</em> as soon as they are stable.\nWe still plan to <em>deploy on Tuesdays</em>, since it’s as early in the week as possible without falling on a Monday and deploying on a Friday is a <em>terrible idea</em>.</p>\n<p><img src=\"/images/iamdevloper_deploy_on_friday.jpeg\" alt=\"Should I release on a Friday?\" style=\"width:50%;\" /></p>\n<p>Some releases might happen in a single week.\nOthers might take stretch to three weeks or a full month, but we’ll do our best not to take any longer than that.\nWe try to be as transparent as possible with our plans, and so users should expect each release to also specify the projected date for the following release.</p>\n<h2 id=\"What’s-coming-next…\"><a href=\"#What’s-coming-next…\" class=\"headerlink\" title=\"What’s coming next…\"></a>What’s coming next…</h2><p>In the last year, we tried to find a balance between improving user security through the use of our <a href=\"2017/08/30/CryptPad-s-new-Secure-Cross-Domain-Iframe/\">sandboxing techniques</a>, and implementing the productivity features necessary for people to consider the security improvements an <em>added bonus</em> rather than an impractical ideology.\nThe core of our philosophy is that <em>security</em> and <em>ease of use</em> must be packaged together in order for tools like CryptPad to benefit users.</p>\n<p>While CryptPad is considerably more than a <em>proof-of-concept</em>, we don’t consider it anywhere close to being finished.\nAs heavy users of CryptPad ourselves, we are aware of its rough edges.\nOur community has been very supportive with our continued development, though, so we’re excited to be able to improve the following areas!</p>\n<h3 id=\"Sharing\"><a href=\"#Sharing\" class=\"headerlink\" title=\"Sharing\"></a>Sharing</h3><p>We spend a lot of time passing links between each other when collaborating on a project.\nIn order to do so <em>privately</em>, the sender and the receiver must both use an encrypted messenger, or else the message could be intercepted by a malicious third-party.\nThe necessity of having to use a second tool makes it so that CryptPad must always be used as <em>part of the solution</em>, rather than solving a user’s problem outright.</p>\n<p>We’d like to approach this problem with two improvements:</p>\n<ol>\n<li>integrate our existing encrypted messenger better with the rest of CryptPad’s functionality (as per <a href=\"https://github.com/xwiki-labs/cryptpad/issues/79\">this issue</a>)</li>\n<li>develop a method of sharing entire folder structures from a users drive, so that sharing can scale to support large-scale projects, a feature we call <em>Workgroups</em></li>\n</ol>\n<h3 id=\"Layered-protection\"><a href=\"#Layered-protection\" class=\"headerlink\" title=\"Layered protection\"></a>Layered protection</h3><p>Even if the link for a pad is shared securely, there is the possibility that somebody discovers that link through other (possibly malicious) means.\nWe’re interested in developing CryptPad’s basic two-tier permission system (edit/view) to address such concerns.\nThis could be accomplished in very different ways:</p>\n<ul>\n<li>add the ability to protect a pad with a password, so that anyone who finds the link must also know a secret value in order to retrieve the pad’s history from the server</li>\n<li>add the ability to encrypt messages such that only a designated set of users can decrypt them using public-key cryptography</li>\n</ul>\n<p>So far CryptPad only features a very limited set of cryptographic techniques.\nGoing forward, we hope to find ways to implement a more granular permission system which does not rely on the server behaving correctly.\nSome of these features are more in the realm of <em>applied-cryptography research</em> than <em>web application development</em>, so it’s very likely they’ll be implemented later, but we’re excited about them nevertheless.</p>\n<h3 id=\"Increased-trustworthiness\"><a href=\"#Increased-trustworthiness\" class=\"headerlink\" title=\"Increased trustworthiness\"></a>Increased trustworthiness</h3><p>Even though CryptPad performs its encryption in your browser, there is always the possibility that a compromised server could send malicious code to the browser which would cause it to reveal its secrets.\nWe’re interested in developing features which would mitigate these kinds of attacks against users, through a combination of modern browser features like <a href=\"https://developer.mozilla.org/en-US/docs/Web/Security/Subresource_Integrity\">sub-resource integrity</a>, and perhaps a registry of verified code signatures signed by us, the developers.</p>\n<p>It’s very difficult to make a web application secure against those responsible for delivering its source to your browser.\nWe’re actively searching for any kind of technique for securing that makes CryptPad a more robust platform for storing your data privately, even against ourselves.</p>\n<h3 id=\"Password-usability\"><a href=\"#Password-usability\" class=\"headerlink\" title=\"Password usability\"></a>Password usability</h3><p>CryptPad’s login system looks quite conventional at first glance, since it has a field for a <em>user-name</em> and <em>password</em> like most other web applications.\nUnlike those other applications, we never learn your user-name and password.\nInstead, your browser uses those fields to generate a unique secret value which you use to encrypt your drive, and accomplish a range of other tasks.\nThe downside of this approach is that if a user forgets their username or password, we can’t help them gain access to their documents.\nIf we could, we’d be able to access their documents ourselves.</p>\n<p>Fortunately, we’re not the only team building web applications that use cryptography, and so there has been some research into how to improve password-based workflows without revealing secrets data to the server’s host (us).\nWe’ve already received emails from users who’ve inadvertently locked themselves out of their accounts with no way to recover their data, and that’s a situation we’d like to help people avoid, so this is a feature we’re looking forward to offering.</p>\n<h3 id=\"More-applications\"><a href=\"#More-applications\" class=\"headerlink\" title=\"More applications\"></a>More applications</h3><p>Lots of users have requested that we add a few more applications to CryptPad, and we’ve been listening!\nWe plan to add support for spreadsheets, and possibly other applications so that people don’t have to fall back to using an unencrypted CryptPad alternative.</p>\n<h3 id=\"Scalability\"><a href=\"#Scalability\" class=\"headerlink\" title=\"Scalability\"></a>Scalability</h3><p>One advantage CryptPad has over other conventional collaboration platforms is that a lot of the difficult computation is run in the users’ browsers, rather than on our server.\nThis means that we can support a very large number of clients without a noticeable decrease in performance.\nEven so, the number of people using <em>CryptPad.fr</em> and the amount they use it has increased dramatically.</p>\n<p>Though excessive popularity is a wonderful problem to have, we’d like to avoid a situation where users have difficulty accessing our service, so improved scalability is something we’d like to work on.</p>\n<h2 id=\"Conclusion\"><a href=\"#Conclusion\" class=\"headerlink\" title=\"Conclusion\"></a>Conclusion</h2><p>We haven’t yet decided how long we intend for this release cycle to last, and we don’t have a set list of the exact goals we’d like to accomplish.\nWe’re taking a step back to decide where we’d like to go next.</p>\n<p>We recognize that CryptPad’s growth over the last year was driven largely by word of mouth between friends and colleagues who care about privacy.\nBy moving towards a more flexible schedule, we hope to make it easier to adapt to the frequent feedback we receive from people using CryptPad to help them accomplish a multitude of goals.</p>\n<p>We’re very interested in hearing what you think about this change.\nFeel free to reach out to us through any of the methods listed on <a href=\"https://cryptpad.fr/contact.html\">our contact page</a>.</p>\n"},{"title":"Security growing pains","date":"2017-03-06T10:04:58.000Z","author":"Caleb James Delisle","_content":"\n*Update: The issue mentioned in this blog post was assigned [CVE-2017-1000051](https://github.com/distributedweaknessfiling/DWF-CVE-2017-1000000/blob/f2e15ac3468dd382d9ffa3d5acc032c106f3248c/CVE-2017-1000051.json) by Distributed Weakness Filing, thanks Martin Gubri for applying for the number.*\n\nTo sum things up:\n\n1. [Martin Gubri](https://github.com/Framartin) volunteered to help us with security testing and found multiple XSS vulnerabilities\n2. We learned things and improved our security in multiple ways and we have plans to build even further improvements\n3. Update all the things\n\n## Exactly what happened\n\nLate Tuesday night after work, I got an email from Martin Gubri telling me that he had found multiple XSS vulnerabilities in CryptPad.\nThis is not fun news for anybody, but as the browser stores encryption keys, it is especially bad news.\nI want to reiterate what I said in [our first blog post](https://blog.cryptpad.fr/2017/02/20/Time-to-Encrypt-the-Cloud/ \"Time to Encrypt the Cloud\"), CryptPad is just a regular web app but with provable ethics, it is not designed to provide military grade security.\n\nThough we could have waited until our next release to fix this issue, we decided that we could not feel good working on new features while knowing about an issue which could harm our users.\nHowever, we wanted to fix the systemic issue which caused XSS to be possible in the first place, not just the symptoms which we became aware of.\n\nCryptPad uses a modern web feature called [Content Security Policy](https://en.wikipedia.org/wiki/Content_Security_Policy) to prevent attacks such as this one.\nContent Security Policy allows a web server to mandate that javascript can only be loaded from domains which are explicitly authorized.\nUnfortunately, CKEditor [makes heavy usage of inline scripts](https://dev.ckeditor.com/ticket/8584) (scripts which are written directly into the HTML file), so we had made an exception for inline script which represents the most common type of XSS.\nWhen Martin did a review of our application, he found multiple places where we had not been properly escaping HTML content and sadly all of these were attackable despite our Content Security Policy.\n\n## How we reacted\n\nFor me, a security bug does not come alone, it is always the result of multiple failures at different levels.\nZero Knowledge is about resilient software for resilient society and we allowed ourselves to rely entirely on proper escaping.\n\nOn Thursday, March 6th, 2017, we deployed and released a set of patches to our previous [Bunyip release](https://github.com/xwiki-labs/cryptpad/releases/tag/1.1.0), which we're calling [1.1.1 _Bunyip's Revenge_](https://github.com/xwiki-labs/cryptpad/releases/tag/1.1.1).\nThis not only sanitizes XSS in places where we know about but it also implements a strong Content Security Policy everywhere except inside of the CKEditor iframe, which insists on injecting script tags.\n\nIt is important to upgrade as soon as possible because XSS attacks can potentially give an adversary access to all of your pads.\nIf you're using cryptpad.fr on the website then there's nothing you need to do, everything is fixed.\n\n## Moving forward\n\nWe want to find and pioneer better ways of protecting your data on CryptPad.\nWe also hope to foster a whole movement of Zero Knowledge web services which feature layered security, protecting users from external threats as well as the mistakes that developers are sure to make.\n\nSpurred on by the revelation of our own errors, we have reinvigorated a conversation about moving each of the _apps_ such as CKEditor into a [sandboxed iframe](https://www.html5rocks.com/en/tutorials/security/sandboxed-iframes/) where they would be unable to access any of the cryptographic keys or other pads.\nThis introduces some difficulty on our end, as we want to provide a resilient platform while making Zero Knowledge an approachable subject for web developers.\n\nFinally I would like to also publically thank our friend [_kpcyrd_](https://github.com/kpcyrd) for finding another XSS issue back in early December of 2016, before we had official releases or a blog where we could give him credit for his work.\n\n\n","source":"_posts/Security-growing-pains.md","raw":"---\ntitle: Security growing pains\ndate: 2017-03-06 11:04:58\nauthor: Caleb James Delisle\ntags:\n  - security\n  - xss\n---\n\n*Update: The issue mentioned in this blog post was assigned [CVE-2017-1000051](https://github.com/distributedweaknessfiling/DWF-CVE-2017-1000000/blob/f2e15ac3468dd382d9ffa3d5acc032c106f3248c/CVE-2017-1000051.json) by Distributed Weakness Filing, thanks Martin Gubri for applying for the number.*\n\nTo sum things up:\n\n1. [Martin Gubri](https://github.com/Framartin) volunteered to help us with security testing and found multiple XSS vulnerabilities\n2. We learned things and improved our security in multiple ways and we have plans to build even further improvements\n3. Update all the things\n\n## Exactly what happened\n\nLate Tuesday night after work, I got an email from Martin Gubri telling me that he had found multiple XSS vulnerabilities in CryptPad.\nThis is not fun news for anybody, but as the browser stores encryption keys, it is especially bad news.\nI want to reiterate what I said in [our first blog post](https://blog.cryptpad.fr/2017/02/20/Time-to-Encrypt-the-Cloud/ \"Time to Encrypt the Cloud\"), CryptPad is just a regular web app but with provable ethics, it is not designed to provide military grade security.\n\nThough we could have waited until our next release to fix this issue, we decided that we could not feel good working on new features while knowing about an issue which could harm our users.\nHowever, we wanted to fix the systemic issue which caused XSS to be possible in the first place, not just the symptoms which we became aware of.\n\nCryptPad uses a modern web feature called [Content Security Policy](https://en.wikipedia.org/wiki/Content_Security_Policy) to prevent attacks such as this one.\nContent Security Policy allows a web server to mandate that javascript can only be loaded from domains which are explicitly authorized.\nUnfortunately, CKEditor [makes heavy usage of inline scripts](https://dev.ckeditor.com/ticket/8584) (scripts which are written directly into the HTML file), so we had made an exception for inline script which represents the most common type of XSS.\nWhen Martin did a review of our application, he found multiple places where we had not been properly escaping HTML content and sadly all of these were attackable despite our Content Security Policy.\n\n## How we reacted\n\nFor me, a security bug does not come alone, it is always the result of multiple failures at different levels.\nZero Knowledge is about resilient software for resilient society and we allowed ourselves to rely entirely on proper escaping.\n\nOn Thursday, March 6th, 2017, we deployed and released a set of patches to our previous [Bunyip release](https://github.com/xwiki-labs/cryptpad/releases/tag/1.1.0), which we're calling [1.1.1 _Bunyip's Revenge_](https://github.com/xwiki-labs/cryptpad/releases/tag/1.1.1).\nThis not only sanitizes XSS in places where we know about but it also implements a strong Content Security Policy everywhere except inside of the CKEditor iframe, which insists on injecting script tags.\n\nIt is important to upgrade as soon as possible because XSS attacks can potentially give an adversary access to all of your pads.\nIf you're using cryptpad.fr on the website then there's nothing you need to do, everything is fixed.\n\n## Moving forward\n\nWe want to find and pioneer better ways of protecting your data on CryptPad.\nWe also hope to foster a whole movement of Zero Knowledge web services which feature layered security, protecting users from external threats as well as the mistakes that developers are sure to make.\n\nSpurred on by the revelation of our own errors, we have reinvigorated a conversation about moving each of the _apps_ such as CKEditor into a [sandboxed iframe](https://www.html5rocks.com/en/tutorials/security/sandboxed-iframes/) where they would be unable to access any of the cryptographic keys or other pads.\nThis introduces some difficulty on our end, as we want to provide a resilient platform while making Zero Knowledge an approachable subject for web developers.\n\nFinally I would like to also publically thank our friend [_kpcyrd_](https://github.com/kpcyrd) for finding another XSS issue back in early December of 2016, before we had official releases or a blog where we could give him credit for his work.\n\n\n","slug":"Security-growing-pains","published":1,"updated":"2018-06-15T10:06:34.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjjttvr09000l7ezftghwjgn8","content":"<p><em>Update: The issue mentioned in this blog post was assigned <a href=\"https://github.com/distributedweaknessfiling/DWF-CVE-2017-1000000/blob/f2e15ac3468dd382d9ffa3d5acc032c106f3248c/CVE-2017-1000051.json\" target=\"_blank\" rel=\"external\">CVE-2017-1000051</a> by Distributed Weakness Filing, thanks Martin Gubri for applying for the number.</em></p>\n<p>To sum things up:</p>\n<ol>\n<li><a href=\"https://github.com/Framartin\" target=\"_blank\" rel=\"external\">Martin Gubri</a> volunteered to help us with security testing and found multiple XSS vulnerabilities</li>\n<li>We learned things and improved our security in multiple ways and we have plans to build even further improvements</li>\n<li>Update all the things</li>\n</ol>\n<h2 id=\"Exactly-what-happened\"><a href=\"#Exactly-what-happened\" class=\"headerlink\" title=\"Exactly what happened\"></a>Exactly what happened</h2><p>Late Tuesday night after work, I got an email from Martin Gubri telling me that he had found multiple XSS vulnerabilities in CryptPad.\nThis is not fun news for anybody, but as the browser stores encryption keys, it is especially bad news.\nI want to reiterate what I said in <a href=\"https://blog.cryptpad.fr/2017/02/20/Time-to-Encrypt-the-Cloud/\" title=\"Time to Encrypt the Cloud\">our first blog post</a>, CryptPad is just a regular web app but with provable ethics, it is not designed to provide military grade security.</p>\n<p>Though we could have waited until our next release to fix this issue, we decided that we could not feel good working on new features while knowing about an issue which could harm our users.\nHowever, we wanted to fix the systemic issue which caused XSS to be possible in the first place, not just the symptoms which we became aware of.</p>\n<p>CryptPad uses a modern web feature called <a href=\"https://en.wikipedia.org/wiki/Content_Security_Policy\" target=\"_blank\" rel=\"external\">Content Security Policy</a> to prevent attacks such as this one.\nContent Security Policy allows a web server to mandate that javascript can only be loaded from domains which are explicitly authorized.\nUnfortunately, CKEditor <a href=\"https://dev.ckeditor.com/ticket/8584\" target=\"_blank\" rel=\"external\">makes heavy usage of inline scripts</a> (scripts which are written directly into the HTML file), so we had made an exception for inline script which represents the most common type of XSS.\nWhen Martin did a review of our application, he found multiple places where we had not been properly escaping HTML content and sadly all of these were attackable despite our Content Security Policy.</p>\n<h2 id=\"How-we-reacted\"><a href=\"#How-we-reacted\" class=\"headerlink\" title=\"How we reacted\"></a>How we reacted</h2><p>For me, a security bug does not come alone, it is always the result of multiple failures at different levels.\nZero Knowledge is about resilient software for resilient society and we allowed ourselves to rely entirely on proper escaping.</p>\n<p>On Thursday, March 6th, 2017, we deployed and released a set of patches to our previous <a href=\"https://github.com/xwiki-labs/cryptpad/releases/tag/1.1.0\" target=\"_blank\" rel=\"external\">Bunyip release</a>, which we’re calling <a href=\"https://github.com/xwiki-labs/cryptpad/releases/tag/1.1.1\" target=\"_blank\" rel=\"external\">1.1.1 <em>Bunyip’s Revenge</em></a>.\nThis not only sanitizes XSS in places where we know about but it also implements a strong Content Security Policy everywhere except inside of the CKEditor iframe, which insists on injecting script tags.</p>\n<p>It is important to upgrade as soon as possible because XSS attacks can potentially give an adversary access to all of your pads.\nIf you’re using cryptpad.fr on the website then there’s nothing you need to do, everything is fixed.</p>\n<h2 id=\"Moving-forward\"><a href=\"#Moving-forward\" class=\"headerlink\" title=\"Moving forward\"></a>Moving forward</h2><p>We want to find and pioneer better ways of protecting your data on CryptPad.\nWe also hope to foster a whole movement of Zero Knowledge web services which feature layered security, protecting users from external threats as well as the mistakes that developers are sure to make.</p>\n<p>Spurred on by the revelation of our own errors, we have reinvigorated a conversation about moving each of the <em>apps</em> such as CKEditor into a <a href=\"https://www.html5rocks.com/en/tutorials/security/sandboxed-iframes/\" target=\"_blank\" rel=\"external\">sandboxed iframe</a> where they would be unable to access any of the cryptographic keys or other pads.\nThis introduces some difficulty on our end, as we want to provide a resilient platform while making Zero Knowledge an approachable subject for web developers.</p>\n<p>Finally I would like to also publically thank our friend <a href=\"https://github.com/kpcyrd\" target=\"_blank\" rel=\"external\"><em>kpcyrd</em></a> for finding another XSS issue back in early December of 2016, before we had official releases or a blog where we could give him credit for his work.</p>\n","excerpt":"","more":"<p><em>Update: The issue mentioned in this blog post was assigned <a href=\"https://github.com/distributedweaknessfiling/DWF-CVE-2017-1000000/blob/f2e15ac3468dd382d9ffa3d5acc032c106f3248c/CVE-2017-1000051.json\">CVE-2017-1000051</a> by Distributed Weakness Filing, thanks Martin Gubri for applying for the number.</em></p>\n<p>To sum things up:</p>\n<ol>\n<li><a href=\"https://github.com/Framartin\">Martin Gubri</a> volunteered to help us with security testing and found multiple XSS vulnerabilities</li>\n<li>We learned things and improved our security in multiple ways and we have plans to build even further improvements</li>\n<li>Update all the things</li>\n</ol>\n<h2 id=\"Exactly-what-happened\"><a href=\"#Exactly-what-happened\" class=\"headerlink\" title=\"Exactly what happened\"></a>Exactly what happened</h2><p>Late Tuesday night after work, I got an email from Martin Gubri telling me that he had found multiple XSS vulnerabilities in CryptPad.\nThis is not fun news for anybody, but as the browser stores encryption keys, it is especially bad news.\nI want to reiterate what I said in <a href=\"https://blog.cryptpad.fr/2017/02/20/Time-to-Encrypt-the-Cloud/\" title=\"Time to Encrypt the Cloud\">our first blog post</a>, CryptPad is just a regular web app but with provable ethics, it is not designed to provide military grade security.</p>\n<p>Though we could have waited until our next release to fix this issue, we decided that we could not feel good working on new features while knowing about an issue which could harm our users.\nHowever, we wanted to fix the systemic issue which caused XSS to be possible in the first place, not just the symptoms which we became aware of.</p>\n<p>CryptPad uses a modern web feature called <a href=\"https://en.wikipedia.org/wiki/Content_Security_Policy\">Content Security Policy</a> to prevent attacks such as this one.\nContent Security Policy allows a web server to mandate that javascript can only be loaded from domains which are explicitly authorized.\nUnfortunately, CKEditor <a href=\"https://dev.ckeditor.com/ticket/8584\">makes heavy usage of inline scripts</a> (scripts which are written directly into the HTML file), so we had made an exception for inline script which represents the most common type of XSS.\nWhen Martin did a review of our application, he found multiple places where we had not been properly escaping HTML content and sadly all of these were attackable despite our Content Security Policy.</p>\n<h2 id=\"How-we-reacted\"><a href=\"#How-we-reacted\" class=\"headerlink\" title=\"How we reacted\"></a>How we reacted</h2><p>For me, a security bug does not come alone, it is always the result of multiple failures at different levels.\nZero Knowledge is about resilient software for resilient society and we allowed ourselves to rely entirely on proper escaping.</p>\n<p>On Thursday, March 6th, 2017, we deployed and released a set of patches to our previous <a href=\"https://github.com/xwiki-labs/cryptpad/releases/tag/1.1.0\">Bunyip release</a>, which we’re calling <a href=\"https://github.com/xwiki-labs/cryptpad/releases/tag/1.1.1\">1.1.1 <em>Bunyip’s Revenge</em></a>.\nThis not only sanitizes XSS in places where we know about but it also implements a strong Content Security Policy everywhere except inside of the CKEditor iframe, which insists on injecting script tags.</p>\n<p>It is important to upgrade as soon as possible because XSS attacks can potentially give an adversary access to all of your pads.\nIf you’re using cryptpad.fr on the website then there’s nothing you need to do, everything is fixed.</p>\n<h2 id=\"Moving-forward\"><a href=\"#Moving-forward\" class=\"headerlink\" title=\"Moving forward\"></a>Moving forward</h2><p>We want to find and pioneer better ways of protecting your data on CryptPad.\nWe also hope to foster a whole movement of Zero Knowledge web services which feature layered security, protecting users from external threats as well as the mistakes that developers are sure to make.</p>\n<p>Spurred on by the revelation of our own errors, we have reinvigorated a conversation about moving each of the <em>apps</em> such as CKEditor into a <a href=\"https://www.html5rocks.com/en/tutorials/security/sandboxed-iframes/\">sandboxed iframe</a> where they would be unable to access any of the cryptographic keys or other pads.\nThis introduces some difficulty on our end, as we want to provide a resilient platform while making Zero Knowledge an approachable subject for web developers.</p>\n<p>Finally I would like to also publically thank our friend <a href=\"https://github.com/kpcyrd\"><em>kpcyrd</em></a> for finding another XSS issue back in early December of 2016, before we had official releases or a blog where we could give him credit for his work.</p>\n"},{"title":"Time to Encrypt the Cloud","date":"2017-02-20T16:54:02.000Z","author":"Caleb James DeLisle","_content":"\nFrom typing a business letter to taking pictures with friends, the internet has changed every part of our lives.\nWe don't just share information with people, we also want it synced across our computers, tablets, and phones.\n\nModern technology allows us to do this, but it does so by sending all our data to _the Cloud_.\n\nA lot of what we think of as the Cloud is owned by multinational corporations like Google.\nThough they may seem like innocent custodians of our data, behind the scenes they are often using it to target us with advertising.\n\n## There is little that one person can do\n\nTerms of service are long, vague documents which usually don't address knowledge _derived_ from your data.\nMore sinister: you can never really know if they're cheating.\nAd networks don't tell you how they know or even what they know.\nThey just show you ads, based on what they discovered about you... _somehow_.\n\n## What's your personal information worth?\n\n* Normally  $0.0005 - $0.0021 per person\n* Pregnant in your second trimester? $0.11 (_52 times as much_)\n* Have a specific health condition? $0.26 (_123 times as much_)\n\nThis is only going to get worse.\nArtificial Intelligence technology is maturing and Silicon Valley is using it to derive even more value from _us_, its most valuable products.\n\nThe result of this will be a veritable weapon of mass manipulation.\nThe tragedy is, manipulating people to get what you want is not that complex.\nWe don't need to wait for the AI singularity, all we need is a deep mind with the cleverness of a spoiled 5 year old.\n\n>  _All data, over time, approaches deleted, or public._\n>\n> --Quinn Norton\n\nWhile we must seek to use services with ethical foundations, we must also recognize that once we give up our data, we are at the mercy of economics.\nCompanies which don't _extract maximum value_ from our data will eventually be acquired by those which do.\n\n## Zero Knowledge\n\nFortunately we don't have to go back to the typewriter age.\nUsing basic cryptography, the cloud can make information available across your devices without being able to read the data which it stores.\n\nWe do this by adding a hash character (#) to a link.\nBy design, browsers don't share anything after this character.\nThat means we can share encryption keys just by sharing links.\nFurthermore, a username and password can be made into a secret key which allows a person's private data to be kept encrypted using their login credentials.\n\n## How do we know you're secure?\n\nZero Knowledge web apps are not intended to _make you secure_, they're intended to be _provably ethical_.\nThis cannot be overstated, for too long we have been forced to choose between \"James Bond\" security protocols which are too difficult to use, and slick web apps which monetize your data.\n\n> _Our promise to you is that our business model is not to spy on you, and it never will be_.\n\nWe hope that the security community will join us in building user-friendly, Zero Knowledge services.\nPrivacy is a social problem as much as it is a mathematical one, and it is time we take that seriously.\n\n## What we're going to do\n\nWe are going to show the world that web apps can be elegant and usable while still respecting privacy in a verifiable way.\nWe cannot easily prove that we've never collected any data but we can prove we're not doing it systematically.\n\nTo start off this conversation, we have developed [CryptPad](https://cryptpad.fr), the first ever Zero Knowledge Realtime Collaborative Editor.\nWe are aiming to make it the most user friendly, most productive collaboration tool available, and still Zero Knowledge.\n\nFinally, we have chosen to make the CryptPad project [Open Source](https://github.com/xwiki-labs/cryptpad).\nWe did this not only because Open Source is in our culture, but also because we want Zero Knowledge web apps to become the universal standard.\n\n### The plan in four steps\n\n1. Develop the most user friendly collaboration tool available which is also Zero Knowledge.\n2. Use this tool to explain the problem and show that an alternative is possible.\n3. Open Source the work we do so that others can also build Zero Knowledge apps.\n4. Foster a culture where privacy by default is a baseline expectation.\n\n## How you can help\n\n* Use CryptPad and other Zero Knowledge services evey day, tell us what you like and what we can do better.\n* Show your support: Buy an upgraded account (_coming soon_) from us, the people who are developing the code.\n* If you install the Open Source code of CryptPad on your own servers, consider buying a support contract.\n* Talk to your friends and colleagues about Zero Knowledge, show them CryptPad and explain that this is what the cloud can be.\n* If you're a web developer, think about Zero Knowledge for your next web app.\n\n## Other Zero Knowledge Services\n\n### Open Source\n\n* Sync backups to Google or Dropbox and force them to become Zero Knowledge\n  * https://cryptomator.org/\n  * Source Code: https://github.com/cryptomator/cryptomator\n* Easy chrome extension for gmail users to send & receive end-to-end encrypted email\n  * https://cryptup.org/\n  * Source Code: https://github.com/tomholub/cryptup-chrome\n* Send and receive end-to-end encrypted email using your normal email account (Mobile, Desktop version coming soon)\n  * https://prettyeasyprivacy.com/\n  * https://cacert.pep.foundation/trac\n* Send end-to-end encrypted text messages on a phone or computer\n  * https://wire.com/en/\n  * https://github.com/wireapp/\n* Send end-to-end encrypted text messages on your phone\n  * https://whispersystems.org/\n  * Source Code: https://github.com/whispersystems\n* Type or paste a message and give the link to friends\n  * https://ncry.pt/  (Source code: https://github.com/luggs-co/ncrypt)\n  * https://privatebin.net/ (Source code: https://github.com/PrivateBin/PrivateBin)\n* Chat online with lots of people at once\n  * https://riot.im/  **NOTE:** End-to-end encryption mode in beta so currently disabled by default\n  * Source code: https://github.com/vector-im\n\n### Proprietary\n\nWhile we value Open Source, the need for Zero Knowledge Cloud is paramount and we respect the\ndecision of some organizations to keep parts of their codebases proprietary.\n\n* Data backup\n  * https://www.boxcryptor.com/en\n  * https://whisp.ly/en\n  * https://www.sync.com/\n  * https://www.pcloud.com\n  * https://spideroak.com/personal/spideroak-one\n* Chat and instant messaging\n  * https://spideroak.com/personal/semaphor\n* Send and receive end-to-end encrypted email\n  * https://protonmail.com/\n* Web of trust and proof of identity\n  * https://keybase.io/\n\n\nAn important one which we forgot? [Get in touch](https://cryptpad.fr/contact.html)!\n\n### Updated\n\n* August 9, 2017, Wire is now fully Open Source, yay\n","source":"_posts/Time-to-Encrypt-the-Cloud.md","raw":"---\ntitle: Time to Encrypt the Cloud\ndate: 2017-02-20 17:54:02\nauthor: Caleb James DeLisle\ntags:\n  - zero knowledge\n---\n\nFrom typing a business letter to taking pictures with friends, the internet has changed every part of our lives.\nWe don't just share information with people, we also want it synced across our computers, tablets, and phones.\n\nModern technology allows us to do this, but it does so by sending all our data to _the Cloud_.\n\nA lot of what we think of as the Cloud is owned by multinational corporations like Google.\nThough they may seem like innocent custodians of our data, behind the scenes they are often using it to target us with advertising.\n\n## There is little that one person can do\n\nTerms of service are long, vague documents which usually don't address knowledge _derived_ from your data.\nMore sinister: you can never really know if they're cheating.\nAd networks don't tell you how they know or even what they know.\nThey just show you ads, based on what they discovered about you... _somehow_.\n\n## What's your personal information worth?\n\n* Normally  $0.0005 - $0.0021 per person\n* Pregnant in your second trimester? $0.11 (_52 times as much_)\n* Have a specific health condition? $0.26 (_123 times as much_)\n\nThis is only going to get worse.\nArtificial Intelligence technology is maturing and Silicon Valley is using it to derive even more value from _us_, its most valuable products.\n\nThe result of this will be a veritable weapon of mass manipulation.\nThe tragedy is, manipulating people to get what you want is not that complex.\nWe don't need to wait for the AI singularity, all we need is a deep mind with the cleverness of a spoiled 5 year old.\n\n>  _All data, over time, approaches deleted, or public._\n>\n> --Quinn Norton\n\nWhile we must seek to use services with ethical foundations, we must also recognize that once we give up our data, we are at the mercy of economics.\nCompanies which don't _extract maximum value_ from our data will eventually be acquired by those which do.\n\n## Zero Knowledge\n\nFortunately we don't have to go back to the typewriter age.\nUsing basic cryptography, the cloud can make information available across your devices without being able to read the data which it stores.\n\nWe do this by adding a hash character (#) to a link.\nBy design, browsers don't share anything after this character.\nThat means we can share encryption keys just by sharing links.\nFurthermore, a username and password can be made into a secret key which allows a person's private data to be kept encrypted using their login credentials.\n\n## How do we know you're secure?\n\nZero Knowledge web apps are not intended to _make you secure_, they're intended to be _provably ethical_.\nThis cannot be overstated, for too long we have been forced to choose between \"James Bond\" security protocols which are too difficult to use, and slick web apps which monetize your data.\n\n> _Our promise to you is that our business model is not to spy on you, and it never will be_.\n\nWe hope that the security community will join us in building user-friendly, Zero Knowledge services.\nPrivacy is a social problem as much as it is a mathematical one, and it is time we take that seriously.\n\n## What we're going to do\n\nWe are going to show the world that web apps can be elegant and usable while still respecting privacy in a verifiable way.\nWe cannot easily prove that we've never collected any data but we can prove we're not doing it systematically.\n\nTo start off this conversation, we have developed [CryptPad](https://cryptpad.fr), the first ever Zero Knowledge Realtime Collaborative Editor.\nWe are aiming to make it the most user friendly, most productive collaboration tool available, and still Zero Knowledge.\n\nFinally, we have chosen to make the CryptPad project [Open Source](https://github.com/xwiki-labs/cryptpad).\nWe did this not only because Open Source is in our culture, but also because we want Zero Knowledge web apps to become the universal standard.\n\n### The plan in four steps\n\n1. Develop the most user friendly collaboration tool available which is also Zero Knowledge.\n2. Use this tool to explain the problem and show that an alternative is possible.\n3. Open Source the work we do so that others can also build Zero Knowledge apps.\n4. Foster a culture where privacy by default is a baseline expectation.\n\n## How you can help\n\n* Use CryptPad and other Zero Knowledge services evey day, tell us what you like and what we can do better.\n* Show your support: Buy an upgraded account (_coming soon_) from us, the people who are developing the code.\n* If you install the Open Source code of CryptPad on your own servers, consider buying a support contract.\n* Talk to your friends and colleagues about Zero Knowledge, show them CryptPad and explain that this is what the cloud can be.\n* If you're a web developer, think about Zero Knowledge for your next web app.\n\n## Other Zero Knowledge Services\n\n### Open Source\n\n* Sync backups to Google or Dropbox and force them to become Zero Knowledge\n  * https://cryptomator.org/\n  * Source Code: https://github.com/cryptomator/cryptomator\n* Easy chrome extension for gmail users to send & receive end-to-end encrypted email\n  * https://cryptup.org/\n  * Source Code: https://github.com/tomholub/cryptup-chrome\n* Send and receive end-to-end encrypted email using your normal email account (Mobile, Desktop version coming soon)\n  * https://prettyeasyprivacy.com/\n  * https://cacert.pep.foundation/trac\n* Send end-to-end encrypted text messages on a phone or computer\n  * https://wire.com/en/\n  * https://github.com/wireapp/\n* Send end-to-end encrypted text messages on your phone\n  * https://whispersystems.org/\n  * Source Code: https://github.com/whispersystems\n* Type or paste a message and give the link to friends\n  * https://ncry.pt/  (Source code: https://github.com/luggs-co/ncrypt)\n  * https://privatebin.net/ (Source code: https://github.com/PrivateBin/PrivateBin)\n* Chat online with lots of people at once\n  * https://riot.im/  **NOTE:** End-to-end encryption mode in beta so currently disabled by default\n  * Source code: https://github.com/vector-im\n\n### Proprietary\n\nWhile we value Open Source, the need for Zero Knowledge Cloud is paramount and we respect the\ndecision of some organizations to keep parts of their codebases proprietary.\n\n* Data backup\n  * https://www.boxcryptor.com/en\n  * https://whisp.ly/en\n  * https://www.sync.com/\n  * https://www.pcloud.com\n  * https://spideroak.com/personal/spideroak-one\n* Chat and instant messaging\n  * https://spideroak.com/personal/semaphor\n* Send and receive end-to-end encrypted email\n  * https://protonmail.com/\n* Web of trust and proof of identity\n  * https://keybase.io/\n\n\nAn important one which we forgot? [Get in touch](https://cryptpad.fr/contact.html)!\n\n### Updated\n\n* August 9, 2017, Wire is now fully Open Source, yay\n","slug":"Time-to-Encrypt-the-Cloud","published":1,"updated":"2018-06-15T10:06:34.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjjttvr0b000o7ezfsh0iw1qk","content":"<p>From typing a business letter to taking pictures with friends, the internet has changed every part of our lives.\nWe don’t just share information with people, we also want it synced across our computers, tablets, and phones.</p>\n<p>Modern technology allows us to do this, but it does so by sending all our data to <em>the Cloud</em>.</p>\n<p>A lot of what we think of as the Cloud is owned by multinational corporations like Google.\nThough they may seem like innocent custodians of our data, behind the scenes they are often using it to target us with advertising.</p>\n<h2 id=\"There-is-little-that-one-person-can-do\"><a href=\"#There-is-little-that-one-person-can-do\" class=\"headerlink\" title=\"There is little that one person can do\"></a>There is little that one person can do</h2><p>Terms of service are long, vague documents which usually don’t address knowledge <em>derived</em> from your data.\nMore sinister: you can never really know if they’re cheating.\nAd networks don’t tell you how they know or even what they know.\nThey just show you ads, based on what they discovered about you… <em>somehow</em>.</p>\n<h2 id=\"What’s-your-personal-information-worth\"><a href=\"#What’s-your-personal-information-worth\" class=\"headerlink\" title=\"What’s your personal information worth?\"></a>What’s your personal information worth?</h2><ul>\n<li>Normally  $0.0005 - $0.0021 per person</li>\n<li>Pregnant in your second trimester? $0.11 (<em>52 times as much</em>)</li>\n<li>Have a specific health condition? $0.26 (<em>123 times as much</em>)</li>\n</ul>\n<p>This is only going to get worse.\nArtificial Intelligence technology is maturing and Silicon Valley is using it to derive even more value from <em>us</em>, its most valuable products.</p>\n<p>The result of this will be a veritable weapon of mass manipulation.\nThe tragedy is, manipulating people to get what you want is not that complex.\nWe don’t need to wait for the AI singularity, all we need is a deep mind with the cleverness of a spoiled 5 year old.</p>\n<blockquote>\n<p> <em>All data, over time, approaches deleted, or public.</em></p>\n<p>–Quinn Norton</p>\n</blockquote>\n<p>While we must seek to use services with ethical foundations, we must also recognize that once we give up our data, we are at the mercy of economics.\nCompanies which don’t <em>extract maximum value</em> from our data will eventually be acquired by those which do.</p>\n<h2 id=\"Zero-Knowledge\"><a href=\"#Zero-Knowledge\" class=\"headerlink\" title=\"Zero Knowledge\"></a>Zero Knowledge</h2><p>Fortunately we don’t have to go back to the typewriter age.\nUsing basic cryptography, the cloud can make information available across your devices without being able to read the data which it stores.</p>\n<p>We do this by adding a hash character (#) to a link.\nBy design, browsers don’t share anything after this character.\nThat means we can share encryption keys just by sharing links.\nFurthermore, a username and password can be made into a secret key which allows a person’s private data to be kept encrypted using their login credentials.</p>\n<h2 id=\"How-do-we-know-you’re-secure\"><a href=\"#How-do-we-know-you’re-secure\" class=\"headerlink\" title=\"How do we know you’re secure?\"></a>How do we know you’re secure?</h2><p>Zero Knowledge web apps are not intended to <em>make you secure</em>, they’re intended to be <em>provably ethical</em>.\nThis cannot be overstated, for too long we have been forced to choose between “James Bond” security protocols which are too difficult to use, and slick web apps which monetize your data.</p>\n<blockquote>\n<p><em>Our promise to you is that our business model is not to spy on you, and it never will be</em>.</p>\n</blockquote>\n<p>We hope that the security community will join us in building user-friendly, Zero Knowledge services.\nPrivacy is a social problem as much as it is a mathematical one, and it is time we take that seriously.</p>\n<h2 id=\"What-we’re-going-to-do\"><a href=\"#What-we’re-going-to-do\" class=\"headerlink\" title=\"What we’re going to do\"></a>What we’re going to do</h2><p>We are going to show the world that web apps can be elegant and usable while still respecting privacy in a verifiable way.\nWe cannot easily prove that we’ve never collected any data but we can prove we’re not doing it systematically.</p>\n<p>To start off this conversation, we have developed <a href=\"https://cryptpad.fr\" target=\"_blank\" rel=\"external\">CryptPad</a>, the first ever Zero Knowledge Realtime Collaborative Editor.\nWe are aiming to make it the most user friendly, most productive collaboration tool available, and still Zero Knowledge.</p>\n<p>Finally, we have chosen to make the CryptPad project <a href=\"https://github.com/xwiki-labs/cryptpad\" target=\"_blank\" rel=\"external\">Open Source</a>.\nWe did this not only because Open Source is in our culture, but also because we want Zero Knowledge web apps to become the universal standard.</p>\n<h3 id=\"The-plan-in-four-steps\"><a href=\"#The-plan-in-four-steps\" class=\"headerlink\" title=\"The plan in four steps\"></a>The plan in four steps</h3><ol>\n<li>Develop the most user friendly collaboration tool available which is also Zero Knowledge.</li>\n<li>Use this tool to explain the problem and show that an alternative is possible.</li>\n<li>Open Source the work we do so that others can also build Zero Knowledge apps.</li>\n<li>Foster a culture where privacy by default is a baseline expectation.</li>\n</ol>\n<h2 id=\"How-you-can-help\"><a href=\"#How-you-can-help\" class=\"headerlink\" title=\"How you can help\"></a>How you can help</h2><ul>\n<li>Use CryptPad and other Zero Knowledge services evey day, tell us what you like and what we can do better.</li>\n<li>Show your support: Buy an upgraded account (<em>coming soon</em>) from us, the people who are developing the code.</li>\n<li>If you install the Open Source code of CryptPad on your own servers, consider buying a support contract.</li>\n<li>Talk to your friends and colleagues about Zero Knowledge, show them CryptPad and explain that this is what the cloud can be.</li>\n<li>If you’re a web developer, think about Zero Knowledge for your next web app.</li>\n</ul>\n<h2 id=\"Other-Zero-Knowledge-Services\"><a href=\"#Other-Zero-Knowledge-Services\" class=\"headerlink\" title=\"Other Zero Knowledge Services\"></a>Other Zero Knowledge Services</h2><h3 id=\"Open-Source\"><a href=\"#Open-Source\" class=\"headerlink\" title=\"Open Source\"></a>Open Source</h3><ul>\n<li>Sync backups to Google or Dropbox and force them to become Zero Knowledge<ul>\n<li><a href=\"https://cryptomator.org/\" target=\"_blank\" rel=\"external\">https://cryptomator.org/</a></li>\n<li>Source Code: <a href=\"https://github.com/cryptomator/cryptomator\" target=\"_blank\" rel=\"external\">https://github.com/cryptomator/cryptomator</a></li>\n</ul>\n</li>\n<li>Easy chrome extension for gmail users to send &amp; receive end-to-end encrypted email<ul>\n<li><a href=\"https://cryptup.org/\" target=\"_blank\" rel=\"external\">https://cryptup.org/</a></li>\n<li>Source Code: <a href=\"https://github.com/tomholub/cryptup-chrome\" target=\"_blank\" rel=\"external\">https://github.com/tomholub/cryptup-chrome</a></li>\n</ul>\n</li>\n<li>Send and receive end-to-end encrypted email using your normal email account (Mobile, Desktop version coming soon)<ul>\n<li><a href=\"https://prettyeasyprivacy.com/\" target=\"_blank\" rel=\"external\">https://prettyeasyprivacy.com/</a></li>\n<li><a href=\"https://cacert.pep.foundation/trac\" target=\"_blank\" rel=\"external\">https://cacert.pep.foundation/trac</a></li>\n</ul>\n</li>\n<li>Send end-to-end encrypted text messages on a phone or computer<ul>\n<li><a href=\"https://wire.com/en/\" target=\"_blank\" rel=\"external\">https://wire.com/en/</a></li>\n<li><a href=\"https://github.com/wireapp/\" target=\"_blank\" rel=\"external\">https://github.com/wireapp/</a></li>\n</ul>\n</li>\n<li>Send end-to-end encrypted text messages on your phone<ul>\n<li><a href=\"https://whispersystems.org/\" target=\"_blank\" rel=\"external\">https://whispersystems.org/</a></li>\n<li>Source Code: <a href=\"https://github.com/whispersystems\" target=\"_blank\" rel=\"external\">https://github.com/whispersystems</a></li>\n</ul>\n</li>\n<li>Type or paste a message and give the link to friends<ul>\n<li><a href=\"https://ncry.pt/\" target=\"_blank\" rel=\"external\">https://ncry.pt/</a>  (Source code: <a href=\"https://github.com/luggs-co/ncrypt\" target=\"_blank\" rel=\"external\">https://github.com/luggs-co/ncrypt</a>)</li>\n<li><a href=\"https://privatebin.net/\" target=\"_blank\" rel=\"external\">https://privatebin.net/</a> (Source code: <a href=\"https://github.com/PrivateBin/PrivateBin\" target=\"_blank\" rel=\"external\">https://github.com/PrivateBin/PrivateBin</a>)</li>\n</ul>\n</li>\n<li>Chat online with lots of people at once<ul>\n<li><a href=\"https://riot.im/\" target=\"_blank\" rel=\"external\">https://riot.im/</a>  <strong>NOTE:</strong> End-to-end encryption mode in beta so currently disabled by default</li>\n<li>Source code: <a href=\"https://github.com/vector-im\" target=\"_blank\" rel=\"external\">https://github.com/vector-im</a></li>\n</ul>\n</li>\n</ul>\n<h3 id=\"Proprietary\"><a href=\"#Proprietary\" class=\"headerlink\" title=\"Proprietary\"></a>Proprietary</h3><p>While we value Open Source, the need for Zero Knowledge Cloud is paramount and we respect the\ndecision of some organizations to keep parts of their codebases proprietary.</p>\n<ul>\n<li>Data backup<ul>\n<li><a href=\"https://www.boxcryptor.com/en\" target=\"_blank\" rel=\"external\">https://www.boxcryptor.com/en</a></li>\n<li><a href=\"https://whisp.ly/en\" target=\"_blank\" rel=\"external\">https://whisp.ly/en</a></li>\n<li><a href=\"https://www.sync.com/\" target=\"_blank\" rel=\"external\">https://www.sync.com/</a></li>\n<li><a href=\"https://www.pcloud.com\" target=\"_blank\" rel=\"external\">https://www.pcloud.com</a></li>\n<li><a href=\"https://spideroak.com/personal/spideroak-one\" target=\"_blank\" rel=\"external\">https://spideroak.com/personal/spideroak-one</a></li>\n</ul>\n</li>\n<li>Chat and instant messaging<ul>\n<li><a href=\"https://spideroak.com/personal/semaphor\" target=\"_blank\" rel=\"external\">https://spideroak.com/personal/semaphor</a></li>\n</ul>\n</li>\n<li>Send and receive end-to-end encrypted email<ul>\n<li><a href=\"https://protonmail.com/\" target=\"_blank\" rel=\"external\">https://protonmail.com/</a></li>\n</ul>\n</li>\n<li>Web of trust and proof of identity<ul>\n<li><a href=\"https://keybase.io/\" target=\"_blank\" rel=\"external\">https://keybase.io/</a></li>\n</ul>\n</li>\n</ul>\n<p>An important one which we forgot? <a href=\"https://cryptpad.fr/contact.html\" target=\"_blank\" rel=\"external\">Get in touch</a>!</p>\n<h3 id=\"Updated\"><a href=\"#Updated\" class=\"headerlink\" title=\"Updated\"></a>Updated</h3><ul>\n<li>August 9, 2017, Wire is now fully Open Source, yay</li>\n</ul>\n","excerpt":"","more":"<p>From typing a business letter to taking pictures with friends, the internet has changed every part of our lives.\nWe don’t just share information with people, we also want it synced across our computers, tablets, and phones.</p>\n<p>Modern technology allows us to do this, but it does so by sending all our data to <em>the Cloud</em>.</p>\n<p>A lot of what we think of as the Cloud is owned by multinational corporations like Google.\nThough they may seem like innocent custodians of our data, behind the scenes they are often using it to target us with advertising.</p>\n<h2 id=\"There-is-little-that-one-person-can-do\"><a href=\"#There-is-little-that-one-person-can-do\" class=\"headerlink\" title=\"There is little that one person can do\"></a>There is little that one person can do</h2><p>Terms of service are long, vague documents which usually don’t address knowledge <em>derived</em> from your data.\nMore sinister: you can never really know if they’re cheating.\nAd networks don’t tell you how they know or even what they know.\nThey just show you ads, based on what they discovered about you… <em>somehow</em>.</p>\n<h2 id=\"What’s-your-personal-information-worth\"><a href=\"#What’s-your-personal-information-worth\" class=\"headerlink\" title=\"What’s your personal information worth?\"></a>What’s your personal information worth?</h2><ul>\n<li>Normally  $0.0005 - $0.0021 per person</li>\n<li>Pregnant in your second trimester? $0.11 (<em>52 times as much</em>)</li>\n<li>Have a specific health condition? $0.26 (<em>123 times as much</em>)</li>\n</ul>\n<p>This is only going to get worse.\nArtificial Intelligence technology is maturing and Silicon Valley is using it to derive even more value from <em>us</em>, its most valuable products.</p>\n<p>The result of this will be a veritable weapon of mass manipulation.\nThe tragedy is, manipulating people to get what you want is not that complex.\nWe don’t need to wait for the AI singularity, all we need is a deep mind with the cleverness of a spoiled 5 year old.</p>\n<blockquote>\n<p> <em>All data, over time, approaches deleted, or public.</em></p>\n<p>–Quinn Norton</p>\n</blockquote>\n<p>While we must seek to use services with ethical foundations, we must also recognize that once we give up our data, we are at the mercy of economics.\nCompanies which don’t <em>extract maximum value</em> from our data will eventually be acquired by those which do.</p>\n<h2 id=\"Zero-Knowledge\"><a href=\"#Zero-Knowledge\" class=\"headerlink\" title=\"Zero Knowledge\"></a>Zero Knowledge</h2><p>Fortunately we don’t have to go back to the typewriter age.\nUsing basic cryptography, the cloud can make information available across your devices without being able to read the data which it stores.</p>\n<p>We do this by adding a hash character (#) to a link.\nBy design, browsers don’t share anything after this character.\nThat means we can share encryption keys just by sharing links.\nFurthermore, a username and password can be made into a secret key which allows a person’s private data to be kept encrypted using their login credentials.</p>\n<h2 id=\"How-do-we-know-you’re-secure\"><a href=\"#How-do-we-know-you’re-secure\" class=\"headerlink\" title=\"How do we know you’re secure?\"></a>How do we know you’re secure?</h2><p>Zero Knowledge web apps are not intended to <em>make you secure</em>, they’re intended to be <em>provably ethical</em>.\nThis cannot be overstated, for too long we have been forced to choose between “James Bond” security protocols which are too difficult to use, and slick web apps which monetize your data.</p>\n<blockquote>\n<p><em>Our promise to you is that our business model is not to spy on you, and it never will be</em>.</p>\n</blockquote>\n<p>We hope that the security community will join us in building user-friendly, Zero Knowledge services.\nPrivacy is a social problem as much as it is a mathematical one, and it is time we take that seriously.</p>\n<h2 id=\"What-we’re-going-to-do\"><a href=\"#What-we’re-going-to-do\" class=\"headerlink\" title=\"What we’re going to do\"></a>What we’re going to do</h2><p>We are going to show the world that web apps can be elegant and usable while still respecting privacy in a verifiable way.\nWe cannot easily prove that we’ve never collected any data but we can prove we’re not doing it systematically.</p>\n<p>To start off this conversation, we have developed <a href=\"https://cryptpad.fr\">CryptPad</a>, the first ever Zero Knowledge Realtime Collaborative Editor.\nWe are aiming to make it the most user friendly, most productive collaboration tool available, and still Zero Knowledge.</p>\n<p>Finally, we have chosen to make the CryptPad project <a href=\"https://github.com/xwiki-labs/cryptpad\">Open Source</a>.\nWe did this not only because Open Source is in our culture, but also because we want Zero Knowledge web apps to become the universal standard.</p>\n<h3 id=\"The-plan-in-four-steps\"><a href=\"#The-plan-in-four-steps\" class=\"headerlink\" title=\"The plan in four steps\"></a>The plan in four steps</h3><ol>\n<li>Develop the most user friendly collaboration tool available which is also Zero Knowledge.</li>\n<li>Use this tool to explain the problem and show that an alternative is possible.</li>\n<li>Open Source the work we do so that others can also build Zero Knowledge apps.</li>\n<li>Foster a culture where privacy by default is a baseline expectation.</li>\n</ol>\n<h2 id=\"How-you-can-help\"><a href=\"#How-you-can-help\" class=\"headerlink\" title=\"How you can help\"></a>How you can help</h2><ul>\n<li>Use CryptPad and other Zero Knowledge services evey day, tell us what you like and what we can do better.</li>\n<li>Show your support: Buy an upgraded account (<em>coming soon</em>) from us, the people who are developing the code.</li>\n<li>If you install the Open Source code of CryptPad on your own servers, consider buying a support contract.</li>\n<li>Talk to your friends and colleagues about Zero Knowledge, show them CryptPad and explain that this is what the cloud can be.</li>\n<li>If you’re a web developer, think about Zero Knowledge for your next web app.</li>\n</ul>\n<h2 id=\"Other-Zero-Knowledge-Services\"><a href=\"#Other-Zero-Knowledge-Services\" class=\"headerlink\" title=\"Other Zero Knowledge Services\"></a>Other Zero Knowledge Services</h2><h3 id=\"Open-Source\"><a href=\"#Open-Source\" class=\"headerlink\" title=\"Open Source\"></a>Open Source</h3><ul>\n<li>Sync backups to Google or Dropbox and force them to become Zero Knowledge<ul>\n<li><a href=\"https://cryptomator.org/\">https://cryptomator.org/</a></li>\n<li>Source Code: <a href=\"https://github.com/cryptomator/cryptomator\">https://github.com/cryptomator/cryptomator</a></li>\n</ul>\n</li>\n<li>Easy chrome extension for gmail users to send &amp; receive end-to-end encrypted email<ul>\n<li><a href=\"https://cryptup.org/\">https://cryptup.org/</a></li>\n<li>Source Code: <a href=\"https://github.com/tomholub/cryptup-chrome\">https://github.com/tomholub/cryptup-chrome</a></li>\n</ul>\n</li>\n<li>Send and receive end-to-end encrypted email using your normal email account (Mobile, Desktop version coming soon)<ul>\n<li><a href=\"https://prettyeasyprivacy.com/\">https://prettyeasyprivacy.com/</a></li>\n<li><a href=\"https://cacert.pep.foundation/trac\">https://cacert.pep.foundation/trac</a></li>\n</ul>\n</li>\n<li>Send end-to-end encrypted text messages on a phone or computer<ul>\n<li><a href=\"https://wire.com/en/\">https://wire.com/en/</a></li>\n<li><a href=\"https://github.com/wireapp/\">https://github.com/wireapp/</a></li>\n</ul>\n</li>\n<li>Send end-to-end encrypted text messages on your phone<ul>\n<li><a href=\"https://whispersystems.org/\">https://whispersystems.org/</a></li>\n<li>Source Code: <a href=\"https://github.com/whispersystems\">https://github.com/whispersystems</a></li>\n</ul>\n</li>\n<li>Type or paste a message and give the link to friends<ul>\n<li><a href=\"https://ncry.pt/\">https://ncry.pt/</a>  (Source code: <a href=\"https://github.com/luggs-co/ncrypt\">https://github.com/luggs-co/ncrypt</a>)</li>\n<li><a href=\"https://privatebin.net/\">https://privatebin.net/</a> (Source code: <a href=\"https://github.com/PrivateBin/PrivateBin\">https://github.com/PrivateBin/PrivateBin</a>)</li>\n</ul>\n</li>\n<li>Chat online with lots of people at once<ul>\n<li><a href=\"https://riot.im/\">https://riot.im/</a>  <strong>NOTE:</strong> End-to-end encryption mode in beta so currently disabled by default</li>\n<li>Source code: <a href=\"https://github.com/vector-im\">https://github.com/vector-im</a></li>\n</ul>\n</li>\n</ul>\n<h3 id=\"Proprietary\"><a href=\"#Proprietary\" class=\"headerlink\" title=\"Proprietary\"></a>Proprietary</h3><p>While we value Open Source, the need for Zero Knowledge Cloud is paramount and we respect the\ndecision of some organizations to keep parts of their codebases proprietary.</p>\n<ul>\n<li>Data backup<ul>\n<li><a href=\"https://www.boxcryptor.com/en\">https://www.boxcryptor.com/en</a></li>\n<li><a href=\"https://whisp.ly/en\">https://whisp.ly/en</a></li>\n<li><a href=\"https://www.sync.com/\">https://www.sync.com/</a></li>\n<li><a href=\"https://www.pcloud.com\">https://www.pcloud.com</a></li>\n<li><a href=\"https://spideroak.com/personal/spideroak-one\">https://spideroak.com/personal/spideroak-one</a></li>\n</ul>\n</li>\n<li>Chat and instant messaging<ul>\n<li><a href=\"https://spideroak.com/personal/semaphor\">https://spideroak.com/personal/semaphor</a></li>\n</ul>\n</li>\n<li>Send and receive end-to-end encrypted email<ul>\n<li><a href=\"https://protonmail.com/\">https://protonmail.com/</a></li>\n</ul>\n</li>\n<li>Web of trust and proof of identity<ul>\n<li><a href=\"https://keybase.io/\">https://keybase.io/</a></li>\n</ul>\n</li>\n</ul>\n<p>An important one which we forgot? <a href=\"https://cryptpad.fr/contact.html\">Get in touch</a>!</p>\n<h3 id=\"Updated\"><a href=\"#Updated\" class=\"headerlink\" title=\"Updated\"></a>Updated</h3><ul>\n<li>August 9, 2017, Wire is now fully Open Source, yay</li>\n</ul>\n"},{"title":"What is Zero Knowledge","date":"2017-03-24T13:42:03.000Z","author":"Caleb James DeLisle","_content":"\nWe have gotten a lot of questions about the concept of Zero Knowledge, the vision and ethics as well as the exact meaning.\n\n* What is Zero Knowledge?\n* How can encryption in the browser be secure?\n* What about metadata?\n* Most importantly: How to know if a service is Zero Knowledge?\n\nI wanted to write a blog post to clarify what Zero Knowledge is all about. Zero Knowledge has two meanings, it can refer to a *Zero Knowledge Proof*, an obscure mathematical construct with few real-world uses but it can also refer to something with a very real-world meaning: web services which encrypt your content so that they themselves cannot read it. You may be wondering how this can be secure when a web administrator can quietly change their site to an unencrypted version at any time. This is a real problem, there is currently no way to verify the content (and code) of a website, but we need not despair. Even though we cannot prove that a website is *secure*, we can check that they are promising to make themselves blind to your content and they make that promise knowing if break it they might get caught.\n\n## Security is probabilistic\n\nConsider the security software you use every day such as your web browser with HTTPS, your phone and your computer's operating system. Have you ever stopped to check that software for \"backdoors\" (intentionally inserted which break your security)? If you have then you are one of the tiny group of heroes who dedicate their time to making the world a bit more robust and I salute you for it. If you're like the rest of us, you just hope that the authors of that software were honest enough and protective enough of their reputations to avoid inserting a backdoor when it means potentially getting caught. Zero Knowledge is based on the same logic, just as software makers can surreptitiously add a backdoor to their software, Zero Knowledge websites can serve a backdoor to the user. However, just as software makers who insert backdoors in their software risk getting caught, Zero Knowledge web app providers who insert backdoors in their website also risk being caught.\n\n## The metadata question\n\nMetadata is a serious issue. Former CIA director Michael Hayden said of the agency: \"We kill people based on metadata\". I don't want to belittle the importance of data which is not the actual content, but at the same time we must recognize that there is a huge uphill climb fix this issue. While the CryptPad project tries not to collect metadata when it can be avoided, we also recognize that other cloud providers may collect more or less metadata than us in order to provide their services. Fundamentally, we accept that a service qualifies as Zero Knowledge as long as the *content* is protected from the server operators. We are committed to studying ways to develop new, more secure solutions to the metadata issue but the spirit of Zero Knowledge is about more ethical solutions which are immediately actionable.\n\n## How to know if a service is Zero Knowledge\n\nZero Knowledge is about trust, nobody can read over and verify all of the code of all of the Zero Knowledge services available, but there are some heuristics which you can use when choosing a service.\n\n### 1. Is it primarily Open Source ?\n\nServices which are primarily Open Source are easier to evaluate both for accidental security mistakes and for potentially nefarious behavior. Furthermore, when a company commits their software to Open Source they make a statement that they are in the business of being an ethical provider for the long term and are not just riding the wave of a popular term.\n\n### 2. Were you warned about losing your password ?\n\nTrue Zero Knowledge services must protect your data from themselves using something you know and they don't, such as your password... In the event that you lose your password and you are using a true Zero Knowledge service, your content will be inaccessible to you and to the service - the locks that keep them out will keep you out as well. Check for this warning.\n\n### 3. Does it claim to be Zero Knowledge or End-to-end Encrypted ?\n\nThis is perhaps the most important question, because when a service provider makes the public statement that they are Zero Knowledge, they show they are prepared to risk their reputation if they are discovered to be storing your content in a way they can access. Some Zero Knowledge providers prefer the term *End-to-end Encrypted* which has gained significant popularity with messaging apps. There is no functional difference between a Zero Knowledge application and one which advertizes End-to-end Encryption.\n\n## Talk to us\n\nCryptPad is developed by a team of 3 people with generous financing from BPIFrance through the [OpenPaaS::NG Research Project](http://ng.open-paas.org/about-us.html). Our mission is to make Cloud Computing more ethical by promoting Zero Knowledge Cloud Services and show young entrepreneurs that it is possible to make a living while being ethical with peoples' data. Meet us in our IRC/Matrix channel on Freenode and at: https://riot.im/app/#/room/#cryptpad:matrix.org\n","source":"_posts/What-is-Zero-Knowledge.md","raw":"---\ntitle: What is Zero Knowledge\ndate: 2017-03-24 14:42:03\nauthor: Caleb James DeLisle\ntags:\n  - zero knowledge\n  - security\n---\n\nWe have gotten a lot of questions about the concept of Zero Knowledge, the vision and ethics as well as the exact meaning.\n\n* What is Zero Knowledge?\n* How can encryption in the browser be secure?\n* What about metadata?\n* Most importantly: How to know if a service is Zero Knowledge?\n\nI wanted to write a blog post to clarify what Zero Knowledge is all about. Zero Knowledge has two meanings, it can refer to a *Zero Knowledge Proof*, an obscure mathematical construct with few real-world uses but it can also refer to something with a very real-world meaning: web services which encrypt your content so that they themselves cannot read it. You may be wondering how this can be secure when a web administrator can quietly change their site to an unencrypted version at any time. This is a real problem, there is currently no way to verify the content (and code) of a website, but we need not despair. Even though we cannot prove that a website is *secure*, we can check that they are promising to make themselves blind to your content and they make that promise knowing if break it they might get caught.\n\n## Security is probabilistic\n\nConsider the security software you use every day such as your web browser with HTTPS, your phone and your computer's operating system. Have you ever stopped to check that software for \"backdoors\" (intentionally inserted which break your security)? If you have then you are one of the tiny group of heroes who dedicate their time to making the world a bit more robust and I salute you for it. If you're like the rest of us, you just hope that the authors of that software were honest enough and protective enough of their reputations to avoid inserting a backdoor when it means potentially getting caught. Zero Knowledge is based on the same logic, just as software makers can surreptitiously add a backdoor to their software, Zero Knowledge websites can serve a backdoor to the user. However, just as software makers who insert backdoors in their software risk getting caught, Zero Knowledge web app providers who insert backdoors in their website also risk being caught.\n\n## The metadata question\n\nMetadata is a serious issue. Former CIA director Michael Hayden said of the agency: \"We kill people based on metadata\". I don't want to belittle the importance of data which is not the actual content, but at the same time we must recognize that there is a huge uphill climb fix this issue. While the CryptPad project tries not to collect metadata when it can be avoided, we also recognize that other cloud providers may collect more or less metadata than us in order to provide their services. Fundamentally, we accept that a service qualifies as Zero Knowledge as long as the *content* is protected from the server operators. We are committed to studying ways to develop new, more secure solutions to the metadata issue but the spirit of Zero Knowledge is about more ethical solutions which are immediately actionable.\n\n## How to know if a service is Zero Knowledge\n\nZero Knowledge is about trust, nobody can read over and verify all of the code of all of the Zero Knowledge services available, but there are some heuristics which you can use when choosing a service.\n\n### 1. Is it primarily Open Source ?\n\nServices which are primarily Open Source are easier to evaluate both for accidental security mistakes and for potentially nefarious behavior. Furthermore, when a company commits their software to Open Source they make a statement that they are in the business of being an ethical provider for the long term and are not just riding the wave of a popular term.\n\n### 2. Were you warned about losing your password ?\n\nTrue Zero Knowledge services must protect your data from themselves using something you know and they don't, such as your password... In the event that you lose your password and you are using a true Zero Knowledge service, your content will be inaccessible to you and to the service - the locks that keep them out will keep you out as well. Check for this warning.\n\n### 3. Does it claim to be Zero Knowledge or End-to-end Encrypted ?\n\nThis is perhaps the most important question, because when a service provider makes the public statement that they are Zero Knowledge, they show they are prepared to risk their reputation if they are discovered to be storing your content in a way they can access. Some Zero Knowledge providers prefer the term *End-to-end Encrypted* which has gained significant popularity with messaging apps. There is no functional difference between a Zero Knowledge application and one which advertizes End-to-end Encryption.\n\n## Talk to us\n\nCryptPad is developed by a team of 3 people with generous financing from BPIFrance through the [OpenPaaS::NG Research Project](http://ng.open-paas.org/about-us.html). Our mission is to make Cloud Computing more ethical by promoting Zero Knowledge Cloud Services and show young entrepreneurs that it is possible to make a living while being ethical with peoples' data. Meet us in our IRC/Matrix channel on Freenode and at: https://riot.im/app/#/room/#cryptpad:matrix.org\n","slug":"What-is-Zero-Knowledge","published":1,"updated":"2018-06-15T10:06:34.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjjttvr0d000p7ezfzrk60quk","content":"<p>We have gotten a lot of questions about the concept of Zero Knowledge, the vision and ethics as well as the exact meaning.</p>\n<ul>\n<li>What is Zero Knowledge?</li>\n<li>How can encryption in the browser be secure?</li>\n<li>What about metadata?</li>\n<li>Most importantly: How to know if a service is Zero Knowledge?</li>\n</ul>\n<p>I wanted to write a blog post to clarify what Zero Knowledge is all about. Zero Knowledge has two meanings, it can refer to a <em>Zero Knowledge Proof</em>, an obscure mathematical construct with few real-world uses but it can also refer to something with a very real-world meaning: web services which encrypt your content so that they themselves cannot read it. You may be wondering how this can be secure when a web administrator can quietly change their site to an unencrypted version at any time. This is a real problem, there is currently no way to verify the content (and code) of a website, but we need not despair. Even though we cannot prove that a website is <em>secure</em>, we can check that they are promising to make themselves blind to your content and they make that promise knowing if break it they might get caught.</p>\n<h2 id=\"Security-is-probabilistic\"><a href=\"#Security-is-probabilistic\" class=\"headerlink\" title=\"Security is probabilistic\"></a>Security is probabilistic</h2><p>Consider the security software you use every day such as your web browser with HTTPS, your phone and your computer’s operating system. Have you ever stopped to check that software for “backdoors” (intentionally inserted which break your security)? If you have then you are one of the tiny group of heroes who dedicate their time to making the world a bit more robust and I salute you for it. If you’re like the rest of us, you just hope that the authors of that software were honest enough and protective enough of their reputations to avoid inserting a backdoor when it means potentially getting caught. Zero Knowledge is based on the same logic, just as software makers can surreptitiously add a backdoor to their software, Zero Knowledge websites can serve a backdoor to the user. However, just as software makers who insert backdoors in their software risk getting caught, Zero Knowledge web app providers who insert backdoors in their website also risk being caught.</p>\n<h2 id=\"The-metadata-question\"><a href=\"#The-metadata-question\" class=\"headerlink\" title=\"The metadata question\"></a>The metadata question</h2><p>Metadata is a serious issue. Former CIA director Michael Hayden said of the agency: “We kill people based on metadata”. I don’t want to belittle the importance of data which is not the actual content, but at the same time we must recognize that there is a huge uphill climb fix this issue. While the CryptPad project tries not to collect metadata when it can be avoided, we also recognize that other cloud providers may collect more or less metadata than us in order to provide their services. Fundamentally, we accept that a service qualifies as Zero Knowledge as long as the <em>content</em> is protected from the server operators. We are committed to studying ways to develop new, more secure solutions to the metadata issue but the spirit of Zero Knowledge is about more ethical solutions which are immediately actionable.</p>\n<h2 id=\"How-to-know-if-a-service-is-Zero-Knowledge\"><a href=\"#How-to-know-if-a-service-is-Zero-Knowledge\" class=\"headerlink\" title=\"How to know if a service is Zero Knowledge\"></a>How to know if a service is Zero Knowledge</h2><p>Zero Knowledge is about trust, nobody can read over and verify all of the code of all of the Zero Knowledge services available, but there are some heuristics which you can use when choosing a service.</p>\n<h3 id=\"1-Is-it-primarily-Open-Source\"><a href=\"#1-Is-it-primarily-Open-Source\" class=\"headerlink\" title=\"1. Is it primarily Open Source ?\"></a>1. Is it primarily Open Source ?</h3><p>Services which are primarily Open Source are easier to evaluate both for accidental security mistakes and for potentially nefarious behavior. Furthermore, when a company commits their software to Open Source they make a statement that they are in the business of being an ethical provider for the long term and are not just riding the wave of a popular term.</p>\n<h3 id=\"2-Were-you-warned-about-losing-your-password\"><a href=\"#2-Were-you-warned-about-losing-your-password\" class=\"headerlink\" title=\"2. Were you warned about losing your password ?\"></a>2. Were you warned about losing your password ?</h3><p>True Zero Knowledge services must protect your data from themselves using something you know and they don’t, such as your password… In the event that you lose your password and you are using a true Zero Knowledge service, your content will be inaccessible to you and to the service - the locks that keep them out will keep you out as well. Check for this warning.</p>\n<h3 id=\"3-Does-it-claim-to-be-Zero-Knowledge-or-End-to-end-Encrypted\"><a href=\"#3-Does-it-claim-to-be-Zero-Knowledge-or-End-to-end-Encrypted\" class=\"headerlink\" title=\"3. Does it claim to be Zero Knowledge or End-to-end Encrypted ?\"></a>3. Does it claim to be Zero Knowledge or End-to-end Encrypted ?</h3><p>This is perhaps the most important question, because when a service provider makes the public statement that they are Zero Knowledge, they show they are prepared to risk their reputation if they are discovered to be storing your content in a way they can access. Some Zero Knowledge providers prefer the term <em>End-to-end Encrypted</em> which has gained significant popularity with messaging apps. There is no functional difference between a Zero Knowledge application and one which advertizes End-to-end Encryption.</p>\n<h2 id=\"Talk-to-us\"><a href=\"#Talk-to-us\" class=\"headerlink\" title=\"Talk to us\"></a>Talk to us</h2><p>CryptPad is developed by a team of 3 people with generous financing from BPIFrance through the <a href=\"http://ng.open-paas.org/about-us.html\" target=\"_blank\" rel=\"external\">OpenPaaS::NG Research Project</a>. Our mission is to make Cloud Computing more ethical by promoting Zero Knowledge Cloud Services and show young entrepreneurs that it is possible to make a living while being ethical with peoples’ data. Meet us in our IRC/Matrix channel on Freenode and at: <a href=\"https://riot.im/app/#/room/#cryptpad:matrix.org\" target=\"_blank\" rel=\"external\">https://riot.im/app/#/room/#cryptpad:matrix.org</a></p>\n","excerpt":"","more":"<p>We have gotten a lot of questions about the concept of Zero Knowledge, the vision and ethics as well as the exact meaning.</p>\n<ul>\n<li>What is Zero Knowledge?</li>\n<li>How can encryption in the browser be secure?</li>\n<li>What about metadata?</li>\n<li>Most importantly: How to know if a service is Zero Knowledge?</li>\n</ul>\n<p>I wanted to write a blog post to clarify what Zero Knowledge is all about. Zero Knowledge has two meanings, it can refer to a <em>Zero Knowledge Proof</em>, an obscure mathematical construct with few real-world uses but it can also refer to something with a very real-world meaning: web services which encrypt your content so that they themselves cannot read it. You may be wondering how this can be secure when a web administrator can quietly change their site to an unencrypted version at any time. This is a real problem, there is currently no way to verify the content (and code) of a website, but we need not despair. Even though we cannot prove that a website is <em>secure</em>, we can check that they are promising to make themselves blind to your content and they make that promise knowing if break it they might get caught.</p>\n<h2 id=\"Security-is-probabilistic\"><a href=\"#Security-is-probabilistic\" class=\"headerlink\" title=\"Security is probabilistic\"></a>Security is probabilistic</h2><p>Consider the security software you use every day such as your web browser with HTTPS, your phone and your computer’s operating system. Have you ever stopped to check that software for “backdoors” (intentionally inserted which break your security)? If you have then you are one of the tiny group of heroes who dedicate their time to making the world a bit more robust and I salute you for it. If you’re like the rest of us, you just hope that the authors of that software were honest enough and protective enough of their reputations to avoid inserting a backdoor when it means potentially getting caught. Zero Knowledge is based on the same logic, just as software makers can surreptitiously add a backdoor to their software, Zero Knowledge websites can serve a backdoor to the user. However, just as software makers who insert backdoors in their software risk getting caught, Zero Knowledge web app providers who insert backdoors in their website also risk being caught.</p>\n<h2 id=\"The-metadata-question\"><a href=\"#The-metadata-question\" class=\"headerlink\" title=\"The metadata question\"></a>The metadata question</h2><p>Metadata is a serious issue. Former CIA director Michael Hayden said of the agency: “We kill people based on metadata”. I don’t want to belittle the importance of data which is not the actual content, but at the same time we must recognize that there is a huge uphill climb fix this issue. While the CryptPad project tries not to collect metadata when it can be avoided, we also recognize that other cloud providers may collect more or less metadata than us in order to provide their services. Fundamentally, we accept that a service qualifies as Zero Knowledge as long as the <em>content</em> is protected from the server operators. We are committed to studying ways to develop new, more secure solutions to the metadata issue but the spirit of Zero Knowledge is about more ethical solutions which are immediately actionable.</p>\n<h2 id=\"How-to-know-if-a-service-is-Zero-Knowledge\"><a href=\"#How-to-know-if-a-service-is-Zero-Knowledge\" class=\"headerlink\" title=\"How to know if a service is Zero Knowledge\"></a>How to know if a service is Zero Knowledge</h2><p>Zero Knowledge is about trust, nobody can read over and verify all of the code of all of the Zero Knowledge services available, but there are some heuristics which you can use when choosing a service.</p>\n<h3 id=\"1-Is-it-primarily-Open-Source\"><a href=\"#1-Is-it-primarily-Open-Source\" class=\"headerlink\" title=\"1. Is it primarily Open Source ?\"></a>1. Is it primarily Open Source ?</h3><p>Services which are primarily Open Source are easier to evaluate both for accidental security mistakes and for potentially nefarious behavior. Furthermore, when a company commits their software to Open Source they make a statement that they are in the business of being an ethical provider for the long term and are not just riding the wave of a popular term.</p>\n<h3 id=\"2-Were-you-warned-about-losing-your-password\"><a href=\"#2-Were-you-warned-about-losing-your-password\" class=\"headerlink\" title=\"2. Were you warned about losing your password ?\"></a>2. Were you warned about losing your password ?</h3><p>True Zero Knowledge services must protect your data from themselves using something you know and they don’t, such as your password… In the event that you lose your password and you are using a true Zero Knowledge service, your content will be inaccessible to you and to the service - the locks that keep them out will keep you out as well. Check for this warning.</p>\n<h3 id=\"3-Does-it-claim-to-be-Zero-Knowledge-or-End-to-end-Encrypted\"><a href=\"#3-Does-it-claim-to-be-Zero-Knowledge-or-End-to-end-Encrypted\" class=\"headerlink\" title=\"3. Does it claim to be Zero Knowledge or End-to-end Encrypted ?\"></a>3. Does it claim to be Zero Knowledge or End-to-end Encrypted ?</h3><p>This is perhaps the most important question, because when a service provider makes the public statement that they are Zero Knowledge, they show they are prepared to risk their reputation if they are discovered to be storing your content in a way they can access. Some Zero Knowledge providers prefer the term <em>End-to-end Encrypted</em> which has gained significant popularity with messaging apps. There is no functional difference between a Zero Knowledge application and one which advertizes End-to-end Encryption.</p>\n<h2 id=\"Talk-to-us\"><a href=\"#Talk-to-us\" class=\"headerlink\" title=\"Talk to us\"></a>Talk to us</h2><p>CryptPad is developed by a team of 3 people with generous financing from BPIFrance through the <a href=\"http://ng.open-paas.org/about-us.html\">OpenPaaS::NG Research Project</a>. Our mission is to make Cloud Computing more ethical by promoting Zero Knowledge Cloud Services and show young entrepreneurs that it is possible to make a living while being ethical with peoples’ data. Meet us in our IRC/Matrix channel on Freenode and at: <a href=\"https://riot.im/app/#/room/#cryptpad:matrix.org\">https://riot.im/app/#/room/#cryptpad:matrix.org</a></p>\n"},{"title":"You gotta log in","date":"2017-05-17T10:22:52.000Z","author":"Caleb James DeLisle","_content":"\nIt's been two and a half years since the [first commit to CryptPad](https://github.com/xwiki-labs/cryptpad/commit/1508c7ba71f5de5e51f061fbef45bc1f18493832),\nwe no longer have the hideous white and green color-scheme and we're on our third URL format.\nMore importantly we now have a CryptDrive with folders instead of just remembering a few recent\npads in the browser's local storage.\n\nThe success of CryptPad as a tool for organizing and collaboration makes us glad to be working on\nthe technology, but our desire to avoid collecting metadata has lead to an unsustainable situation.\n\n> *We can't store data we don't understand for people we don't know*\n\nThere has been a proliferation of pads which are not accessed after a while and we don't know who\nmade them or even what type of pad they are. We know that a great many of them are \"test pads\",\nif for no other reason, because we made a lot of them. Eventually we will be forced to delete old\ndata but we don't want to delete anything important.\n\nStarting a few weeks ago we implemented a system called pinning. When you are logged in, your\nbrowser tells CryptPad all of the things in your drive. We don't know what's in them but we know\nthey're important so we shouldn't delete them. Right now you can log in to CryptPad, go to your\n[Settings Page](https://cryptpad.fr/settings/) and click the **Usage** button to see how much data\nyou are pinning.\n\nWe recognize many users of CryptPad would like to use it anonymously and we will continue to support\nanonymous pads, but soon they will begin to be removed from storage after 3 months of inactivity.\nWe've also simplified the anonymous CryptDrive because we want to send the message loud and clear\nthat *pads in the anonymous drive are not safe from deletion*.\n\nSo please register and log in, you'll get 50MB of pinning quota with the full features of CryptDrive\nand you can be sure that none of your pads will ever be removed from the server.\n","source":"_posts/You-gotta-log-in.md","raw":"---\ntitle: You gotta log in\ndate: 2017-05-17 12:22:52\nauthor: Caleb James DeLisle\ntags:\n  - login\n  - storage\n---\n\nIt's been two and a half years since the [first commit to CryptPad](https://github.com/xwiki-labs/cryptpad/commit/1508c7ba71f5de5e51f061fbef45bc1f18493832),\nwe no longer have the hideous white and green color-scheme and we're on our third URL format.\nMore importantly we now have a CryptDrive with folders instead of just remembering a few recent\npads in the browser's local storage.\n\nThe success of CryptPad as a tool for organizing and collaboration makes us glad to be working on\nthe technology, but our desire to avoid collecting metadata has lead to an unsustainable situation.\n\n> *We can't store data we don't understand for people we don't know*\n\nThere has been a proliferation of pads which are not accessed after a while and we don't know who\nmade them or even what type of pad they are. We know that a great many of them are \"test pads\",\nif for no other reason, because we made a lot of them. Eventually we will be forced to delete old\ndata but we don't want to delete anything important.\n\nStarting a few weeks ago we implemented a system called pinning. When you are logged in, your\nbrowser tells CryptPad all of the things in your drive. We don't know what's in them but we know\nthey're important so we shouldn't delete them. Right now you can log in to CryptPad, go to your\n[Settings Page](https://cryptpad.fr/settings/) and click the **Usage** button to see how much data\nyou are pinning.\n\nWe recognize many users of CryptPad would like to use it anonymously and we will continue to support\nanonymous pads, but soon they will begin to be removed from storage after 3 months of inactivity.\nWe've also simplified the anonymous CryptDrive because we want to send the message loud and clear\nthat *pads in the anonymous drive are not safe from deletion*.\n\nSo please register and log in, you'll get 50MB of pinning quota with the full features of CryptDrive\nand you can be sure that none of your pads will ever be removed from the server.\n","slug":"You-gotta-log-in","published":1,"updated":"2018-06-15T10:06:34.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjjttvr0e000r7ezfpp7i14wh","content":"<p>It’s been two and a half years since the <a href=\"https://github.com/xwiki-labs/cryptpad/commit/1508c7ba71f5de5e51f061fbef45bc1f18493832\" target=\"_blank\" rel=\"external\">first commit to CryptPad</a>,\nwe no longer have the hideous white and green color-scheme and we’re on our third URL format.\nMore importantly we now have a CryptDrive with folders instead of just remembering a few recent\npads in the browser’s local storage.</p>\n<p>The success of CryptPad as a tool for organizing and collaboration makes us glad to be working on\nthe technology, but our desire to avoid collecting metadata has lead to an unsustainable situation.</p>\n<blockquote>\n<p><em>We can’t store data we don’t understand for people we don’t know</em></p>\n</blockquote>\n<p>There has been a proliferation of pads which are not accessed after a while and we don’t know who\nmade them or even what type of pad they are. We know that a great many of them are “test pads”,\nif for no other reason, because we made a lot of them. Eventually we will be forced to delete old\ndata but we don’t want to delete anything important.</p>\n<p>Starting a few weeks ago we implemented a system called pinning. When you are logged in, your\nbrowser tells CryptPad all of the things in your drive. We don’t know what’s in them but we know\nthey’re important so we shouldn’t delete them. Right now you can log in to CryptPad, go to your\n<a href=\"https://cryptpad.fr/settings/\" target=\"_blank\" rel=\"external\">Settings Page</a> and click the <strong>Usage</strong> button to see how much data\nyou are pinning.</p>\n<p>We recognize many users of CryptPad would like to use it anonymously and we will continue to support\nanonymous pads, but soon they will begin to be removed from storage after 3 months of inactivity.\nWe’ve also simplified the anonymous CryptDrive because we want to send the message loud and clear\nthat <em>pads in the anonymous drive are not safe from deletion</em>.</p>\n<p>So please register and log in, you’ll get 50MB of pinning quota with the full features of CryptDrive\nand you can be sure that none of your pads will ever be removed from the server.</p>\n","excerpt":"","more":"<p>It’s been two and a half years since the <a href=\"https://github.com/xwiki-labs/cryptpad/commit/1508c7ba71f5de5e51f061fbef45bc1f18493832\">first commit to CryptPad</a>,\nwe no longer have the hideous white and green color-scheme and we’re on our third URL format.\nMore importantly we now have a CryptDrive with folders instead of just remembering a few recent\npads in the browser’s local storage.</p>\n<p>The success of CryptPad as a tool for organizing and collaboration makes us glad to be working on\nthe technology, but our desire to avoid collecting metadata has lead to an unsustainable situation.</p>\n<blockquote>\n<p><em>We can’t store data we don’t understand for people we don’t know</em></p>\n</blockquote>\n<p>There has been a proliferation of pads which are not accessed after a while and we don’t know who\nmade them or even what type of pad they are. We know that a great many of them are “test pads”,\nif for no other reason, because we made a lot of them. Eventually we will be forced to delete old\ndata but we don’t want to delete anything important.</p>\n<p>Starting a few weeks ago we implemented a system called pinning. When you are logged in, your\nbrowser tells CryptPad all of the things in your drive. We don’t know what’s in them but we know\nthey’re important so we shouldn’t delete them. Right now you can log in to CryptPad, go to your\n<a href=\"https://cryptpad.fr/settings/\">Settings Page</a> and click the <strong>Usage</strong> button to see how much data\nyou are pinning.</p>\n<p>We recognize many users of CryptPad would like to use it anonymously and we will continue to support\nanonymous pads, but soon they will begin to be removed from storage after 3 months of inactivity.\nWe’ve also simplified the anonymous CryptDrive because we want to send the message loud and clear\nthat <em>pads in the anonymous drive are not safe from deletion</em>.</p>\n<p>So please register and log in, you’ll get 50MB of pinning quota with the full features of CryptDrive\nand you can be sure that none of your pads will ever be removed from the server.</p>\n"},{"title":"CryptPad Analytics & Privacy - What we can't know, what we must know, what we want to know","date":"2017-07-07T11:41:02.000Z","author":"Caleb James DeLisle","_content":"\nCryptPad is a Zero Knowledge cloud application, this means we have designed it such\nthat we do not have any access to the content which is hosted on our server.\nHowever, there are other things which we do collect and it is important that\nprivacy-minded users understand what we are collecting and why. There are four\ntypes of information:\n\n* What we can't know: This is data that CryptPad app encrypts so we will never have\naccess to it\n* What we must see but don't collect: This is information which we don't bother\nto store but because of how the technology works, we necessarily have access to it.\n* What we must know: This is metadata which we cannot help but see because of the\nway the technology works\n* What we want to know: This is information which we really want to know in order\nto make CryptPad better every day\n\nWe want to know everything about *people*, we want to know how *people* use CryptPad,\nwhy *people* use CryptPad and how we can make their experience easier. However, we\ndon't want to know anything at all about *you*.\n\nThis poses a challenge because we want to collect as much aggregate information as we\ncan in order to make a great web service, but we don't want to collect data that can\nbe *linked* in order to tell a story about you.\n\n## What we can't know\n\nThere are a few things which the Zero Knowledge design of CryptPad does not allow\nus to know at all. These include (obviously) your password and the content of your\npads, but less obviously, the titles of your pads, the names of the contributors and\nyour username (you can even have the same username as someone else on the system, we\nwon't know). The types of your pads are also unknown to us though we could make\neducated guesses by looking at the encrypted data.\n\n*It is our promise to you that we will never collect this information.*\n\n## What we could know but don't bother to collect\n\nThere are also some things which we don't really want to know but we cannot avoid\nseeing it anyway. This includes most importantly the IP addresses of people who\nedited a specific pad. Technically we know your\n[IP address](https://en.wikipedia.org/wiki/IP_address) because it's how you\ncommunicate with our server, but most of the actual operations are done using\ncommands sent down a [WebSocket](https://en.wikipedia.org/wiki/WebSocket).\nOnce the WebSocket is established, we assign you a random ID and this is how\nyou are referenced, what appears in our server logs looks like this:\n\n```\n198.167.222.70 - - [06/Jul/2017:20:47:45 +0200] \"GET /pad/ HTTP/1.1\"\n304 0 \"-\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10_5) AppleWebKit/537.36\n(KHTML, like Gecko) Chrome/59.0.3071.109 Safari/537.36\" \"-\"\n```\n\nNotice there is no pad ID in there, the pad ID is not in the URL so it doesn't go\nin the server logs by default.\n\nCompare this with EtherPad:\n\n```\n  IP Address                                             Pad ID\n198.167.222.70 - - [06/Jul/2017:11:54:37 -0700] \"GET /p/UNWnpczTkq HTTP/1.1\"\n200 8920 \"https://pad.meshwith.me/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X\n10_10_5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.109\nSafari/537.36\"\n```\n\n*You cannot verify that we're not collecting this so best assume that we are.*\n\n## What we must know\n\nThere are some things which we need to know in order for CryptPad to function\nproperly, we need to know which pads are in your drive in order to impose\nstorage limits on logged-in users and to expire pads which nobody cares about.\nHowever, we don't know much about who you are. Since we don't know your username,\nto us you are identified by a public signing key, something like this:\n\n`YIBzjPr3beuGgfHNglGfo3xq-dquxsj4Bst-ze7mL9A`\n\nWe know that `YIBzjPr3beuGgfHNglGfo3xq-dquxsj4Bst-ze7mL9A` has 392 MB of data in\ntheir CryptDrive including a pad of some type which has the ID\n`fe382219b10c0396de63d2bab7942390` and an uploaded which we know as\n`ff2fdf9bb99ecc89d29d780780de10efdac14ed15e93b235`. One of these pads that they\nhave is actually their drive itself, but we don't strictly know which one (again,\nwe can take guesses based on the size of the patches). You can find out what your\nsigning key is by looking at in your [settings page](https://cryptpad.fr/settings).\n\nWe also know when each pad was last accessed so that we can know to delete pads\nwhich are not in anybody's CryptDrive and have not been opened in a long time.\n\n### Why we can't avoid collecting IP addresses\n\nBeing able to know how many *different* people are using CryptPad is very important\nto us. One rather rude person decided to try to crash our server by creating 647,533\npads. They didn't put much thought into their attack because what they were doing\nwas not actually creating pads, but it illustrates the problem that if we don't\nknow how many *different* people are using the server, we don't have any idea\nwhether we are popular or under attack. Worse, we don't know what features have\nwidespread support vs. which ones are only popular with a few prolific users.\n\nOne obvious thought is to simply run the IP addresses through a hash function the\nway we traditionally hash passwords. However this sadly cannot work because there\nare only 4.2 billion IPv4 addresses and constructing a\n[rainbow table](https://en.wikipedia.org/wiki/Rainbow_table) to get back the\noriginal IP addresses would take only about 1 day of computer time. So in the end\nwe simply log the IP addresses and don't worry about it.\n\n### What a pad looks like to us\n\nA pad is stored as a file which represents a sequence of encrypted *patches*.\nThese patches change the content of the pad from nothing to whatever it becomes in\nthe end. A typical message looks something like this:\n```\n[0,\"69d46337f826c0ecd881be59c119a527\",\"MSG\",\"fe382219b10c0396de63d2bab7942390\",\"51Q....\"]\n```\nIt starts with a zero and then your temporary random ID, then it contains the word\nMSG and the ID of the pad which it is sent to, this format is exactly the same as\nwhat is sent on the wire. Finally it contains the encrypted patch which tells us\nessentially nothing except it gives us a rough idea of just how big the change was.\n\nOccasionally the client will send a *checkpoint*, this is a special patch which\nremoves all of the content and then puts it all back again. To us, a checkpoint\nlooks the same as anything else, it is a big ball of encrypted data, except in this\ncase it is flagged as a checkpoint so the server knows it can send only part of\nthe history of the pad instead of all of it. However, they do give us a good idea\nof how big the pad actually is at that time.\n\n## What we collect because we want to know\n\nWhat we really want to understand is your *experience* with CryptPad and how we can\nmake that experience better. So therefore we collect quite a number of data-points\nabout where people click and what their browser supports. For example we collect\nthe dimensions of your browser. Not because we want to know who you are but because\nwe want to know that types of browsers we need to support.\n\n```\n198.167.222.70 - - [06/Jul/2017:21:26:15 +0200]\n\"HEAD /common/feedback.html?DIMENSIONS:752x1440=1499369175085 HTTP/1.1\" 200 0\n\"https://cryptpad.fr/settings/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10_5)\nAppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.109 Safari/537.36\" \"-\"\n```\n\nYou can see an exhaustive list of things that we collect by checking out the\n[feedback functionality](https://github.com/xwiki-labs/cryptpad/search?p=2&q=Cryptpad.feedback&type=&utf8=%E2%9C%93) in the CryptPad source code but\nas of the time of this writing, we are collecting feedback about the following\nthings (usually we just collect the fact that an event occurred, not more).\n\n* Clicking \"upgrade account\"\n* Clicking \"support cryptpad\"\n* Presentation: clicking on \"print slides\"\n* Registering and logging in\n* Opening your recent pads as an anonymous user\n* Clicking any CKEditor button such as \"bold\" or \"italic\"\n* Displaying the drive as icons or as a list\n* Creating and using templates\n* Showing and hiding the userlist or CKEditor menu bar\n* Whether your browser is missing certain important features like\n[Proxy](https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Proxy),\n[isArray](https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Array/isArray)\nor [localStorage](https://developer.mozilla.org/en/docs/Web/API/Window/localStorage)\n* Which type of pad you are using\n* The dimensions of your browser window\n* When you have changed your display name\n* Whether you have migrated your CryptDrive from the legacy format\n\nIf you are worried about what we might do with this data, you can disable\nfeedback collection in your [settings page](https://cryptpad.fr/settings/). But\nkeep in mind that if you disable it we cannot help but know, because your IP\naddress will be in the tiny minority of addresses which access the site but don't\nsend feedback messages.\n\n## What we can learn from the data\n\n\n### 1. People mostly use CryptPad to make a plain old pad\nBut the code/markdown pad and the CryptDrive are catching up.\n![Unique IPs per pad type](/images/Analytics-padtypes.png)\n\n### 2. Activity has been on a very slow rise but with a few spikes\nThis chart shows unique IPs per day hitting CryptPad. You can things are relatively\nflat over time except for a big day in June and then some increased activity in July\nafter the UI improvements were rolled out.\n![Unique IPs per day](/images/Analytics-uniques.png)\n\n### 3. Browser window dimensions are all over the map\nThis chart shows bubbles which are bigger depending on how many different IPs\nreport the same browser window dimensions. Tragically it seems that there is no\nway to predict what aspect ratio a device using CryptPad is going to have.\n![Browser window dimensions](/images/Analytics-browserdimensions.png)\n\n### 4. Lots of pads are made and then abandoned\nThe first chart shows in blue the number of pads created each day and the number\nof pads which become \"abandoned\" (have not been touched in 2 weeks). This says\nthat perhaps pads are considered ephimeral and not to be used for the long term.\n![Created vs. abandoned pads](/images/Analytics-createdabandoned.png)\n\nHere we can see the evolution of pads which have been accessed within the last\nday the last week and the last month. There is slow but steady growth in the\npads active in the past month.\n![Number of active pads](/images/Analytics-activepads.png)\n\n### 5. People use CryptPad for a while, then leave\nWe measured 15,000 IP addresses which came to CryptPad just to look at one pad and\nthen left, but of the 13,000 who stayed longer than that we analyzed the time when\nthey first arrived and the time when they made their last visit. About 630 IP\naddressses have been continually using CryptPad for all 45 days.\n![Number of IPs continuing to access CryptPad](/images/Analytics-peopleleave.png)\nWe want to make CryptPad a useful tool for helping people get organized and make\ntheir projects succeed. So whenever people decide that CryptPad is not the right\nanswer for them, we care about what went wrong and how we can make it better.\n\n## How we analyze this data\n\nWe do all of our analysis ourselves, and we don't share any of this data with Google\nor other data companies. We're thankful to\n[Kibana/ElasticSearch](https://www.elastic.co/products/kibana) and\n[LogStash](https://www.elastic.co/products/logstash) for making it possible to do\nin depth analysis on our own computers without resorting to a cloud service.\n","source":"_posts/cryptpad-analytics-what-we-cant-know-what-we-must-know-what-we-want-to-know.md","raw":"---\ntitle: CryptPad Analytics & Privacy - What we can't know, what we must know, what we want to know\ndate: 2017-07-07 13:41:02\nauthor: Caleb James DeLisle\ntags:\n  - analytics\n  - data\n  - privacy\n---\n\nCryptPad is a Zero Knowledge cloud application, this means we have designed it such\nthat we do not have any access to the content which is hosted on our server.\nHowever, there are other things which we do collect and it is important that\nprivacy-minded users understand what we are collecting and why. There are four\ntypes of information:\n\n* What we can't know: This is data that CryptPad app encrypts so we will never have\naccess to it\n* What we must see but don't collect: This is information which we don't bother\nto store but because of how the technology works, we necessarily have access to it.\n* What we must know: This is metadata which we cannot help but see because of the\nway the technology works\n* What we want to know: This is information which we really want to know in order\nto make CryptPad better every day\n\nWe want to know everything about *people*, we want to know how *people* use CryptPad,\nwhy *people* use CryptPad and how we can make their experience easier. However, we\ndon't want to know anything at all about *you*.\n\nThis poses a challenge because we want to collect as much aggregate information as we\ncan in order to make a great web service, but we don't want to collect data that can\nbe *linked* in order to tell a story about you.\n\n## What we can't know\n\nThere are a few things which the Zero Knowledge design of CryptPad does not allow\nus to know at all. These include (obviously) your password and the content of your\npads, but less obviously, the titles of your pads, the names of the contributors and\nyour username (you can even have the same username as someone else on the system, we\nwon't know). The types of your pads are also unknown to us though we could make\neducated guesses by looking at the encrypted data.\n\n*It is our promise to you that we will never collect this information.*\n\n## What we could know but don't bother to collect\n\nThere are also some things which we don't really want to know but we cannot avoid\nseeing it anyway. This includes most importantly the IP addresses of people who\nedited a specific pad. Technically we know your\n[IP address](https://en.wikipedia.org/wiki/IP_address) because it's how you\ncommunicate with our server, but most of the actual operations are done using\ncommands sent down a [WebSocket](https://en.wikipedia.org/wiki/WebSocket).\nOnce the WebSocket is established, we assign you a random ID and this is how\nyou are referenced, what appears in our server logs looks like this:\n\n```\n198.167.222.70 - - [06/Jul/2017:20:47:45 +0200] \"GET /pad/ HTTP/1.1\"\n304 0 \"-\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10_5) AppleWebKit/537.36\n(KHTML, like Gecko) Chrome/59.0.3071.109 Safari/537.36\" \"-\"\n```\n\nNotice there is no pad ID in there, the pad ID is not in the URL so it doesn't go\nin the server logs by default.\n\nCompare this with EtherPad:\n\n```\n  IP Address                                             Pad ID\n198.167.222.70 - - [06/Jul/2017:11:54:37 -0700] \"GET /p/UNWnpczTkq HTTP/1.1\"\n200 8920 \"https://pad.meshwith.me/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X\n10_10_5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.109\nSafari/537.36\"\n```\n\n*You cannot verify that we're not collecting this so best assume that we are.*\n\n## What we must know\n\nThere are some things which we need to know in order for CryptPad to function\nproperly, we need to know which pads are in your drive in order to impose\nstorage limits on logged-in users and to expire pads which nobody cares about.\nHowever, we don't know much about who you are. Since we don't know your username,\nto us you are identified by a public signing key, something like this:\n\n`YIBzjPr3beuGgfHNglGfo3xq-dquxsj4Bst-ze7mL9A`\n\nWe know that `YIBzjPr3beuGgfHNglGfo3xq-dquxsj4Bst-ze7mL9A` has 392 MB of data in\ntheir CryptDrive including a pad of some type which has the ID\n`fe382219b10c0396de63d2bab7942390` and an uploaded which we know as\n`ff2fdf9bb99ecc89d29d780780de10efdac14ed15e93b235`. One of these pads that they\nhave is actually their drive itself, but we don't strictly know which one (again,\nwe can take guesses based on the size of the patches). You can find out what your\nsigning key is by looking at in your [settings page](https://cryptpad.fr/settings).\n\nWe also know when each pad was last accessed so that we can know to delete pads\nwhich are not in anybody's CryptDrive and have not been opened in a long time.\n\n### Why we can't avoid collecting IP addresses\n\nBeing able to know how many *different* people are using CryptPad is very important\nto us. One rather rude person decided to try to crash our server by creating 647,533\npads. They didn't put much thought into their attack because what they were doing\nwas not actually creating pads, but it illustrates the problem that if we don't\nknow how many *different* people are using the server, we don't have any idea\nwhether we are popular or under attack. Worse, we don't know what features have\nwidespread support vs. which ones are only popular with a few prolific users.\n\nOne obvious thought is to simply run the IP addresses through a hash function the\nway we traditionally hash passwords. However this sadly cannot work because there\nare only 4.2 billion IPv4 addresses and constructing a\n[rainbow table](https://en.wikipedia.org/wiki/Rainbow_table) to get back the\noriginal IP addresses would take only about 1 day of computer time. So in the end\nwe simply log the IP addresses and don't worry about it.\n\n### What a pad looks like to us\n\nA pad is stored as a file which represents a sequence of encrypted *patches*.\nThese patches change the content of the pad from nothing to whatever it becomes in\nthe end. A typical message looks something like this:\n```\n[0,\"69d46337f826c0ecd881be59c119a527\",\"MSG\",\"fe382219b10c0396de63d2bab7942390\",\"51Q....\"]\n```\nIt starts with a zero and then your temporary random ID, then it contains the word\nMSG and the ID of the pad which it is sent to, this format is exactly the same as\nwhat is sent on the wire. Finally it contains the encrypted patch which tells us\nessentially nothing except it gives us a rough idea of just how big the change was.\n\nOccasionally the client will send a *checkpoint*, this is a special patch which\nremoves all of the content and then puts it all back again. To us, a checkpoint\nlooks the same as anything else, it is a big ball of encrypted data, except in this\ncase it is flagged as a checkpoint so the server knows it can send only part of\nthe history of the pad instead of all of it. However, they do give us a good idea\nof how big the pad actually is at that time.\n\n## What we collect because we want to know\n\nWhat we really want to understand is your *experience* with CryptPad and how we can\nmake that experience better. So therefore we collect quite a number of data-points\nabout where people click and what their browser supports. For example we collect\nthe dimensions of your browser. Not because we want to know who you are but because\nwe want to know that types of browsers we need to support.\n\n```\n198.167.222.70 - - [06/Jul/2017:21:26:15 +0200]\n\"HEAD /common/feedback.html?DIMENSIONS:752x1440=1499369175085 HTTP/1.1\" 200 0\n\"https://cryptpad.fr/settings/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10_5)\nAppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.109 Safari/537.36\" \"-\"\n```\n\nYou can see an exhaustive list of things that we collect by checking out the\n[feedback functionality](https://github.com/xwiki-labs/cryptpad/search?p=2&q=Cryptpad.feedback&type=&utf8=%E2%9C%93) in the CryptPad source code but\nas of the time of this writing, we are collecting feedback about the following\nthings (usually we just collect the fact that an event occurred, not more).\n\n* Clicking \"upgrade account\"\n* Clicking \"support cryptpad\"\n* Presentation: clicking on \"print slides\"\n* Registering and logging in\n* Opening your recent pads as an anonymous user\n* Clicking any CKEditor button such as \"bold\" or \"italic\"\n* Displaying the drive as icons or as a list\n* Creating and using templates\n* Showing and hiding the userlist or CKEditor menu bar\n* Whether your browser is missing certain important features like\n[Proxy](https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Proxy),\n[isArray](https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Array/isArray)\nor [localStorage](https://developer.mozilla.org/en/docs/Web/API/Window/localStorage)\n* Which type of pad you are using\n* The dimensions of your browser window\n* When you have changed your display name\n* Whether you have migrated your CryptDrive from the legacy format\n\nIf you are worried about what we might do with this data, you can disable\nfeedback collection in your [settings page](https://cryptpad.fr/settings/). But\nkeep in mind that if you disable it we cannot help but know, because your IP\naddress will be in the tiny minority of addresses which access the site but don't\nsend feedback messages.\n\n## What we can learn from the data\n\n\n### 1. People mostly use CryptPad to make a plain old pad\nBut the code/markdown pad and the CryptDrive are catching up.\n![Unique IPs per pad type](/images/Analytics-padtypes.png)\n\n### 2. Activity has been on a very slow rise but with a few spikes\nThis chart shows unique IPs per day hitting CryptPad. You can things are relatively\nflat over time except for a big day in June and then some increased activity in July\nafter the UI improvements were rolled out.\n![Unique IPs per day](/images/Analytics-uniques.png)\n\n### 3. Browser window dimensions are all over the map\nThis chart shows bubbles which are bigger depending on how many different IPs\nreport the same browser window dimensions. Tragically it seems that there is no\nway to predict what aspect ratio a device using CryptPad is going to have.\n![Browser window dimensions](/images/Analytics-browserdimensions.png)\n\n### 4. Lots of pads are made and then abandoned\nThe first chart shows in blue the number of pads created each day and the number\nof pads which become \"abandoned\" (have not been touched in 2 weeks). This says\nthat perhaps pads are considered ephimeral and not to be used for the long term.\n![Created vs. abandoned pads](/images/Analytics-createdabandoned.png)\n\nHere we can see the evolution of pads which have been accessed within the last\nday the last week and the last month. There is slow but steady growth in the\npads active in the past month.\n![Number of active pads](/images/Analytics-activepads.png)\n\n### 5. People use CryptPad for a while, then leave\nWe measured 15,000 IP addresses which came to CryptPad just to look at one pad and\nthen left, but of the 13,000 who stayed longer than that we analyzed the time when\nthey first arrived and the time when they made their last visit. About 630 IP\naddressses have been continually using CryptPad for all 45 days.\n![Number of IPs continuing to access CryptPad](/images/Analytics-peopleleave.png)\nWe want to make CryptPad a useful tool for helping people get organized and make\ntheir projects succeed. So whenever people decide that CryptPad is not the right\nanswer for them, we care about what went wrong and how we can make it better.\n\n## How we analyze this data\n\nWe do all of our analysis ourselves, and we don't share any of this data with Google\nor other data companies. We're thankful to\n[Kibana/ElasticSearch](https://www.elastic.co/products/kibana) and\n[LogStash](https://www.elastic.co/products/logstash) for making it possible to do\nin depth analysis on our own computers without resorting to a cloud service.\n","slug":"cryptpad-analytics-what-we-cant-know-what-we-must-know-what-we-want-to-know","published":1,"updated":"2018-06-15T10:06:34.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjjttvr0f000s7ezfzx3ptg38","content":"<p>CryptPad is a Zero Knowledge cloud application, this means we have designed it such\nthat we do not have any access to the content which is hosted on our server.\nHowever, there are other things which we do collect and it is important that\nprivacy-minded users understand what we are collecting and why. There are four\ntypes of information:</p>\n<ul>\n<li>What we can’t know: This is data that CryptPad app encrypts so we will never have\naccess to it</li>\n<li>What we must see but don’t collect: This is information which we don’t bother\nto store but because of how the technology works, we necessarily have access to it.</li>\n<li>What we must know: This is metadata which we cannot help but see because of the\nway the technology works</li>\n<li>What we want to know: This is information which we really want to know in order\nto make CryptPad better every day</li>\n</ul>\n<p>We want to know everything about <em>people</em>, we want to know how <em>people</em> use CryptPad,\nwhy <em>people</em> use CryptPad and how we can make their experience easier. However, we\ndon’t want to know anything at all about <em>you</em>.</p>\n<p>This poses a challenge because we want to collect as much aggregate information as we\ncan in order to make a great web service, but we don’t want to collect data that can\nbe <em>linked</em> in order to tell a story about you.</p>\n<h2 id=\"What-we-can’t-know\"><a href=\"#What-we-can’t-know\" class=\"headerlink\" title=\"What we can’t know\"></a>What we can’t know</h2><p>There are a few things which the Zero Knowledge design of CryptPad does not allow\nus to know at all. These include (obviously) your password and the content of your\npads, but less obviously, the titles of your pads, the names of the contributors and\nyour username (you can even have the same username as someone else on the system, we\nwon’t know). The types of your pads are also unknown to us though we could make\neducated guesses by looking at the encrypted data.</p>\n<p><em>It is our promise to you that we will never collect this information.</em></p>\n<h2 id=\"What-we-could-know-but-don’t-bother-to-collect\"><a href=\"#What-we-could-know-but-don’t-bother-to-collect\" class=\"headerlink\" title=\"What we could know but don’t bother to collect\"></a>What we could know but don’t bother to collect</h2><p>There are also some things which we don’t really want to know but we cannot avoid\nseeing it anyway. This includes most importantly the IP addresses of people who\nedited a specific pad. Technically we know your\n<a href=\"https://en.wikipedia.org/wiki/IP_address\" target=\"_blank\" rel=\"external\">IP address</a> because it’s how you\ncommunicate with our server, but most of the actual operations are done using\ncommands sent down a <a href=\"https://en.wikipedia.org/wiki/WebSocket\" target=\"_blank\" rel=\"external\">WebSocket</a>.\nOnce the WebSocket is established, we assign you a random ID and this is how\nyou are referenced, what appears in our server logs looks like this:</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\">198.167.222.70 - - [06/Jul/2017:20:47:45 +0200] &quot;GET /pad/ HTTP/1.1&quot;</div><div class=\"line\">304 0 &quot;-&quot; &quot;Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10_5) AppleWebKit/537.36</div><div class=\"line\">(KHTML, like Gecko) Chrome/59.0.3071.109 Safari/537.36&quot; &quot;-&quot;</div></pre></td></tr></table></figure>\n<p>Notice there is no pad ID in there, the pad ID is not in the URL so it doesn’t go\nin the server logs by default.</p>\n<p>Compare this with EtherPad:</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\">  IP Address                                             Pad ID</div><div class=\"line\">198.167.222.70 - - [06/Jul/2017:11:54:37 -0700] &quot;GET /p/UNWnpczTkq HTTP/1.1&quot;</div><div class=\"line\">200 8920 &quot;https://pad.meshwith.me/&quot; &quot;Mozilla/5.0 (Macintosh; Intel Mac OS X</div><div class=\"line\">10_10_5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.109</div><div class=\"line\">Safari/537.36&quot;</div></pre></td></tr></table></figure>\n<p><em>You cannot verify that we’re not collecting this so best assume that we are.</em></p>\n<h2 id=\"What-we-must-know\"><a href=\"#What-we-must-know\" class=\"headerlink\" title=\"What we must know\"></a>What we must know</h2><p>There are some things which we need to know in order for CryptPad to function\nproperly, we need to know which pads are in your drive in order to impose\nstorage limits on logged-in users and to expire pads which nobody cares about.\nHowever, we don’t know much about who you are. Since we don’t know your username,\nto us you are identified by a public signing key, something like this:</p>\n<p><code>YIBzjPr3beuGgfHNglGfo3xq-dquxsj4Bst-ze7mL9A</code></p>\n<p>We know that <code>YIBzjPr3beuGgfHNglGfo3xq-dquxsj4Bst-ze7mL9A</code> has 392 MB of data in\ntheir CryptDrive including a pad of some type which has the ID\n<code>fe382219b10c0396de63d2bab7942390</code> and an uploaded which we know as\n<code>ff2fdf9bb99ecc89d29d780780de10efdac14ed15e93b235</code>. One of these pads that they\nhave is actually their drive itself, but we don’t strictly know which one (again,\nwe can take guesses based on the size of the patches). You can find out what your\nsigning key is by looking at in your <a href=\"https://cryptpad.fr/settings\" target=\"_blank\" rel=\"external\">settings page</a>.</p>\n<p>We also know when each pad was last accessed so that we can know to delete pads\nwhich are not in anybody’s CryptDrive and have not been opened in a long time.</p>\n<h3 id=\"Why-we-can’t-avoid-collecting-IP-addresses\"><a href=\"#Why-we-can’t-avoid-collecting-IP-addresses\" class=\"headerlink\" title=\"Why we can’t avoid collecting IP addresses\"></a>Why we can’t avoid collecting IP addresses</h3><p>Being able to know how many <em>different</em> people are using CryptPad is very important\nto us. One rather rude person decided to try to crash our server by creating 647,533\npads. They didn’t put much thought into their attack because what they were doing\nwas not actually creating pads, but it illustrates the problem that if we don’t\nknow how many <em>different</em> people are using the server, we don’t have any idea\nwhether we are popular or under attack. Worse, we don’t know what features have\nwidespread support vs. which ones are only popular with a few prolific users.</p>\n<p>One obvious thought is to simply run the IP addresses through a hash function the\nway we traditionally hash passwords. However this sadly cannot work because there\nare only 4.2 billion IPv4 addresses and constructing a\n<a href=\"https://en.wikipedia.org/wiki/Rainbow_table\" target=\"_blank\" rel=\"external\">rainbow table</a> to get back the\noriginal IP addresses would take only about 1 day of computer time. So in the end\nwe simply log the IP addresses and don’t worry about it.</p>\n<h3 id=\"What-a-pad-looks-like-to-us\"><a href=\"#What-a-pad-looks-like-to-us\" class=\"headerlink\" title=\"What a pad looks like to us\"></a>What a pad looks like to us</h3><p>A pad is stored as a file which represents a sequence of encrypted <em>patches</em>.\nThese patches change the content of the pad from nothing to whatever it becomes in\nthe end. A typical message looks something like this:\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">[0,&quot;69d46337f826c0ecd881be59c119a527&quot;,&quot;MSG&quot;,&quot;fe382219b10c0396de63d2bab7942390&quot;,&quot;51Q....&quot;]</div></pre></td></tr></table></figure></p>\n<p>It starts with a zero and then your temporary random ID, then it contains the word\nMSG and the ID of the pad which it is sent to, this format is exactly the same as\nwhat is sent on the wire. Finally it contains the encrypted patch which tells us\nessentially nothing except it gives us a rough idea of just how big the change was.</p>\n<p>Occasionally the client will send a <em>checkpoint</em>, this is a special patch which\nremoves all of the content and then puts it all back again. To us, a checkpoint\nlooks the same as anything else, it is a big ball of encrypted data, except in this\ncase it is flagged as a checkpoint so the server knows it can send only part of\nthe history of the pad instead of all of it. However, they do give us a good idea\nof how big the pad actually is at that time.</p>\n<h2 id=\"What-we-collect-because-we-want-to-know\"><a href=\"#What-we-collect-because-we-want-to-know\" class=\"headerlink\" title=\"What we collect because we want to know\"></a>What we collect because we want to know</h2><p>What we really want to understand is your <em>experience</em> with CryptPad and how we can\nmake that experience better. So therefore we collect quite a number of data-points\nabout where people click and what their browser supports. For example we collect\nthe dimensions of your browser. Not because we want to know who you are but because\nwe want to know that types of browsers we need to support.</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div></pre></td><td class=\"code\"><pre><div class=\"line\">198.167.222.70 - - [06/Jul/2017:21:26:15 +0200]</div><div class=\"line\">&quot;HEAD /common/feedback.html?DIMENSIONS:752x1440=1499369175085 HTTP/1.1&quot; 200 0</div><div class=\"line\">&quot;https://cryptpad.fr/settings/&quot; &quot;Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10_5)</div><div class=\"line\">AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.109 Safari/537.36&quot; &quot;-&quot;</div></pre></td></tr></table></figure>\n<p>You can see an exhaustive list of things that we collect by checking out the\n<a href=\"https://github.com/xwiki-labs/cryptpad/search?p=2&amp;q=Cryptpad.feedback&amp;type=&amp;utf8=%E2%9C%93\" target=\"_blank\" rel=\"external\">feedback functionality</a> in the CryptPad source code but\nas of the time of this writing, we are collecting feedback about the following\nthings (usually we just collect the fact that an event occurred, not more).</p>\n<ul>\n<li>Clicking “upgrade account”</li>\n<li>Clicking “support cryptpad”</li>\n<li>Presentation: clicking on “print slides”</li>\n<li>Registering and logging in</li>\n<li>Opening your recent pads as an anonymous user</li>\n<li>Clicking any CKEditor button such as “bold” or “italic”</li>\n<li>Displaying the drive as icons or as a list</li>\n<li>Creating and using templates</li>\n<li>Showing and hiding the userlist or CKEditor menu bar</li>\n<li>Whether your browser is missing certain important features like\n<a href=\"https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Proxy\" target=\"_blank\" rel=\"external\">Proxy</a>,\n<a href=\"https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Array/isArray\" target=\"_blank\" rel=\"external\">isArray</a>\nor <a href=\"https://developer.mozilla.org/en/docs/Web/API/Window/localStorage\" target=\"_blank\" rel=\"external\">localStorage</a></li>\n<li>Which type of pad you are using</li>\n<li>The dimensions of your browser window</li>\n<li>When you have changed your display name</li>\n<li>Whether you have migrated your CryptDrive from the legacy format</li>\n</ul>\n<p>If you are worried about what we might do with this data, you can disable\nfeedback collection in your <a href=\"https://cryptpad.fr/settings/\" target=\"_blank\" rel=\"external\">settings page</a>. But\nkeep in mind that if you disable it we cannot help but know, because your IP\naddress will be in the tiny minority of addresses which access the site but don’t\nsend feedback messages.</p>\n<h2 id=\"What-we-can-learn-from-the-data\"><a href=\"#What-we-can-learn-from-the-data\" class=\"headerlink\" title=\"What we can learn from the data\"></a>What we can learn from the data</h2><h3 id=\"1-People-mostly-use-CryptPad-to-make-a-plain-old-pad\"><a href=\"#1-People-mostly-use-CryptPad-to-make-a-plain-old-pad\" class=\"headerlink\" title=\"1. People mostly use CryptPad to make a plain old pad\"></a>1. People mostly use CryptPad to make a plain old pad</h3><p>But the code/markdown pad and the CryptDrive are catching up.\n<img src=\"/images/Analytics-padtypes.png\" alt=\"Unique IPs per pad type\"></p>\n<h3 id=\"2-Activity-has-been-on-a-very-slow-rise-but-with-a-few-spikes\"><a href=\"#2-Activity-has-been-on-a-very-slow-rise-but-with-a-few-spikes\" class=\"headerlink\" title=\"2. Activity has been on a very slow rise but with a few spikes\"></a>2. Activity has been on a very slow rise but with a few spikes</h3><p>This chart shows unique IPs per day hitting CryptPad. You can things are relatively\nflat over time except for a big day in June and then some increased activity in July\nafter the UI improvements were rolled out.\n<img src=\"/images/Analytics-uniques.png\" alt=\"Unique IPs per day\"></p>\n<h3 id=\"3-Browser-window-dimensions-are-all-over-the-map\"><a href=\"#3-Browser-window-dimensions-are-all-over-the-map\" class=\"headerlink\" title=\"3. Browser window dimensions are all over the map\"></a>3. Browser window dimensions are all over the map</h3><p>This chart shows bubbles which are bigger depending on how many different IPs\nreport the same browser window dimensions. Tragically it seems that there is no\nway to predict what aspect ratio a device using CryptPad is going to have.\n<img src=\"/images/Analytics-browserdimensions.png\" alt=\"Browser window dimensions\"></p>\n<h3 id=\"4-Lots-of-pads-are-made-and-then-abandoned\"><a href=\"#4-Lots-of-pads-are-made-and-then-abandoned\" class=\"headerlink\" title=\"4. Lots of pads are made and then abandoned\"></a>4. Lots of pads are made and then abandoned</h3><p>The first chart shows in blue the number of pads created each day and the number\nof pads which become “abandoned” (have not been touched in 2 weeks). This says\nthat perhaps pads are considered ephimeral and not to be used for the long term.\n<img src=\"/images/Analytics-createdabandoned.png\" alt=\"Created vs. abandoned pads\"></p>\n<p>Here we can see the evolution of pads which have been accessed within the last\nday the last week and the last month. There is slow but steady growth in the\npads active in the past month.\n<img src=\"/images/Analytics-activepads.png\" alt=\"Number of active pads\"></p>\n<h3 id=\"5-People-use-CryptPad-for-a-while-then-leave\"><a href=\"#5-People-use-CryptPad-for-a-while-then-leave\" class=\"headerlink\" title=\"5. People use CryptPad for a while, then leave\"></a>5. People use CryptPad for a while, then leave</h3><p>We measured 15,000 IP addresses which came to CryptPad just to look at one pad and\nthen left, but of the 13,000 who stayed longer than that we analyzed the time when\nthey first arrived and the time when they made their last visit. About 630 IP\naddressses have been continually using CryptPad for all 45 days.\n<img src=\"/images/Analytics-peopleleave.png\" alt=\"Number of IPs continuing to access CryptPad\">\nWe want to make CryptPad a useful tool for helping people get organized and make\ntheir projects succeed. So whenever people decide that CryptPad is not the right\nanswer for them, we care about what went wrong and how we can make it better.</p>\n<h2 id=\"How-we-analyze-this-data\"><a href=\"#How-we-analyze-this-data\" class=\"headerlink\" title=\"How we analyze this data\"></a>How we analyze this data</h2><p>We do all of our analysis ourselves, and we don’t share any of this data with Google\nor other data companies. We’re thankful to\n<a href=\"https://www.elastic.co/products/kibana\" target=\"_blank\" rel=\"external\">Kibana/ElasticSearch</a> and\n<a href=\"https://www.elastic.co/products/logstash\" target=\"_blank\" rel=\"external\">LogStash</a> for making it possible to do\nin depth analysis on our own computers without resorting to a cloud service.</p>\n","excerpt":"","more":"<p>CryptPad is a Zero Knowledge cloud application, this means we have designed it such\nthat we do not have any access to the content which is hosted on our server.\nHowever, there are other things which we do collect and it is important that\nprivacy-minded users understand what we are collecting and why. There are four\ntypes of information:</p>\n<ul>\n<li>What we can’t know: This is data that CryptPad app encrypts so we will never have\naccess to it</li>\n<li>What we must see but don’t collect: This is information which we don’t bother\nto store but because of how the technology works, we necessarily have access to it.</li>\n<li>What we must know: This is metadata which we cannot help but see because of the\nway the technology works</li>\n<li>What we want to know: This is information which we really want to know in order\nto make CryptPad better every day</li>\n</ul>\n<p>We want to know everything about <em>people</em>, we want to know how <em>people</em> use CryptPad,\nwhy <em>people</em> use CryptPad and how we can make their experience easier. However, we\ndon’t want to know anything at all about <em>you</em>.</p>\n<p>This poses a challenge because we want to collect as much aggregate information as we\ncan in order to make a great web service, but we don’t want to collect data that can\nbe <em>linked</em> in order to tell a story about you.</p>\n<h2 id=\"What-we-can’t-know\"><a href=\"#What-we-can’t-know\" class=\"headerlink\" title=\"What we can’t know\"></a>What we can’t know</h2><p>There are a few things which the Zero Knowledge design of CryptPad does not allow\nus to know at all. These include (obviously) your password and the content of your\npads, but less obviously, the titles of your pads, the names of the contributors and\nyour username (you can even have the same username as someone else on the system, we\nwon’t know). The types of your pads are also unknown to us though we could make\neducated guesses by looking at the encrypted data.</p>\n<p><em>It is our promise to you that we will never collect this information.</em></p>\n<h2 id=\"What-we-could-know-but-don’t-bother-to-collect\"><a href=\"#What-we-could-know-but-don’t-bother-to-collect\" class=\"headerlink\" title=\"What we could know but don’t bother to collect\"></a>What we could know but don’t bother to collect</h2><p>There are also some things which we don’t really want to know but we cannot avoid\nseeing it anyway. This includes most importantly the IP addresses of people who\nedited a specific pad. Technically we know your\n<a href=\"https://en.wikipedia.org/wiki/IP_address\">IP address</a> because it’s how you\ncommunicate with our server, but most of the actual operations are done using\ncommands sent down a <a href=\"https://en.wikipedia.org/wiki/WebSocket\">WebSocket</a>.\nOnce the WebSocket is established, we assign you a random ID and this is how\nyou are referenced, what appears in our server logs looks like this:</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\">198.167.222.70 - - [06/Jul/2017:20:47:45 +0200] &quot;GET /pad/ HTTP/1.1&quot;</div><div class=\"line\">304 0 &quot;-&quot; &quot;Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10_5) AppleWebKit/537.36</div><div class=\"line\">(KHTML, like Gecko) Chrome/59.0.3071.109 Safari/537.36&quot; &quot;-&quot;</div></pre></td></tr></table></figure>\n<p>Notice there is no pad ID in there, the pad ID is not in the URL so it doesn’t go\nin the server logs by default.</p>\n<p>Compare this with EtherPad:</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\">  IP Address                                             Pad ID</div><div class=\"line\">198.167.222.70 - - [06/Jul/2017:11:54:37 -0700] &quot;GET /p/UNWnpczTkq HTTP/1.1&quot;</div><div class=\"line\">200 8920 &quot;https://pad.meshwith.me/&quot; &quot;Mozilla/5.0 (Macintosh; Intel Mac OS X</div><div class=\"line\">10_10_5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.109</div><div class=\"line\">Safari/537.36&quot;</div></pre></td></tr></table></figure>\n<p><em>You cannot verify that we’re not collecting this so best assume that we are.</em></p>\n<h2 id=\"What-we-must-know\"><a href=\"#What-we-must-know\" class=\"headerlink\" title=\"What we must know\"></a>What we must know</h2><p>There are some things which we need to know in order for CryptPad to function\nproperly, we need to know which pads are in your drive in order to impose\nstorage limits on logged-in users and to expire pads which nobody cares about.\nHowever, we don’t know much about who you are. Since we don’t know your username,\nto us you are identified by a public signing key, something like this:</p>\n<p><code>YIBzjPr3beuGgfHNglGfo3xq-dquxsj4Bst-ze7mL9A</code></p>\n<p>We know that <code>YIBzjPr3beuGgfHNglGfo3xq-dquxsj4Bst-ze7mL9A</code> has 392 MB of data in\ntheir CryptDrive including a pad of some type which has the ID\n<code>fe382219b10c0396de63d2bab7942390</code> and an uploaded which we know as\n<code>ff2fdf9bb99ecc89d29d780780de10efdac14ed15e93b235</code>. One of these pads that they\nhave is actually their drive itself, but we don’t strictly know which one (again,\nwe can take guesses based on the size of the patches). You can find out what your\nsigning key is by looking at in your <a href=\"https://cryptpad.fr/settings\">settings page</a>.</p>\n<p>We also know when each pad was last accessed so that we can know to delete pads\nwhich are not in anybody’s CryptDrive and have not been opened in a long time.</p>\n<h3 id=\"Why-we-can’t-avoid-collecting-IP-addresses\"><a href=\"#Why-we-can’t-avoid-collecting-IP-addresses\" class=\"headerlink\" title=\"Why we can’t avoid collecting IP addresses\"></a>Why we can’t avoid collecting IP addresses</h3><p>Being able to know how many <em>different</em> people are using CryptPad is very important\nto us. One rather rude person decided to try to crash our server by creating 647,533\npads. They didn’t put much thought into their attack because what they were doing\nwas not actually creating pads, but it illustrates the problem that if we don’t\nknow how many <em>different</em> people are using the server, we don’t have any idea\nwhether we are popular or under attack. Worse, we don’t know what features have\nwidespread support vs. which ones are only popular with a few prolific users.</p>\n<p>One obvious thought is to simply run the IP addresses through a hash function the\nway we traditionally hash passwords. However this sadly cannot work because there\nare only 4.2 billion IPv4 addresses and constructing a\n<a href=\"https://en.wikipedia.org/wiki/Rainbow_table\">rainbow table</a> to get back the\noriginal IP addresses would take only about 1 day of computer time. So in the end\nwe simply log the IP addresses and don’t worry about it.</p>\n<h3 id=\"What-a-pad-looks-like-to-us\"><a href=\"#What-a-pad-looks-like-to-us\" class=\"headerlink\" title=\"What a pad looks like to us\"></a>What a pad looks like to us</h3><p>A pad is stored as a file which represents a sequence of encrypted <em>patches</em>.\nThese patches change the content of the pad from nothing to whatever it becomes in\nthe end. A typical message looks something like this:\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">[0,&quot;69d46337f826c0ecd881be59c119a527&quot;,&quot;MSG&quot;,&quot;fe382219b10c0396de63d2bab7942390&quot;,&quot;51Q....&quot;]</div></pre></td></tr></table></figure></p>\n<p>It starts with a zero and then your temporary random ID, then it contains the word\nMSG and the ID of the pad which it is sent to, this format is exactly the same as\nwhat is sent on the wire. Finally it contains the encrypted patch which tells us\nessentially nothing except it gives us a rough idea of just how big the change was.</p>\n<p>Occasionally the client will send a <em>checkpoint</em>, this is a special patch which\nremoves all of the content and then puts it all back again. To us, a checkpoint\nlooks the same as anything else, it is a big ball of encrypted data, except in this\ncase it is flagged as a checkpoint so the server knows it can send only part of\nthe history of the pad instead of all of it. However, they do give us a good idea\nof how big the pad actually is at that time.</p>\n<h2 id=\"What-we-collect-because-we-want-to-know\"><a href=\"#What-we-collect-because-we-want-to-know\" class=\"headerlink\" title=\"What we collect because we want to know\"></a>What we collect because we want to know</h2><p>What we really want to understand is your <em>experience</em> with CryptPad and how we can\nmake that experience better. So therefore we collect quite a number of data-points\nabout where people click and what their browser supports. For example we collect\nthe dimensions of your browser. Not because we want to know who you are but because\nwe want to know that types of browsers we need to support.</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div></pre></td><td class=\"code\"><pre><div class=\"line\">198.167.222.70 - - [06/Jul/2017:21:26:15 +0200]</div><div class=\"line\">&quot;HEAD /common/feedback.html?DIMENSIONS:752x1440=1499369175085 HTTP/1.1&quot; 200 0</div><div class=\"line\">&quot;https://cryptpad.fr/settings/&quot; &quot;Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10_5)</div><div class=\"line\">AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.109 Safari/537.36&quot; &quot;-&quot;</div></pre></td></tr></table></figure>\n<p>You can see an exhaustive list of things that we collect by checking out the\n<a href=\"https://github.com/xwiki-labs/cryptpad/search?p=2&amp;q=Cryptpad.feedback&amp;type=&amp;utf8=%E2%9C%93\">feedback functionality</a> in the CryptPad source code but\nas of the time of this writing, we are collecting feedback about the following\nthings (usually we just collect the fact that an event occurred, not more).</p>\n<ul>\n<li>Clicking “upgrade account”</li>\n<li>Clicking “support cryptpad”</li>\n<li>Presentation: clicking on “print slides”</li>\n<li>Registering and logging in</li>\n<li>Opening your recent pads as an anonymous user</li>\n<li>Clicking any CKEditor button such as “bold” or “italic”</li>\n<li>Displaying the drive as icons or as a list</li>\n<li>Creating and using templates</li>\n<li>Showing and hiding the userlist or CKEditor menu bar</li>\n<li>Whether your browser is missing certain important features like\n<a href=\"https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Proxy\">Proxy</a>,\n<a href=\"https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Array/isArray\">isArray</a>\nor <a href=\"https://developer.mozilla.org/en/docs/Web/API/Window/localStorage\">localStorage</a></li>\n<li>Which type of pad you are using</li>\n<li>The dimensions of your browser window</li>\n<li>When you have changed your display name</li>\n<li>Whether you have migrated your CryptDrive from the legacy format</li>\n</ul>\n<p>If you are worried about what we might do with this data, you can disable\nfeedback collection in your <a href=\"https://cryptpad.fr/settings/\">settings page</a>. But\nkeep in mind that if you disable it we cannot help but know, because your IP\naddress will be in the tiny minority of addresses which access the site but don’t\nsend feedback messages.</p>\n<h2 id=\"What-we-can-learn-from-the-data\"><a href=\"#What-we-can-learn-from-the-data\" class=\"headerlink\" title=\"What we can learn from the data\"></a>What we can learn from the data</h2><h3 id=\"1-People-mostly-use-CryptPad-to-make-a-plain-old-pad\"><a href=\"#1-People-mostly-use-CryptPad-to-make-a-plain-old-pad\" class=\"headerlink\" title=\"1. People mostly use CryptPad to make a plain old pad\"></a>1. People mostly use CryptPad to make a plain old pad</h3><p>But the code/markdown pad and the CryptDrive are catching up.\n<img src=\"/images/Analytics-padtypes.png\" alt=\"Unique IPs per pad type\"></p>\n<h3 id=\"2-Activity-has-been-on-a-very-slow-rise-but-with-a-few-spikes\"><a href=\"#2-Activity-has-been-on-a-very-slow-rise-but-with-a-few-spikes\" class=\"headerlink\" title=\"2. Activity has been on a very slow rise but with a few spikes\"></a>2. Activity has been on a very slow rise but with a few spikes</h3><p>This chart shows unique IPs per day hitting CryptPad. You can things are relatively\nflat over time except for a big day in June and then some increased activity in July\nafter the UI improvements were rolled out.\n<img src=\"/images/Analytics-uniques.png\" alt=\"Unique IPs per day\"></p>\n<h3 id=\"3-Browser-window-dimensions-are-all-over-the-map\"><a href=\"#3-Browser-window-dimensions-are-all-over-the-map\" class=\"headerlink\" title=\"3. Browser window dimensions are all over the map\"></a>3. Browser window dimensions are all over the map</h3><p>This chart shows bubbles which are bigger depending on how many different IPs\nreport the same browser window dimensions. Tragically it seems that there is no\nway to predict what aspect ratio a device using CryptPad is going to have.\n<img src=\"/images/Analytics-browserdimensions.png\" alt=\"Browser window dimensions\"></p>\n<h3 id=\"4-Lots-of-pads-are-made-and-then-abandoned\"><a href=\"#4-Lots-of-pads-are-made-and-then-abandoned\" class=\"headerlink\" title=\"4. Lots of pads are made and then abandoned\"></a>4. Lots of pads are made and then abandoned</h3><p>The first chart shows in blue the number of pads created each day and the number\nof pads which become “abandoned” (have not been touched in 2 weeks). This says\nthat perhaps pads are considered ephimeral and not to be used for the long term.\n<img src=\"/images/Analytics-createdabandoned.png\" alt=\"Created vs. abandoned pads\"></p>\n<p>Here we can see the evolution of pads which have been accessed within the last\nday the last week and the last month. There is slow but steady growth in the\npads active in the past month.\n<img src=\"/images/Analytics-activepads.png\" alt=\"Number of active pads\"></p>\n<h3 id=\"5-People-use-CryptPad-for-a-while-then-leave\"><a href=\"#5-People-use-CryptPad-for-a-while-then-leave\" class=\"headerlink\" title=\"5. People use CryptPad for a while, then leave\"></a>5. People use CryptPad for a while, then leave</h3><p>We measured 15,000 IP addresses which came to CryptPad just to look at one pad and\nthen left, but of the 13,000 who stayed longer than that we analyzed the time when\nthey first arrived and the time when they made their last visit. About 630 IP\naddressses have been continually using CryptPad for all 45 days.\n<img src=\"/images/Analytics-peopleleave.png\" alt=\"Number of IPs continuing to access CryptPad\">\nWe want to make CryptPad a useful tool for helping people get organized and make\ntheir projects succeed. So whenever people decide that CryptPad is not the right\nanswer for them, we care about what went wrong and how we can make it better.</p>\n<h2 id=\"How-we-analyze-this-data\"><a href=\"#How-we-analyze-this-data\" class=\"headerlink\" title=\"How we analyze this data\"></a>How we analyze this data</h2><p>We do all of our analysis ourselves, and we don’t share any of this data with Google\nor other data companies. We’re thankful to\n<a href=\"https://www.elastic.co/products/kibana\">Kibana/ElasticSearch</a> and\n<a href=\"https://www.elastic.co/products/logstash\">LogStash</a> for making it possible to do\nin depth analysis on our own computers without resorting to a cloud service.</p>\n"},{"title":"Signing CryptPad","date":"2018-06-15T10:07:05.000Z","author":"Caleb James DeLisle","_content":"\nCryptPad was designed with a view that privacy should be default and cryptography should be invisible. In order to do this, we made use of the web-app model so people could just go to cryptpad.fr and immediately begin using the app, no installation necessary. However, this model has a known flaw, the server can decide what client-side code it will send to any given user, allowing a compromized server to serve code with a back-door vulnerability.\n\nRecently, I did an experiment to make CryptPad more secure against these types of attacks by signing the code. CryptPad is a unique webapp, even without considering the encryption aspect. There is no build system, the code we write is exactly the same as what your web browser runs. All of the CryptPad html, javascript and resources are static files which are served by a plain old web server. The data persistance is managed by an API server which the web browser communicates with using an HTML5 WebSocket. Finally, in order to add a layer of security against possible Cross Site Scripting attacks, CryptPad makes use of a [cross domain iframe](https://blog.cryptpad.fr/2017/08/30/CryptPad-s-new-Secure-Cross-Domain-Iframe/), protecting your encryption keys from the majority of the CryptPad code in the same way that your online bank is protected from that sketchy porn site open in another tab.\n\nSince CryptPad has no build system, there are many small javascript files which must be loaded. To do this, CryptPad uses [RequireJS](http://requirejs.org/). While many small files are generally considered to be bad for website performance, RequireJS uses the HTML5 [async attribute](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/script) to tell the browser not to block loading of other things while waiting for the scripts to load. Secondly, RequireJS also allows version numbers to be added to the script URLs which allows us to cache almost everything in the browser. Finally, we use the [HTTP/2](https://en.wikipedia.org/wiki/HTTP/2) protocol to serve resources because it allows multiple requests to be sent at the same time, while HTTP/2 is incompatible with WebSocket, this is ok because the web-app is served from a different server from the API server.\n\n## Chain of Trust\n\nJust one corrupted script is enough to render the security of an entire web-app useless, so in CryptPad we needed the signing to cover all javascript files. Fortunately there is a new HTML5 technology called [Subresource Integrity](https://developer.mozilla.org/en-US/docs/Web/Security/Subresource_Integrity) which allows putting the hash of a script in a script tag attribute and makes the browser verify the script before executing it.\n\nInsecure, some.website can serve you anything:\n\n```\n<script\n  src=\"https://some.website/path/to/script.js\"\n></script>\n```\n\nSecure, only one possible script can be sent by some.website or else the web browser will throw an error and refuse to run the script:\n\n```\n<script\n  src=\"https://some.website/path/to/script.js\"\n  integrity=\"sha256-G1KwaJYUEDsA1SD/6Wt4z0laskKzIwgqgs5cYH0CW/o=\"\n></script>\n```\n\nSo rather than signing every script, I only needed to make a list of hashes of every script, and sign that. What I needed was a way to generate a *manifest*, and so I developed a small program which could hash all of the javascript files in CryptPad and generate a manifest file. The content of the manifest looks something like this:\n\n```\n\"files\": {\n  \"assert\": {\n    \"frame\": {\n      \"frame.js\": \"BrN2JNnK4QJCztw3PyRRPAsEwSq5lczTBrRkzdLAFow=\",\n      \"respond.js\": \"yO0KFMHiCdE1fXFWPVaFB+Mmh37OCl/UNPpXrYtWF7A=\"\n    },\n    \"main.js\": \"ABf3uhmYVHWaHX6vhK8K2jAUY8XqRjjMJ2FqXVGLZE0=\",\n    \"translations\": {\n      \"main.js\": \"50Ami2eghyXcGKGYTaDK1vUeEuAEG7kcpvUoCKbUaUU=\"\n```\n\nIt contains a JSON tree which mirrors the files that are part of the CryptPad codebase and the hashes of the files for the Subresource Integrity check. Once the `manifest.js` file was created, then I needed a javascript file which would load and verify it. Since the manifest is different every time a new release is made, the verification of the manifest needed to be via *signing*. The manifest hash was signed along with a version number and those were placed in a file called `version.txt` and `version.txt` is loaded using a file called `sboot.js`. The hash of `sboot.js` was included directly into the html files which are cached, so `sboot.js` can never be changed at all.\n\n## Loading process\n\n### index.html\nFirst, the browser loads the html file, the html file contains a single script tag loading `sboot.js`\n\n```\n<script\n  async\n  data-bootload=\"/customize/template.js\"\n  src=\"/common/sboot.js?ver=8IaxCUqjpzoP7AEPEk%2B%2BVQ%2BBk83mRdXx4dK%2BXvSNPcI%3D\"\n  integrity=\"sha256-8IaxCUqjpzoP7AEPEk++VQ+Bk83mRdXx4dK+XvSNPcI=\"\n></script>\n```\n\nThere is a custom attribute called `data-bootload` which indicates which javascript file should be loaded for that `html` file.\n\n### sboot.js\n\nWhen `sboot.js` gets loaded, it downloads and then verifies `version.txt` which is a signed message containing the CryptPad version number and the hash of `manifest.js`. The content that is signed looks something like this:\n\n```\n[85,\"h+tOXVmYBWMmiVDylXvnRq28LWRVs6xy+goBwNEELZk=\"]\n```\n\nThe version number (85) is not the CryptPad version but rather an auto-incrementing number which is stored in the browser localStorage and prevents the server from downgrading the version of CryptPad. After the signature/version check completes successfully, `sboot.js` loads `manifest.js` like the following:\n\n```\n<script\n  async\n  src=\"/customize/manifest.js?ver=h%2BtOXVmYBWMmiVDylXvnRq28LWRVs6xy%2BgoBwNEELZk%3D\"\n  integrity=\"sha256-h+tOXVmYBWMmiVDylXvnRq28LWRVs6xy+goBwNEELZk=\"\n></script>\n```\n\nYou will notice that the hash is used also in the URL of `manifest.js`, this allows the server to signal that the files are immutable and can be cached by the browser forever which makes CryptPad load faster next time.\n\nAfter `manifest.js` loads, `sboot.js` finds the hash of `require.js` in the manifest and then manually loads `require.js` in the same way. Once `require.js` is loaded, `sboot.js` configures require to use the hashes from the manifest for every file it loads, then it uses require to load `boot2.js`.\n\n### boot2.js\n\nThis file is not needed for security, but unlike `sboot.js`, it can easily be changed from release to release and it contains any code which should be run before the main CryptPad code. Things such as additional requirejs configuration and shims for missing browser APIs are placed here. After `boot2.js` is complete, it reads the `data-bootload` attribute from the html file and invokes require to load that.\n\n## Further development\n\nWhile this system provides excellent security, it is still not perfect. If the root html file is compromized then it can alter the chain of trust, or scrap it completely. With a very long cache header, the browser will store the html file essentially forever, but if the user triggers a hard reload with the F5 key, then the cache will be flushed.\n\nThe root html file can be signed using pgp and then verified using the [signed pages](https://github.com/tasn/webext-signed-pages) chrome extension. But signed pages is not able to prevent the loading of the website even if the signature is invalid and it only takes 1 second for the keys in localStorage to be leaked.\n\nIf the root html file was *generated* by the server each load, it could contain a secret key which is used to encrypt the keys in the localStorage, thus rendering them unusable if the html file is re-loaded, and meaning that the user must re-enter their password and would then be able to see that the signature on the html file is invalid, however unless signed pages can ignore the key inside of the html file when verifying the signature, it would have to be re-signed every time, pushing the pgp key onto the server, which we are worried about being compromized.\n\nThere are also a number of configuration files in the CryptPad project which are in fact javascript files and would thus be signed by the release manager, preventing anyone hosting CryptPad from changing them so it may be a long time before this project is merged into CryptPad mainline, however it is available and you can experiment with it by checking out the [code-integrity](https://github.com/xwiki-labs/cryptpad/tree/code-integrity) branch of the CryptPad project.","source":"_posts/Signing-CryptPad.md","raw":"---\ntitle: Signing CryptPad\ndate: 2018-06-15 12:07:05\nauthor: Caleb James DeLisle\ntags:\n  - signing\n  - subresource integrity\n  - chain of trust\n---\n\nCryptPad was designed with a view that privacy should be default and cryptography should be invisible. In order to do this, we made use of the web-app model so people could just go to cryptpad.fr and immediately begin using the app, no installation necessary. However, this model has a known flaw, the server can decide what client-side code it will send to any given user, allowing a compromized server to serve code with a back-door vulnerability.\n\nRecently, I did an experiment to make CryptPad more secure against these types of attacks by signing the code. CryptPad is a unique webapp, even without considering the encryption aspect. There is no build system, the code we write is exactly the same as what your web browser runs. All of the CryptPad html, javascript and resources are static files which are served by a plain old web server. The data persistance is managed by an API server which the web browser communicates with using an HTML5 WebSocket. Finally, in order to add a layer of security against possible Cross Site Scripting attacks, CryptPad makes use of a [cross domain iframe](https://blog.cryptpad.fr/2017/08/30/CryptPad-s-new-Secure-Cross-Domain-Iframe/), protecting your encryption keys from the majority of the CryptPad code in the same way that your online bank is protected from that sketchy porn site open in another tab.\n\nSince CryptPad has no build system, there are many small javascript files which must be loaded. To do this, CryptPad uses [RequireJS](http://requirejs.org/). While many small files are generally considered to be bad for website performance, RequireJS uses the HTML5 [async attribute](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/script) to tell the browser not to block loading of other things while waiting for the scripts to load. Secondly, RequireJS also allows version numbers to be added to the script URLs which allows us to cache almost everything in the browser. Finally, we use the [HTTP/2](https://en.wikipedia.org/wiki/HTTP/2) protocol to serve resources because it allows multiple requests to be sent at the same time, while HTTP/2 is incompatible with WebSocket, this is ok because the web-app is served from a different server from the API server.\n\n## Chain of Trust\n\nJust one corrupted script is enough to render the security of an entire web-app useless, so in CryptPad we needed the signing to cover all javascript files. Fortunately there is a new HTML5 technology called [Subresource Integrity](https://developer.mozilla.org/en-US/docs/Web/Security/Subresource_Integrity) which allows putting the hash of a script in a script tag attribute and makes the browser verify the script before executing it.\n\nInsecure, some.website can serve you anything:\n\n```\n<script\n  src=\"https://some.website/path/to/script.js\"\n></script>\n```\n\nSecure, only one possible script can be sent by some.website or else the web browser will throw an error and refuse to run the script:\n\n```\n<script\n  src=\"https://some.website/path/to/script.js\"\n  integrity=\"sha256-G1KwaJYUEDsA1SD/6Wt4z0laskKzIwgqgs5cYH0CW/o=\"\n></script>\n```\n\nSo rather than signing every script, I only needed to make a list of hashes of every script, and sign that. What I needed was a way to generate a *manifest*, and so I developed a small program which could hash all of the javascript files in CryptPad and generate a manifest file. The content of the manifest looks something like this:\n\n```\n\"files\": {\n  \"assert\": {\n    \"frame\": {\n      \"frame.js\": \"BrN2JNnK4QJCztw3PyRRPAsEwSq5lczTBrRkzdLAFow=\",\n      \"respond.js\": \"yO0KFMHiCdE1fXFWPVaFB+Mmh37OCl/UNPpXrYtWF7A=\"\n    },\n    \"main.js\": \"ABf3uhmYVHWaHX6vhK8K2jAUY8XqRjjMJ2FqXVGLZE0=\",\n    \"translations\": {\n      \"main.js\": \"50Ami2eghyXcGKGYTaDK1vUeEuAEG7kcpvUoCKbUaUU=\"\n```\n\nIt contains a JSON tree which mirrors the files that are part of the CryptPad codebase and the hashes of the files for the Subresource Integrity check. Once the `manifest.js` file was created, then I needed a javascript file which would load and verify it. Since the manifest is different every time a new release is made, the verification of the manifest needed to be via *signing*. The manifest hash was signed along with a version number and those were placed in a file called `version.txt` and `version.txt` is loaded using a file called `sboot.js`. The hash of `sboot.js` was included directly into the html files which are cached, so `sboot.js` can never be changed at all.\n\n## Loading process\n\n### index.html\nFirst, the browser loads the html file, the html file contains a single script tag loading `sboot.js`\n\n```\n<script\n  async\n  data-bootload=\"/customize/template.js\"\n  src=\"/common/sboot.js?ver=8IaxCUqjpzoP7AEPEk%2B%2BVQ%2BBk83mRdXx4dK%2BXvSNPcI%3D\"\n  integrity=\"sha256-8IaxCUqjpzoP7AEPEk++VQ+Bk83mRdXx4dK+XvSNPcI=\"\n></script>\n```\n\nThere is a custom attribute called `data-bootload` which indicates which javascript file should be loaded for that `html` file.\n\n### sboot.js\n\nWhen `sboot.js` gets loaded, it downloads and then verifies `version.txt` which is a signed message containing the CryptPad version number and the hash of `manifest.js`. The content that is signed looks something like this:\n\n```\n[85,\"h+tOXVmYBWMmiVDylXvnRq28LWRVs6xy+goBwNEELZk=\"]\n```\n\nThe version number (85) is not the CryptPad version but rather an auto-incrementing number which is stored in the browser localStorage and prevents the server from downgrading the version of CryptPad. After the signature/version check completes successfully, `sboot.js` loads `manifest.js` like the following:\n\n```\n<script\n  async\n  src=\"/customize/manifest.js?ver=h%2BtOXVmYBWMmiVDylXvnRq28LWRVs6xy%2BgoBwNEELZk%3D\"\n  integrity=\"sha256-h+tOXVmYBWMmiVDylXvnRq28LWRVs6xy+goBwNEELZk=\"\n></script>\n```\n\nYou will notice that the hash is used also in the URL of `manifest.js`, this allows the server to signal that the files are immutable and can be cached by the browser forever which makes CryptPad load faster next time.\n\nAfter `manifest.js` loads, `sboot.js` finds the hash of `require.js` in the manifest and then manually loads `require.js` in the same way. Once `require.js` is loaded, `sboot.js` configures require to use the hashes from the manifest for every file it loads, then it uses require to load `boot2.js`.\n\n### boot2.js\n\nThis file is not needed for security, but unlike `sboot.js`, it can easily be changed from release to release and it contains any code which should be run before the main CryptPad code. Things such as additional requirejs configuration and shims for missing browser APIs are placed here. After `boot2.js` is complete, it reads the `data-bootload` attribute from the html file and invokes require to load that.\n\n## Further development\n\nWhile this system provides excellent security, it is still not perfect. If the root html file is compromized then it can alter the chain of trust, or scrap it completely. With a very long cache header, the browser will store the html file essentially forever, but if the user triggers a hard reload with the F5 key, then the cache will be flushed.\n\nThe root html file can be signed using pgp and then verified using the [signed pages](https://github.com/tasn/webext-signed-pages) chrome extension. But signed pages is not able to prevent the loading of the website even if the signature is invalid and it only takes 1 second for the keys in localStorage to be leaked.\n\nIf the root html file was *generated* by the server each load, it could contain a secret key which is used to encrypt the keys in the localStorage, thus rendering them unusable if the html file is re-loaded, and meaning that the user must re-enter their password and would then be able to see that the signature on the html file is invalid, however unless signed pages can ignore the key inside of the html file when verifying the signature, it would have to be re-signed every time, pushing the pgp key onto the server, which we are worried about being compromized.\n\nThere are also a number of configuration files in the CryptPad project which are in fact javascript files and would thus be signed by the release manager, preventing anyone hosting CryptPad from changing them so it may be a long time before this project is merged into CryptPad mainline, however it is available and you can experiment with it by checking out the [code-integrity](https://github.com/xwiki-labs/cryptpad/tree/code-integrity) branch of the CryptPad project.","slug":"Signing-CryptPad","published":1,"updated":"2018-06-15T10:08:36.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjjttvr1c002p7ezfs1ufjoce","content":"<p>CryptPad was designed with a view that privacy should be default and cryptography should be invisible. In order to do this, we made use of the web-app model so people could just go to cryptpad.fr and immediately begin using the app, no installation necessary. However, this model has a known flaw, the server can decide what client-side code it will send to any given user, allowing a compromized server to serve code with a back-door vulnerability.</p>\n<p>Recently, I did an experiment to make CryptPad more secure against these types of attacks by signing the code. CryptPad is a unique webapp, even without considering the encryption aspect. There is no build system, the code we write is exactly the same as what your web browser runs. All of the CryptPad html, javascript and resources are static files which are served by a plain old web server. The data persistance is managed by an API server which the web browser communicates with using an HTML5 WebSocket. Finally, in order to add a layer of security against possible Cross Site Scripting attacks, CryptPad makes use of a <a href=\"https://blog.cryptpad.fr/2017/08/30/CryptPad-s-new-Secure-Cross-Domain-Iframe/\">cross domain iframe</a>, protecting your encryption keys from the majority of the CryptPad code in the same way that your online bank is protected from that sketchy porn site open in another tab.</p>\n<p>Since CryptPad has no build system, there are many small javascript files which must be loaded. To do this, CryptPad uses <a href=\"http://requirejs.org/\" target=\"_blank\" rel=\"external\">RequireJS</a>. While many small files are generally considered to be bad for website performance, RequireJS uses the HTML5 <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTML/Element/script\" target=\"_blank\" rel=\"external\">async attribute</a> to tell the browser not to block loading of other things while waiting for the scripts to load. Secondly, RequireJS also allows version numbers to be added to the script URLs which allows us to cache almost everything in the browser. Finally, we use the <a href=\"https://en.wikipedia.org/wiki/HTTP/2\" target=\"_blank\" rel=\"external\">HTTP/2</a> protocol to serve resources because it allows multiple requests to be sent at the same time, while HTTP/2 is incompatible with WebSocket, this is ok because the web-app is served from a different server from the API server.</p>\n<h2 id=\"Chain-of-Trust\"><a href=\"#Chain-of-Trust\" class=\"headerlink\" title=\"Chain of Trust\"></a>Chain of Trust</h2><p>Just one corrupted script is enough to render the security of an entire web-app useless, so in CryptPad we needed the signing to cover all javascript files. Fortunately there is a new HTML5 technology called <a href=\"https://developer.mozilla.org/en-US/docs/Web/Security/Subresource_Integrity\" target=\"_blank\" rel=\"external\">Subresource Integrity</a> which allows putting the hash of a script in a script tag attribute and makes the browser verify the script before executing it.</p>\n<p>Insecure, some.website can serve you anything:</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\">&lt;script</div><div class=\"line\">  src=&quot;https://some.website/path/to/script.js&quot;</div><div class=\"line\">&gt;&lt;/script&gt;</div></pre></td></tr></table></figure>\n<p>Secure, only one possible script can be sent by some.website or else the web browser will throw an error and refuse to run the script:</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div></pre></td><td class=\"code\"><pre><div class=\"line\">&lt;script</div><div class=\"line\">  src=&quot;https://some.website/path/to/script.js&quot;</div><div class=\"line\">  integrity=&quot;sha256-G1KwaJYUEDsA1SD/6Wt4z0laskKzIwgqgs5cYH0CW/o=&quot;</div><div class=\"line\">&gt;&lt;/script&gt;</div></pre></td></tr></table></figure>\n<p>So rather than signing every script, I only needed to make a list of hashes of every script, and sign that. What I needed was a way to generate a <em>manifest</em>, and so I developed a small program which could hash all of the javascript files in CryptPad and generate a manifest file. The content of the manifest looks something like this:</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div></pre></td><td class=\"code\"><pre><div class=\"line\">&quot;files&quot;: &#123;</div><div class=\"line\">  &quot;assert&quot;: &#123;</div><div class=\"line\">    &quot;frame&quot;: &#123;</div><div class=\"line\">      &quot;frame.js&quot;: &quot;BrN2JNnK4QJCztw3PyRRPAsEwSq5lczTBrRkzdLAFow=&quot;,</div><div class=\"line\">      &quot;respond.js&quot;: &quot;yO0KFMHiCdE1fXFWPVaFB+Mmh37OCl/UNPpXrYtWF7A=&quot;</div><div class=\"line\">    &#125;,</div><div class=\"line\">    &quot;main.js&quot;: &quot;ABf3uhmYVHWaHX6vhK8K2jAUY8XqRjjMJ2FqXVGLZE0=&quot;,</div><div class=\"line\">    &quot;translations&quot;: &#123;</div><div class=\"line\">      &quot;main.js&quot;: &quot;50Ami2eghyXcGKGYTaDK1vUeEuAEG7kcpvUoCKbUaUU=&quot;</div></pre></td></tr></table></figure>\n<p>It contains a JSON tree which mirrors the files that are part of the CryptPad codebase and the hashes of the files for the Subresource Integrity check. Once the <code>manifest.js</code> file was created, then I needed a javascript file which would load and verify it. Since the manifest is different every time a new release is made, the verification of the manifest needed to be via <em>signing</em>. The manifest hash was signed along with a version number and those were placed in a file called <code>version.txt</code> and <code>version.txt</code> is loaded using a file called <code>sboot.js</code>. The hash of <code>sboot.js</code> was included directly into the html files which are cached, so <code>sboot.js</code> can never be changed at all.</p>\n<h2 id=\"Loading-process\"><a href=\"#Loading-process\" class=\"headerlink\" title=\"Loading process\"></a>Loading process</h2><h3 id=\"index-html\"><a href=\"#index-html\" class=\"headerlink\" title=\"index.html\"></a>index.html</h3><p>First, the browser loads the html file, the html file contains a single script tag loading <code>sboot.js</code></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div></pre></td><td class=\"code\"><pre><div class=\"line\">&lt;script</div><div class=\"line\">  async</div><div class=\"line\">  data-bootload=&quot;/customize/template.js&quot;</div><div class=\"line\">  src=&quot;/common/sboot.js?ver=8IaxCUqjpzoP7AEPEk%2B%2BVQ%2BBk83mRdXx4dK%2BXvSNPcI%3D&quot;</div><div class=\"line\">  integrity=&quot;sha256-8IaxCUqjpzoP7AEPEk++VQ+Bk83mRdXx4dK+XvSNPcI=&quot;</div><div class=\"line\">&gt;&lt;/script&gt;</div></pre></td></tr></table></figure>\n<p>There is a custom attribute called <code>data-bootload</code> which indicates which javascript file should be loaded for that <code>html</code> file.</p>\n<h3 id=\"sboot-js\"><a href=\"#sboot-js\" class=\"headerlink\" title=\"sboot.js\"></a>sboot.js</h3><p>When <code>sboot.js</code> gets loaded, it downloads and then verifies <code>version.txt</code> which is a signed message containing the CryptPad version number and the hash of <code>manifest.js</code>. The content that is signed looks something like this:</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">[85,&quot;h+tOXVmYBWMmiVDylXvnRq28LWRVs6xy+goBwNEELZk=&quot;]</div></pre></td></tr></table></figure>\n<p>The version number (85) is not the CryptPad version but rather an auto-incrementing number which is stored in the browser localStorage and prevents the server from downgrading the version of CryptPad. After the signature/version check completes successfully, <code>sboot.js</code> loads <code>manifest.js</code> like the following:</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\">&lt;script</div><div class=\"line\">  async</div><div class=\"line\">  src=&quot;/customize/manifest.js?ver=h%2BtOXVmYBWMmiVDylXvnRq28LWRVs6xy%2BgoBwNEELZk%3D&quot;</div><div class=\"line\">  integrity=&quot;sha256-h+tOXVmYBWMmiVDylXvnRq28LWRVs6xy+goBwNEELZk=&quot;</div><div class=\"line\">&gt;&lt;/script&gt;</div></pre></td></tr></table></figure>\n<p>You will notice that the hash is used also in the URL of <code>manifest.js</code>, this allows the server to signal that the files are immutable and can be cached by the browser forever which makes CryptPad load faster next time.</p>\n<p>After <code>manifest.js</code> loads, <code>sboot.js</code> finds the hash of <code>require.js</code> in the manifest and then manually loads <code>require.js</code> in the same way. Once <code>require.js</code> is loaded, <code>sboot.js</code> configures require to use the hashes from the manifest for every file it loads, then it uses require to load <code>boot2.js</code>.</p>\n<h3 id=\"boot2-js\"><a href=\"#boot2-js\" class=\"headerlink\" title=\"boot2.js\"></a>boot2.js</h3><p>This file is not needed for security, but unlike <code>sboot.js</code>, it can easily be changed from release to release and it contains any code which should be run before the main CryptPad code. Things such as additional requirejs configuration and shims for missing browser APIs are placed here. After <code>boot2.js</code> is complete, it reads the <code>data-bootload</code> attribute from the html file and invokes require to load that.</p>\n<h2 id=\"Further-development\"><a href=\"#Further-development\" class=\"headerlink\" title=\"Further development\"></a>Further development</h2><p>While this system provides excellent security, it is still not perfect. If the root html file is compromized then it can alter the chain of trust, or scrap it completely. With a very long cache header, the browser will store the html file essentially forever, but if the user triggers a hard reload with the F5 key, then the cache will be flushed.</p>\n<p>The root html file can be signed using pgp and then verified using the <a href=\"https://github.com/tasn/webext-signed-pages\" target=\"_blank\" rel=\"external\">signed pages</a> chrome extension. But signed pages is not able to prevent the loading of the website even if the signature is invalid and it only takes 1 second for the keys in localStorage to be leaked.</p>\n<p>If the root html file was <em>generated</em> by the server each load, it could contain a secret key which is used to encrypt the keys in the localStorage, thus rendering them unusable if the html file is re-loaded, and meaning that the user must re-enter their password and would then be able to see that the signature on the html file is invalid, however unless signed pages can ignore the key inside of the html file when verifying the signature, it would have to be re-signed every time, pushing the pgp key onto the server, which we are worried about being compromized.</p>\n<p>There are also a number of configuration files in the CryptPad project which are in fact javascript files and would thus be signed by the release manager, preventing anyone hosting CryptPad from changing them so it may be a long time before this project is merged into CryptPad mainline, however it is available and you can experiment with it by checking out the <a href=\"https://github.com/xwiki-labs/cryptpad/tree/code-integrity\" target=\"_blank\" rel=\"external\">code-integrity</a> branch of the CryptPad project.</p>\n","excerpt":"","more":"<p>CryptPad was designed with a view that privacy should be default and cryptography should be invisible. In order to do this, we made use of the web-app model so people could just go to cryptpad.fr and immediately begin using the app, no installation necessary. However, this model has a known flaw, the server can decide what client-side code it will send to any given user, allowing a compromized server to serve code with a back-door vulnerability.</p>\n<p>Recently, I did an experiment to make CryptPad more secure against these types of attacks by signing the code. CryptPad is a unique webapp, even without considering the encryption aspect. There is no build system, the code we write is exactly the same as what your web browser runs. All of the CryptPad html, javascript and resources are static files which are served by a plain old web server. The data persistance is managed by an API server which the web browser communicates with using an HTML5 WebSocket. Finally, in order to add a layer of security against possible Cross Site Scripting attacks, CryptPad makes use of a <a href=\"https://blog.cryptpad.fr/2017/08/30/CryptPad-s-new-Secure-Cross-Domain-Iframe/\">cross domain iframe</a>, protecting your encryption keys from the majority of the CryptPad code in the same way that your online bank is protected from that sketchy porn site open in another tab.</p>\n<p>Since CryptPad has no build system, there are many small javascript files which must be loaded. To do this, CryptPad uses <a href=\"http://requirejs.org/\">RequireJS</a>. While many small files are generally considered to be bad for website performance, RequireJS uses the HTML5 <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTML/Element/script\">async attribute</a> to tell the browser not to block loading of other things while waiting for the scripts to load. Secondly, RequireJS also allows version numbers to be added to the script URLs which allows us to cache almost everything in the browser. Finally, we use the <a href=\"https://en.wikipedia.org/wiki/HTTP/2\">HTTP/2</a> protocol to serve resources because it allows multiple requests to be sent at the same time, while HTTP/2 is incompatible with WebSocket, this is ok because the web-app is served from a different server from the API server.</p>\n<h2 id=\"Chain-of-Trust\"><a href=\"#Chain-of-Trust\" class=\"headerlink\" title=\"Chain of Trust\"></a>Chain of Trust</h2><p>Just one corrupted script is enough to render the security of an entire web-app useless, so in CryptPad we needed the signing to cover all javascript files. Fortunately there is a new HTML5 technology called <a href=\"https://developer.mozilla.org/en-US/docs/Web/Security/Subresource_Integrity\">Subresource Integrity</a> which allows putting the hash of a script in a script tag attribute and makes the browser verify the script before executing it.</p>\n<p>Insecure, some.website can serve you anything:</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\">&lt;script</div><div class=\"line\">  src=&quot;https://some.website/path/to/script.js&quot;</div><div class=\"line\">&gt;&lt;/script&gt;</div></pre></td></tr></table></figure>\n<p>Secure, only one possible script can be sent by some.website or else the web browser will throw an error and refuse to run the script:</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div></pre></td><td class=\"code\"><pre><div class=\"line\">&lt;script</div><div class=\"line\">  src=&quot;https://some.website/path/to/script.js&quot;</div><div class=\"line\">  integrity=&quot;sha256-G1KwaJYUEDsA1SD/6Wt4z0laskKzIwgqgs5cYH0CW/o=&quot;</div><div class=\"line\">&gt;&lt;/script&gt;</div></pre></td></tr></table></figure>\n<p>So rather than signing every script, I only needed to make a list of hashes of every script, and sign that. What I needed was a way to generate a <em>manifest</em>, and so I developed a small program which could hash all of the javascript files in CryptPad and generate a manifest file. The content of the manifest looks something like this:</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div></pre></td><td class=\"code\"><pre><div class=\"line\">&quot;files&quot;: &#123;</div><div class=\"line\">  &quot;assert&quot;: &#123;</div><div class=\"line\">    &quot;frame&quot;: &#123;</div><div class=\"line\">      &quot;frame.js&quot;: &quot;BrN2JNnK4QJCztw3PyRRPAsEwSq5lczTBrRkzdLAFow=&quot;,</div><div class=\"line\">      &quot;respond.js&quot;: &quot;yO0KFMHiCdE1fXFWPVaFB+Mmh37OCl/UNPpXrYtWF7A=&quot;</div><div class=\"line\">    &#125;,</div><div class=\"line\">    &quot;main.js&quot;: &quot;ABf3uhmYVHWaHX6vhK8K2jAUY8XqRjjMJ2FqXVGLZE0=&quot;,</div><div class=\"line\">    &quot;translations&quot;: &#123;</div><div class=\"line\">      &quot;main.js&quot;: &quot;50Ami2eghyXcGKGYTaDK1vUeEuAEG7kcpvUoCKbUaUU=&quot;</div></pre></td></tr></table></figure>\n<p>It contains a JSON tree which mirrors the files that are part of the CryptPad codebase and the hashes of the files for the Subresource Integrity check. Once the <code>manifest.js</code> file was created, then I needed a javascript file which would load and verify it. Since the manifest is different every time a new release is made, the verification of the manifest needed to be via <em>signing</em>. The manifest hash was signed along with a version number and those were placed in a file called <code>version.txt</code> and <code>version.txt</code> is loaded using a file called <code>sboot.js</code>. The hash of <code>sboot.js</code> was included directly into the html files which are cached, so <code>sboot.js</code> can never be changed at all.</p>\n<h2 id=\"Loading-process\"><a href=\"#Loading-process\" class=\"headerlink\" title=\"Loading process\"></a>Loading process</h2><h3 id=\"index-html\"><a href=\"#index-html\" class=\"headerlink\" title=\"index.html\"></a>index.html</h3><p>First, the browser loads the html file, the html file contains a single script tag loading <code>sboot.js</code></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div></pre></td><td class=\"code\"><pre><div class=\"line\">&lt;script</div><div class=\"line\">  async</div><div class=\"line\">  data-bootload=&quot;/customize/template.js&quot;</div><div class=\"line\">  src=&quot;/common/sboot.js?ver=8IaxCUqjpzoP7AEPEk%2B%2BVQ%2BBk83mRdXx4dK%2BXvSNPcI%3D&quot;</div><div class=\"line\">  integrity=&quot;sha256-8IaxCUqjpzoP7AEPEk++VQ+Bk83mRdXx4dK+XvSNPcI=&quot;</div><div class=\"line\">&gt;&lt;/script&gt;</div></pre></td></tr></table></figure>\n<p>There is a custom attribute called <code>data-bootload</code> which indicates which javascript file should be loaded for that <code>html</code> file.</p>\n<h3 id=\"sboot-js\"><a href=\"#sboot-js\" class=\"headerlink\" title=\"sboot.js\"></a>sboot.js</h3><p>When <code>sboot.js</code> gets loaded, it downloads and then verifies <code>version.txt</code> which is a signed message containing the CryptPad version number and the hash of <code>manifest.js</code>. The content that is signed looks something like this:</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">[85,&quot;h+tOXVmYBWMmiVDylXvnRq28LWRVs6xy+goBwNEELZk=&quot;]</div></pre></td></tr></table></figure>\n<p>The version number (85) is not the CryptPad version but rather an auto-incrementing number which is stored in the browser localStorage and prevents the server from downgrading the version of CryptPad. After the signature/version check completes successfully, <code>sboot.js</code> loads <code>manifest.js</code> like the following:</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\">&lt;script</div><div class=\"line\">  async</div><div class=\"line\">  src=&quot;/customize/manifest.js?ver=h%2BtOXVmYBWMmiVDylXvnRq28LWRVs6xy%2BgoBwNEELZk%3D&quot;</div><div class=\"line\">  integrity=&quot;sha256-h+tOXVmYBWMmiVDylXvnRq28LWRVs6xy+goBwNEELZk=&quot;</div><div class=\"line\">&gt;&lt;/script&gt;</div></pre></td></tr></table></figure>\n<p>You will notice that the hash is used also in the URL of <code>manifest.js</code>, this allows the server to signal that the files are immutable and can be cached by the browser forever which makes CryptPad load faster next time.</p>\n<p>After <code>manifest.js</code> loads, <code>sboot.js</code> finds the hash of <code>require.js</code> in the manifest and then manually loads <code>require.js</code> in the same way. Once <code>require.js</code> is loaded, <code>sboot.js</code> configures require to use the hashes from the manifest for every file it loads, then it uses require to load <code>boot2.js</code>.</p>\n<h3 id=\"boot2-js\"><a href=\"#boot2-js\" class=\"headerlink\" title=\"boot2.js\"></a>boot2.js</h3><p>This file is not needed for security, but unlike <code>sboot.js</code>, it can easily be changed from release to release and it contains any code which should be run before the main CryptPad code. Things such as additional requirejs configuration and shims for missing browser APIs are placed here. After <code>boot2.js</code> is complete, it reads the <code>data-bootload</code> attribute from the html file and invokes require to load that.</p>\n<h2 id=\"Further-development\"><a href=\"#Further-development\" class=\"headerlink\" title=\"Further development\"></a>Further development</h2><p>While this system provides excellent security, it is still not perfect. If the root html file is compromized then it can alter the chain of trust, or scrap it completely. With a very long cache header, the browser will store the html file essentially forever, but if the user triggers a hard reload with the F5 key, then the cache will be flushed.</p>\n<p>The root html file can be signed using pgp and then verified using the <a href=\"https://github.com/tasn/webext-signed-pages\">signed pages</a> chrome extension. But signed pages is not able to prevent the loading of the website even if the signature is invalid and it only takes 1 second for the keys in localStorage to be leaked.</p>\n<p>If the root html file was <em>generated</em> by the server each load, it could contain a secret key which is used to encrypt the keys in the localStorage, thus rendering them unusable if the html file is re-loaded, and meaning that the user must re-enter their password and would then be able to see that the signature on the html file is invalid, however unless signed pages can ignore the key inside of the html file when verifying the signature, it would have to be re-signed every time, pushing the pgp key onto the server, which we are worried about being compromized.</p>\n<p>There are also a number of configuration files in the CryptPad project which are in fact javascript files and would thus be signed by the release manager, preventing anyone hosting CryptPad from changing them so it may be a long time before this project is merged into CryptPad mainline, however it is available and you can experiment with it by checking out the <a href=\"https://github.com/xwiki-labs/cryptpad/tree/code-integrity\">code-integrity</a> branch of the CryptPad project.</p>\n"}],"PostAsset":[],"PostCategory":[],"PostTag":[{"post_id":"cjjttvqzi00007ezfjbuqn81j","tag_id":"cjjttvqzo00027ezf7lf7au0h","_id":"cjjttvqzw00077ezf62f6q32e"},{"post_id":"cjjttvqzm00017ezftjyl1j9b","tag_id":"cjjttvqzw00067ezfk3lu3cj0","_id":"cjjttvr08000i7ezff5nvg8d8"},{"post_id":"cjjttvqzm00017ezftjyl1j9b","tag_id":"cjjttvr01000a7ezfmsnz15kv","_id":"cjjttvr09000k7ezf6z1sb7fb"},{"post_id":"cjjttvqzm00017ezftjyl1j9b","tag_id":"cjjttvr03000d7ezfr2uxwcnw","_id":"cjjttvr0b000n7ezfy5hqcmeb"},{"post_id":"cjjttvqzq00037ezfo1fullht","tag_id":"cjjttvr07000g7ezfx693cqp5","_id":"cjjttvr0h000v7ezfjzzobwry"},{"post_id":"cjjttvqzq00037ezfo1fullht","tag_id":"cjjttvr0a000m7ezfd2rtrgqj","_id":"cjjttvr0i000w7ezf27ecmz44"},{"post_id":"cjjttvqzq00037ezfo1fullht","tag_id":"cjjttvr0e000q7ezfysixx4xk","_id":"cjjttvr0j000y7ezf7ipp2pyu"},{"post_id":"cjjttvqzq00037ezfo1fullht","tag_id":"cjjttvr0g000t7ezfh62enjef","_id":"cjjttvr0k000z7ezfiag9tm8q"},{"post_id":"cjjttvqzs00047ezffu1nf6gl","tag_id":"cjjttvr0h000u7ezfq8tqmbxo","_id":"cjjttvr0l00117ezfgnsedq15"},{"post_id":"cjjttvqzs00047ezffu1nf6gl","tag_id":"cjjttvr0j000x7ezf6mpckbpl","_id":"cjjttvr0l00127ezfooldcy7s"},{"post_id":"cjjttvqzu00057ezf2lfy42j2","tag_id":"cjjttvr0k00107ezf58864z25","_id":"cjjttvr0m00157ezfrusmm33b"},{"post_id":"cjjttvqzu00057ezf2lfy42j2","tag_id":"cjjttvr0l00137ezfkq84y4db","_id":"cjjttvr0m00167ezflzipw9ln"},{"post_id":"cjjttvqzw00087ezfvomnihtf","tag_id":"cjjttvr0l00147ezfcya81mac","_id":"cjjttvr0n001a7ezf2v6duzfi"},{"post_id":"cjjttvqzw00087ezfvomnihtf","tag_id":"cjjttvr0m00177ezfjgogdkqb","_id":"cjjttvr0n001b7ezfvczot8fc"},{"post_id":"cjjttvqzw00087ezfvomnihtf","tag_id":"cjjttvr0m00187ezfnyh5rhd3","_id":"cjjttvr0o001d7ezf88yg0fva"},{"post_id":"cjjttvqzx00097ezfq09iy5ty","tag_id":"cjjttvr0m00197ezfgo800buo","_id":"cjjttvr0p001e7ezfi4qtmkhk"},{"post_id":"cjjttvr01000b7ezf3p40tat8","tag_id":"cjjttvr0l00147ezfcya81mac","_id":"cjjttvr0q001j7ezfmx2mexn7"},{"post_id":"cjjttvr01000b7ezf3p40tat8","tag_id":"cjjttvr0p001f7ezfk33o049k","_id":"cjjttvr0q001k7ezfh5ugoed8"},{"post_id":"cjjttvr01000b7ezf3p40tat8","tag_id":"cjjttvr0p001g7ezfg3fjoq6k","_id":"cjjttvr0q001m7ezfs42zd6gy"},{"post_id":"cjjttvr01000b7ezf3p40tat8","tag_id":"cjjttvr0p001h7ezf9o5k0llk","_id":"cjjttvr0q001n7ezffk0tvaur"},{"post_id":"cjjttvr02000c7ezftehfwfsu","tag_id":"cjjttvr0q001i7ezft5yi5gfa","_id":"cjjttvr0r001p7ezfycib5pg9"},{"post_id":"cjjttvr02000c7ezftehfwfsu","tag_id":"cjjttvr0q001l7ezfjrjquunh","_id":"cjjttvr0r001q7ezfs2art2yj"},{"post_id":"cjjttvr03000e7ezfe87i0ii8","tag_id":"cjjttvr0q001o7ezf5iu09vuz","_id":"cjjttvr0s001u7ezfp978zf5s"},{"post_id":"cjjttvr03000e7ezfe87i0ii8","tag_id":"cjjttvr0r001r7ezfaq6ihvcc","_id":"cjjttvr0s001v7ezf4utt2lo6"},{"post_id":"cjjttvr03000e7ezfe87i0ii8","tag_id":"cjjttvr0r001s7ezfag90yyi4","_id":"cjjttvr0s001x7ezf30uqzng4"},{"post_id":"cjjttvr04000f7ezfwi718rxu","tag_id":"cjjttvr0r001t7ezf71zif0pj","_id":"cjjttvr0s001z7ezfgxr04nbk"},{"post_id":"cjjttvr04000f7ezfwi718rxu","tag_id":"cjjttvr0q001l7ezfjrjquunh","_id":"cjjttvr0t00207ezfzqn2aqro"},{"post_id":"cjjttvr09000j7ezffe0zq51w","tag_id":"cjjttvqzo00027ezf7lf7au0h","_id":"cjjttvr0t00237ezfhjc4e1jy"},{"post_id":"cjjttvr09000j7ezffe0zq51w","tag_id":"cjjttvr0l00147ezfcya81mac","_id":"cjjttvr0u00247ezfaz8z82mx"},{"post_id":"cjjttvr09000j7ezffe0zq51w","tag_id":"cjjttvr0t00217ezfdfvylk1w","_id":"cjjttvr0u00267ezf01w46v3a"},{"post_id":"cjjttvr09000l7ezftghwjgn8","tag_id":"cjjttvr0l00147ezfcya81mac","_id":"cjjttvr0w00287ezfmnpofe8n"},{"post_id":"cjjttvr09000l7ezftghwjgn8","tag_id":"cjjttvr0u00257ezf5md43vl3","_id":"cjjttvr0w00297ezfr8a0a6w2"},{"post_id":"cjjttvr0b000o7ezfsh0iw1qk","tag_id":"cjjttvr0k00107ezf58864z25","_id":"cjjttvr0w002b7ezfmwdzbksq"},{"post_id":"cjjttvr0d000p7ezfzrk60quk","tag_id":"cjjttvr0k00107ezf58864z25","_id":"cjjttvr0x002e7ezfv84hho0c"},{"post_id":"cjjttvr0d000p7ezfzrk60quk","tag_id":"cjjttvr0l00147ezfcya81mac","_id":"cjjttvr0x002f7ezfm69pmaf1"},{"post_id":"cjjttvr0e000r7ezfpp7i14wh","tag_id":"cjjttvr0x002d7ezf40hdvwdc","_id":"cjjttvr0y002i7ezfl2aqprwr"},{"post_id":"cjjttvr0e000r7ezfpp7i14wh","tag_id":"cjjttvr0x002g7ezf98at8enn","_id":"cjjttvr0y002j7ezfn7jjx108"},{"post_id":"cjjttvr0f000s7ezfzx3ptg38","tag_id":"cjjttvr0y002h7ezfsw8yu2jt","_id":"cjjttvr0z002m7ezfg2r8wazz"},{"post_id":"cjjttvr0f000s7ezfzx3ptg38","tag_id":"cjjttvr0y002k7ezf7k4tsvsj","_id":"cjjttvr0z002n7ezfv3spvfr0"},{"post_id":"cjjttvr0f000s7ezfzx3ptg38","tag_id":"cjjttvr0y002l7ezfongrdvc2","_id":"cjjttvr0z002o7ezf7aprf8a4"},{"post_id":"cjjttvr1c002p7ezfs1ufjoce","tag_id":"cjjttvr1g002q7ezf0ut5ukev","_id":"cjjttvr1i002t7ezf3sob0g0q"},{"post_id":"cjjttvr1c002p7ezfs1ufjoce","tag_id":"cjjttvr1h002r7ezfmdu22qh2","_id":"cjjttvr1i002u7ezfq60dwqd0"},{"post_id":"cjjttvr1c002p7ezfs1ufjoce","tag_id":"cjjttvr1h002s7ezf3guh6yig","_id":"cjjttvr1i002v7ezfr96o0tfc"}],"Tag":[{"name":"release","_id":"cjjttvqzo00027ezf7lf7au0h"},{"name":"open source","_id":"cjjttvqzw00067ezfk3lu3cj0"},{"name":"cloud","_id":"cjjttvr01000a7ezfmsnz15kv"},{"name":"ethics","_id":"cjjttvr03000d7ezfr2uxwcnw"},{"name":"pdf","_id":"cjjttvr07000g7ezfx693cqp5"},{"name":"file","_id":"cjjttvr0a000m7ezfd2rtrgqj"},{"name":"upload","_id":"cjjttvr0e000q7ezfysixx4xk"},{"name":"embed","_id":"cjjttvr0g000t7ezfh62enjef"},{"name":"Roadmap","_id":"cjjttvr0h000u7ezfq8tqmbxo"},{"name":"Financing","_id":"cjjttvr0j000x7ezf6mpckbpl"},{"name":"zero knowledge","_id":"cjjttvr0k00107ezf58864z25"},{"name":"funding","_id":"cjjttvr0l00137ezfkq84y4db"},{"name":"security","_id":"cjjttvr0l00147ezfcya81mac"},{"name":"extensibility","_id":"cjjttvr0m00177ezfjgogdkqb"},{"name":"quality","_id":"cjjttvr0m00187ezfnyh5rhd3"},{"name":"lulz","_id":"cjjttvr0m00197ezfgo800buo"},{"name":"appstore","_id":"cjjttvr0p001f7ezfk33o049k"},{"name":"iframe","_id":"cjjttvr0p001g7ezfg3fjoq6k"},{"name":"media-tag","_id":"cjjttvr0p001h7ezf9o5k0llk"},{"name":"donate","_id":"cjjttvr0q001i7ezft5yi5gfa"},{"name":"financing","_id":"cjjttvr0q001l7ezfjrjquunh"},{"name":"WebWorker","_id":"cjjttvr0q001o7ezf5iu09vuz"},{"name":"SharedWorker","_id":"cjjttvr0r001r7ezfaq6ihvcc"},{"name":"Performance","_id":"cjjttvr0r001s7ezfag90yyi4"},{"name":"research","_id":"cjjttvr0r001t7ezf71zif0pj"},{"name":"roadmap","_id":"cjjttvr0t00217ezfdfvylk1w"},{"name":"xss","_id":"cjjttvr0u00257ezf5md43vl3"},{"name":"login","_id":"cjjttvr0x002d7ezf40hdvwdc"},{"name":"storage","_id":"cjjttvr0x002g7ezf98at8enn"},{"name":"analytics","_id":"cjjttvr0y002h7ezfsw8yu2jt"},{"name":"data","_id":"cjjttvr0y002k7ezf7k4tsvsj"},{"name":"privacy","_id":"cjjttvr0y002l7ezfongrdvc2"},{"name":"signing","_id":"cjjttvr1g002q7ezf0ut5ukev"},{"name":"subresource integrity","_id":"cjjttvr1h002r7ezfmdu22qh2"},{"name":"chain of trust","_id":"cjjttvr1h002s7ezf3guh6yig"}]}}