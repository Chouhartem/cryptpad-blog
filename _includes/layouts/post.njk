
{% set previousPost = collections.all | getPreviousCollectionItem(page) %}
{% set nextPost = collections.all | getNextCollectionItem(page) %}

{% extends "layouts/main.njk" %}

{% if cover %}
    {% set cover = cover %}
{% else %}
    {% set cover = site.image %}
{% endif %}

{% block head %}
    {{ seo.og_tags(
        title= title,
        url= site.url + page.url,
        desc= summary,
        image= site.url + cover
    ) }}
{% endblock %}

{% block content %}
    <article class="post">
        <h1>{{title}}</h1>
        <p class="meta">
            {% if author %}
                By: {{ author }}
            {% endif %}
                {# XXX add date #}
                {# XXX TODO TBC add Mastodon share button? #}
                {# https://github.com/Aly-ve/Mastodon-share-button #}
        </p>
        {{ content | safe }}
    </article>

    <nav class="article-pagination" aria-label="Pagination">
        {% if nextPost %}
            <a href="{{ nextPost.url }}">Newer: <span class="title">{{ nextPost.data.title }}</span></a>
        {% endif %}
        {% if previousPost %}
            <a href="{{ previousPost.url }}">Older: <span class="title">{{ previousPost.data.title }}</span></a>
        {% endif %}
    </nav>
{% endblock %}

